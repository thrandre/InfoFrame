function jsonPath(obj,expr,arg){var P={resultType:arg&&arg.resultType||"VALUE",result:[],normalize:function(t){var e=[];return t.replace(/[\['](\??\(.*?\))[\]']/g,function(t,n){return"[#"+(e.push(n)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(t,n){return e[n]})},asPath:function(t){for(var e=t.split(";"),n="$",r=1,i=e.length;i>r;r++)n+=/^[0-9*]+$/.test(e[r])?"["+e[r]+"]":"['"+e[r]+"']";return n},store:function(t,e){return t&&(P.result[P.result.length]="PATH"==P.resultType?P.asPath(t):e),!!t},trace:function(t,e,n){if(t){var r=t.split(";"),i=r.shift();if(r=r.join(";"),e&&e.hasOwnProperty(i))P.trace(r,e[i],n+";"+i);else if("*"===i)P.walk(i,r,e,n,function(t,e,n,r,i){P.trace(t+";"+n,r,i)});else if(".."===i)P.trace(r,e,n),P.walk(i,r,e,n,function(t,e,n,r,i){"object"==typeof r[t]&&P.trace("..;"+n,r[t],i+";"+t)});else if(/,/.test(i))for(var s=i.split(/'?,'?/),a=0,o=s.length;o>a;a++)P.trace(s[a]+";"+r,e,n);else/^\(.*?\)$/.test(i)?P.trace(P.eval(i,e,n.substr(n.lastIndexOf(";")+1))+";"+r,e,n):/^\?\(.*?\)$/.test(i)?P.walk(i,r,e,n,function(t,e,n,r,i){P.eval(e.replace(/^\?\((.*?)\)$/,"$1"),r[t],t)&&P.trace(t+";"+n,r,i)}):/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(i)&&P.slice(i,r,e,n)}else P.store(n,e)},walk:function(t,e,n,r,i){if(n instanceof Array)for(var s=0,a=n.length;a>s;s++)s in n&&i(s,t,e,n,r);else if("object"==typeof n)for(var o in n)n.hasOwnProperty(o)&&i(o,t,e,n,r)},slice:function(t,e,n,r){if(n instanceof Array){var i=n.length,s=0,a=i,o=1;t.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(t,e,n,r){s=parseInt(e||s),a=parseInt(n||a),o=parseInt(r||o)}),s=0>s?Math.max(0,s+i):Math.min(i,s),a=0>a?Math.max(0,a+i):Math.min(i,a);for(var u=s;a>u;u+=o)P.trace(u+";"+e,n,r)}},eval:function(x,_v,_vname){try{return $&&_v&&eval(x.replace(/@/g,"_v"))}catch(e){throw new SyntaxError("jsonPath: "+e.message+": "+x.replace(/@/g,"_v").replace(/\^/g,"_a"))}}},$=obj;return expr&&obj&&("VALUE"==P.resultType||"PATH"==P.resultType)?(P.trace(P.normalize(expr).replace(/^\$;/,""),obj,"$"),P.result.length?P.result:!1):void 0}"undefined"==typeof ICAL&&("object"==typeof exports?ICAL=exports:"undefined"!=typeof window?this.ICAL={}:ICAL={}),ICAL.foldLength=75,ICAL.newLineChar="\r\n",ICAL.helpers={initState:function(t,e){return{buffer:t,line:t,lineNr:e,character:0,currentData:null,parentData:[]}},initComponentData:function(t){return{name:t,type:"COMPONENT",value:[]}},isStrictlyNaN:function(t){return"number"==typeof t&&isNaN(t)},strictParseInt:function(t){var e=parseInt(t,10);if(ICAL.helpers.isStrictlyNaN(e))throw new Error('Could not extract integer from "'+t+'"');return e},formatClassType:function(t,e){return"undefined"==typeof t?void 0:t instanceof e?t:new e(t)},unescapedIndexOf:function(t,e,n){for(;-1!==(n=t.indexOf(e,n));){if(!(n>0&&"\\"===t[n-1]))return n;n+=1}return-1},binsearchInsert:function(t,e,n){if(!t.length)return 0;for(var r,i,s=0,a=t.length-1;a>=s;)if(r=s+Math.floor((a-s)/2),i=n(e,t[r]),0>i)a=r-1;else{if(!(i>0))break;s=r+1}return 0>i?r:i>0?r+1:r},dumpn:function(){return ICAL.debug?(ICAL.helpers.dumpn="undefined"!=typeof console&&"log"in console?function(t){return console.log(t)}:function(t){dump(t+"\n")},ICAL.helpers.dumpn(arguments[0])):null},mixin:function(t,e){if(e)for(var n in e)t[n]=e[n];return t},isArray:function(t){return t&&(t instanceof Array||"array"==typeof t)},clone:function(t,e){if(t&&"object"==typeof t){if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(ICAL.helpers.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(e?ICAL.helpers.clone(t[r],!0):t[r]);return n}var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e?ICAL.helpers.clone(t[i],!0):t[i]);return n}return t},unfoldline:function(t){for(var e=!0,n="";e;){e=!1;var r=t.buffer.search(/\r?\n/);if(r>-1){var i="\r"==t.buffer[r]?2:1,s=t.buffer.substr(r+i,1);s.match(/^[ \t]$/)?(e=!0,n+=t.buffer.substr(0,r),t.buffer=t.buffer.substr(r+i+1)):(n+=t.buffer.substr(0,r),t.buffer=t.buffer.substr(r+i))}else n+=t.buffer,t.buffer=""}return n},foldline:function(t){for(var e="",n=t||"";n.length;)e+=ICAL.newLineChar+" "+n.substr(0,ICAL.foldLength),n=n.substr(ICAL.foldLength);return e.substr(ICAL.newLineChar.length+1)},ensureKeyExists:function(t,e,n){e in t||(t[e]=n)},hasKey:function(t,e){return t&&e in t&&t[e]},pad2:function(t){"string"!=typeof t&&("number"==typeof t&&(t=parseInt(t)),t=String(t));var e=t.length;switch(e){case 0:return"00";case 1:return"0"+t;default:return t}},trunc:function(t){return 0>t?Math.ceil(t):Math.floor(t)}},"undefined"==typeof ICAL?ICAL={}:"",ICAL.design=function(){"use strict";function t(){Error.apply(this,arguments)}function e(t){switch(t){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return"\n";default:return t}}function n(t){return-1===t.indexOf("\\")?t:t.replace(i,e)}function r(t,e){var n=e.indexOf("UNTIL=");if(-1===n)return e;n+=6;var r,i,a=e.substr(0,n),o=e.indexOf(";",n);return-1===o?(r="",i=e.substr(n)):(r=e.substr(o),i=e.substr(n,o-n)),i=i.length>10?s.value["date-time"][t](i):s.value.date[t](i),a+i+r}var i=/\\\\|\\;|\\,|\\[Nn]/g;t.prototype={__proto__:Error.prototype};var s={DecorationError:t,defaultType:"text",param:{cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:","},"delegated-to":{valueType:"cal-address",multiValue:","},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:","},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISLANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{valueType:"boolean"},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},value:{binary:{decorate:function(t){return ICAL.Binary.fromString(t)},undecorate:function(t){return t.toString()}},"boolean":{values:["TRUE","FALSE"],fromICAL:function(t){switch(t){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(t){return t?"TRUE":"FALSE"}},"cal-address":{},date:{decorate:function(t,e){return ICAL.Time.fromDateString(t,e)},undecorate:function(t){return t.toString()},fromICAL:function(t){var e=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2);return"Z"===t[8]&&(e+="Z"),e},toICAL:function(t){if(t.length>11)return t;var e=t.substr(0,4)+t.substr(5,2)+t.substr(8,2);return"Z"===t[10]&&(e+="Z"),e}},"date-time":{fromICAL:function(t){var e=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+"T"+t.substr(9,2)+":"+t.substr(11,2)+":"+t.substr(13,2);return"Z"===t[15]&&(e+="Z"),e},toICAL:function(t){if(t.length<19)return t;var e=t.substr(0,4)+t.substr(5,2)+t.substr(8,5)+t.substr(14,2)+t.substr(17,2);return"Z"===t[19]&&(e+="Z"),e},decorate:function(t,e){return ICAL.Time.fromDateTimeString(t,e)},undecorate:function(t){return t.toString()}},duration:{decorate:function(t){return ICAL.Duration.fromString(t)},undecorate:function(t){return t.toString()}},"float":{matches:/^[+-]?\d+\.\d+$/,decorate:function(t){return ICAL.Value.fromString(t,"float")},fromICAL:function(t){var e=parseFloat(t);return ICAL.helpers.isStrictlyNaN(e)?0:e},toICAL:function(t){return String(t)}},integer:{fromICAL:function(t){var e=parseInt(t);return ICAL.helpers.isStrictlyNaN(e)?0:e},toICAL:function(t){return String(t)}},period:{fromICAL:function(t){var e=t.split("/"),n=s.value["date-time"].fromICAL(e[0])+"/";return n+=ICAL.Duration.isValueString(e[1])?e[1]:s.value["date-time"].fromICAL(e[1])},toICAL:function(t){var e=t.split("/"),n=s.value["date-time"].toICAL(e[0])+"/";return n+=ICAL.Duration.isValueString(e[1])?e[1]:s.value["date-time"].toICAL(e[1])},decorate:function(t,e){return ICAL.Period.fromString(t,e)},undecorate:function(t){return t.toString()}},recur:{fromICAL:r.bind(this,"fromICAL"),toICAL:r.bind(this,"toICAL"),decorate:function(t){return ICAL.Recur.fromString(t)},undecorate:function(t){return t.toString()}},text:{matches:/.*/,fromICAL:function(t){return n(t)},toICAL:function(t){return t.replace(/\\|;|,|\n/g,function(t){switch(t){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case"\n":return"\\n";default:return t}})}},time:{fromICAL:function(t){if(t.length<6)return t;var e=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2);return"Z"===t[6]&&(e+="Z"),e},toICAL:function(t){if(t.length<8)return t;var e=t.substr(0,2)+t.substr(3,2)+t.substr(6,2);return"Z"===t[8]&&(e+="Z"),e}},uri:{},"utc-offset":{toICAL:function(t){return t.length<7?t.substr(0,3)+t.substr(4,2):t.substr(0,3)+t.substr(4,2)+t.substr(7,2)},fromICAL:function(t){return t.length<6?t.substr(0,3)+":"+t.substr(3,2):t.substr(0,3)+":"+t.substr(3,2)+":"+t.substr(5,2)},decorate:function(t){return ICAL.UtcOffset.fromString(t)},undecorate:function(t){return t.toString()}}},property:{decorate:function(t,e){return new ICAL.Property(t,e)},attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},categories:{defaultType:"text",multiValue:","},completed:{defaultType:"date-time"},created:{defaultType:"date-time"},dtend:{defaultType:"date-time",allowedTypes:["date-time","date"]},dtstamp:{defaultType:"date-time"},dtstart:{defaultType:"date-time",allowedTypes:["date-time","date"]},due:{defaultType:"date-time",allowedTypes:["date-time","date"]},duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:{defaultType:"recur"},freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",multiValue:";"},"last-modified":{defaultType:"date-time"},organizer:{defaultType:"cal-address"},"percent-complete":{defaultType:"integer"},repeat:{defaultType:"integer"},rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(t){return-1!==t.indexOf("/")?"period":-1===t.indexOf("T")?"date":"date-time"}},"recurrence-id":{defaultType:"date-time",allowedTypes:["date-time","date"]},resources:{defaultType:"text",multiValue:","},"request-status":{defaultType:"text",multiValue:";"},priority:{defaultType:"integer"},rrule:{defaultType:"recur"},sequence:{defaultType:"integer"},trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:{defaultType:"utc-offset"},tzoffsetto:{defaultType:"utc-offset"},tzurl:{defaultType:"uri"},url:{defaultType:"uri"}},component:{decorate:function(t,e){return new ICAL.Component(t,e)},vevent:{}}};return s}(),ICAL.stringify=function(){"use strict";function t(n){if(!n[0]||"icalendar"!==n[0])throw new Error("must provide full jCal document");for(var r=1,i=n.length,s="";i>r;r++)s+=t.component(n[r])+e;return s}var e="\r\n",n="text",r=ICAL.design,i=ICAL.helpers;return t.component=function(n){for(var r=n[0].toUpperCase(),i="BEGIN:"+r+e,s=n[1],a=0,o=s.length;o>a;a++)i+=t.property(s[a])+e;for(var u=n[2],l=0,h=u.length;h>l;l++)i+=t.component(u[l])+e;return i+="END:"+r},t.property=function(e){var i,s=e[0].toUpperCase(),a=e[0],o=e[1],u=s;for(i in o)o.hasOwnProperty(i)&&(u+=";"+i.toUpperCase(),u+="="+t.propertyValue(o[i]));if(3===e.length)return i||(u+=":"),u;var l,h=e[2],c=!1,f=!1;return a in r.property?(l=r.property[a],"multiValue"in l&&(c=l.multiValue),"defaultType"in l?h===l.defaultType&&(f=!0):h===n&&(f=!0)):h===n&&(f=!0),f||(u+=";VALUE="+h.toUpperCase()),u+=":",u+=c?t.multiValue(e.slice(3),c,h):t.value(e[3],h),ICAL.helpers.foldline(u)},t.propertyValue=function(t){return-1===i.unescapedIndexOf(t,",")&&-1===i.unescapedIndexOf(t,":")&&-1===i.unescapedIndexOf(t,";")?t:'"'+t+'"'},t.multiValue=function(e,n,r){for(var i="",s=e.length,a=0;s>a;a++)i+=t.value(e[a],r),a!==s-1&&(i+=n);return i},t.value=function(t,e){return e in r.value&&"toICAL"in r.value[e]?r.value[e].toICAL(t):t},t}(),ICAL.parse=function(){"use strict";function t(t){this.message=t;try{throw new Error}catch(e){var n=e.stack.split("\n");n.shift(),this.stack=n.join("\n")}}function e(n){var r={},i=r.component=["icalendar"];if(r.stack=[i],e._eachLine(n,function(t,n){e._handleContentLine(n,r)}),r.stack.length>1)throw new t("invalid ical body. component began but did not end");return r=null,i}var n=/[^ \t]/,r=":",i=";",s="=",a="text",o=ICAL.design,u=ICAL.helpers;return t.prototype={__proto__:Error.prototype},e.ParserError=t,e._formatName=function(t){return t.toLowerCase()},e._handleContentLine=function(n,s){var u,l,h,c,f=n.indexOf(r),d=n.indexOf(i),p={};-1!==d&&-1!==f&&d>f&&(d=-1);var m;if(-1!==d)h=n.substring(0,d).toLowerCase(),m=e._parseParameters(n.substring(d),0),p=m[0],u=m[1].length+m[2]+d,-1!==(l=n.substring(u).indexOf(r))&&(c=n.substring(u+l+1));else{if(-1===f)throw new t('invalid line (no token ";" or ":") "'+n+'"');if(h=n.substring(0,f).toLowerCase(),c=n.substring(f+1),"begin"===h){var y=[c.toLowerCase(),[],[]];return 1===s.stack.length?s.component.push(y):s.component[2].push(y),s.stack.push(s.component),void(s.component=y)}if("end"===h)return void(s.component=s.stack.pop())}var g,v,b=!1;if(h in o.property&&(v=o.property[h],"multiValue"in v&&(b=v.multiValue),c&&"detectType"in v&&(g=v.detectType(c))),g||(g="value"in p?p.value.toLowerCase():v?v.defaultType:a),delete p.value,c)if(b){var x=[h,p,g];e._parseMultiValue(c,b,g,x)}else{c=e._parseValue(c,g);var x=[h,p,g,c]}else var x=[h,p,g];s.component[1].push(x)},e._parseValue=function(t,e){return e in o.value&&"fromICAL"in o.value[e]?o.value[e].fromICAL(t):t},e._parseParameters=function(t,n){for(var l,h,c,f=n,d=0,p=s,m={};d!==!1&&-1!==(d=u.unescapedIndexOf(t,p,d+1));){l=t.substr(f+1,d-f-1);var y=t[d+1];if('"'===y){var g=d+2;d=u.unescapedIndexOf(t,'"',g),h=t.substr(g,d-g),f=u.unescapedIndexOf(t,i,d)}else{var g=d+1,v=u.unescapedIndexOf(t,i,g);-1===v?(v=u.unescapedIndexOf(t,r,g),-1===v&&(v=t.length),d=!1):f=v,h=t.substr(g,v-g)}c=l in o.param&&o.param[l].valueType?o.param[l].valueType:a,m[l.toLowerCase()]=e._parseValue(h,c)}return[m,h,g]},e._parseMultiValue=function(t,n,r,i){for(var s=0,a=0;-1!==(s=u.unescapedIndexOf(t,n,a));){var o=t.substr(a,s-a);i.push(e._parseValue(o,r)),a=s+1}return i.push(e._parseValue(t.substr(a),r)),i},e._eachLine=function(t,e){var r,i,s,a=t.length,o=t.search(n),u=o;do u=t.indexOf("\n",o)+1,s="\r"===t[u-2]?2:1,0===u&&(u=a,s=0),i=t[o]," "===i||"	"===i?r+=t.substr(o+1,u-o-(s+1)):(r&&e(null,r),r=t.substr(o,u-o-s)),o=u;while(u!==a);r=r.trim(),r.length&&e(null,r)},e}(),ICAL.Component=function(){"use strict";function t(t,e){"string"==typeof t&&(t=[t,[],[]]),this.jCal=t,this.parent=e||null}var e=1,n=2,r=0;return t.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[r]},_hydrateComponent:function(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];var r=new t(this.jCal[n][e],this);return this._hydratedComponentCount++,this._components[e]=r},_hydrateProperty:function(t){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[t])return this._properties[t];var n=new ICAL.Property(this.jCal[e][t],this);return this._hydratedPropertyCount++,this._properties[t]=n},getFirstSubcomponent:function(t){if(t){for(var e=0,i=this.jCal[n],s=i.length;s>e;e++)if(i[e][r]===t){var a=this._hydrateComponent(e);return a}}else if(this.jCal[n].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(t){var e=this.jCal[n].length;if(t){for(var i=this.jCal[n],s=[],a=0;e>a;a++)t===i[a][r]&&s.push(this._hydrateComponent(a));return s}if(!this._components||this._hydratedComponentCount!==e)for(var a=0;e>a;a++)this._hydrateComponent(a);return this._components},hasProperty:function(t){for(var n=this.jCal[e],i=n.length,s=0;i>s;s++)if(n[s][r]===t)return!0;return!1},getFirstProperty:function(t){if(t){for(var n=0,i=this.jCal[e],s=i.length;s>n;n++)if(i[n][r]===t){var a=this._hydrateProperty(n);return a}}else if(this.jCal[e].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(t){var e=this.getFirstProperty(t);return e?e.getFirstValue():null},getAllProperties:function(t){var n=this.jCal[e].length;if(t){for(var i=this.jCal[e],s=[],a=0;n>a;a++)t===i[a][r]&&s.push(this._hydrateProperty(a));return s}if(!this._properties||this._hydratedPropertyCount!==n)for(var a=0;n>a;a++)this._hydrateProperty(a);return this._properties},_removeObjectByIndex:function(t,e,n){if(e&&e[n]){var r=e[n];"parent"in r&&(r.parent=null),e.splice(n,1)}this.jCal[t].splice(n,1)},_removeObject:function(t,e,n){var i=0,s=this.jCal[t],a=s.length,o=this[e];if("string"==typeof n){for(;a>i;i++)if(s[i][r]===n)return this._removeObjectByIndex(t,o,i),!0}else if(o)for(;a>i;i++)if(o[i]&&o[i]===n)return this._removeObjectByIndex(t,o,i),!0;return!1},_removeAllObjects:function(t,e,n){for(var i=this[e],s=this.jCal[t],a=s.length-1;a>=0;a--)n&&s[a][r]!==n||this._removeObjectByIndex(t,i,a)},addSubcomponent:function(t){this._components||(this._components=[],this._hydratedComponentCount=0),t.parent&&t.parent.removeSubcomponent(t);var e=this.jCal[n].push(t.jCal);this._components[e-1]=t,this._hydratedComponentCount++,t.parent=this},removeSubcomponent:function(t){var e=this._removeObject(n,"_components",t);return e&&this._hydratedComponentCount--,e},removeAllSubcomponents:function(t){var e=this._removeAllObjects(n,"_components",t);return this._hydratedComponentCount=0,e},addProperty:function(t){if(!(t instanceof ICAL.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),t.parent&&t.parent.removeProperty(t);var n=this.jCal[e].push(t.jCal);this._properties[n-1]=t,this._hydratedPropertyCount++,t.parent=this},addPropertyWithValue:function(t,e){var n=new ICAL.Property(t);return n.setValue(e),this.addProperty(n),n},updatePropertyWithValue:function(t,e){var n=this.getFirstProperty(t);return n?n.setValue(e):n=this.addPropertyWithValue(t,e),n},removeProperty:function(t){var n=this._removeObject(e,"_properties",t);return n&&this._hydratedPropertyCount--,n},removeAllProperties:function(t){var n=this._removeAllObjects(e,"_properties",t);return this._hydratedPropertyCount=0,n},toJSON:function(){return this.jCal},toString:function(){return ICAL.stringify.component(this.jCal)}},t}(),ICAL.Property=function(){"use strict";function t(t,e){if("string"==typeof t){var n=t;if(n in s.property){var r=s.property[n];if("defaultType"in r)var i=r.defaultType;else var i=s.defaultType}else var i=s.defaultType;t=[n,{},i]}this.jCal=t,this.parent=e||null,this._updateType()}var e=0,n=1,r=2,i=3,s=ICAL.design;return t.prototype={get type(){return this.jCal[r]},get name(){return this.jCal[e]},_updateType:function(){if(this.type in s.value){{s.value[this.type]}this.isDecorated="decorate"in s.value[this.type]?!0:!1,this.name in s.property&&(this.isMultiValue="multiValue"in s.property[this.name]?!0:!1)}},_hydrateValue:function(t){return this._values&&this._values[t]?this._values[t]:this.jCal.length<=i+t?null:this.isDecorated?(this._values||(this._values=[]),this._values[t]=this._decorate(this.jCal[i+t])):this.jCal[i+t]},_decorate:function(t){return s.value[this.type].decorate(t,this)},_undecorate:function(t){return s.value[this.type].undecorate(t,this)},_setDecoratedValue:function(t,e){this._values||(this._values=[]),"object"==typeof t&&"icaltype"in t?(this.jCal[i+e]=this._undecorate(t),this._values[e]=t):(this.jCal[i+e]=t,this._values[e]=this._decorate(t))},getParameter:function(t){return this.jCal[n][t]},setParameter:function(t,e){this.jCal[n][t]=e},removeParameter:function(t){return delete this.jCal[n][t]},getDefaultType:function(){var t=this.name;if(t in s.property){var e=s.property[t];if("defaultType"in e)return e.defaultType}return null},resetType:function(t){this.removeAllValues(),this.jCal[r]=t,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var t=this.jCal.length-i;if(1>t)return[];for(var e=0,n=[];t>e;e++)n[e]=this._hydrateValue(e);return n},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(t){if(!this.isMultiValue)throw new Error(this.name+": does not not support mulitValue.\noverride isMultiValue");var e=t.length,n=0;if(this.removeAllValues(),e>0&&"object"==typeof t[0]&&"icaltype"in t[0]&&this.resetType(t[0].icaltype),this.isDecorated)for(;e>n;n++)this._setDecoratedValue(t[n],n);else for(;e>n;n++)this.jCal[i+n]=t[n]},setValue:function(t){this.removeAllValues(),"object"==typeof t&&"icaltype"in t&&this.resetType(t.icaltype),this.isDecorated?this._setDecoratedValue(t,0):this.jCal[i]=t},toJSON:function(){return this.jCal},toICAL:function(){return ICAL.stringify.property(this.jCal)}},t}(),ICAL.UtcOffset=function(){function t(t){this.hours=t.hours,this.minutes=t.minutes,this.factor=t.factor}return t.prototype={hours:null,minutes:null,factor:null,icaltype:"utc-offset",toString:function(){return(1==this.factor?"+":"-")+ICAL.helpers.pad2(this.hours)+":"+ICAL.helpers.pad2(this.minutes)}},t.fromString=function(t){var e={};return e.factor="+"===t[0]?1:-1,e.hours=ICAL.helpers.strictParseInt(t.substr(1,2)),e.minutes=ICAL.helpers.strictParseInt(t.substr(4,2)),new ICAL.UtcOffset(e)},t}(),ICAL.Binary=function(){function t(t){this.value=t}return t.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(t){this.value=this._b64_encode(t)},_b64_encode:function(t){var e,n,r,i,s,a,o,u,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,c=0,f="",d=[];if(!t)return t;do e=t.charCodeAt(h++),n=t.charCodeAt(h++),r=t.charCodeAt(h++),u=e<<16|n<<8|r,i=u>>18&63,s=u>>12&63,a=u>>6&63,o=63&u,d[c++]=l.charAt(i)+l.charAt(s)+l.charAt(a)+l.charAt(o);while(h<t.length);f=d.join("");var p=t.length%3;return(p?f.slice(0,p-3):f)+"===".slice(p||3)},_b64_decode:function(t){var e,n,r,i,s,a,o,u,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,c=0,f="",d=[];if(!t)return t;t+="";do i=l.indexOf(t.charAt(h++)),s=l.indexOf(t.charAt(h++)),a=l.indexOf(t.charAt(h++)),o=l.indexOf(t.charAt(h++)),u=i<<18|s<<12|a<<6|o,e=u>>16&255,n=u>>8&255,r=255&u,d[c++]=64==a?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r);while(h<t.length);return f=d.join("")},toString:function(){return this.value}},t.fromString=function(e){return new t(e)},t}(),"undefined"==typeof ICAL?ICAL={}:"",function(){ICAL.Period=function(t){if(this.wrappedJSObject=this,t&&"start"in t){if(t.start&&!(t.start instanceof ICAL.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=t.start}if(t&&t.end&&t.duration)throw new Error("cannot accept both end and duration");if(t&&"end"in t){if(t.end&&!(t.end instanceof ICAL.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=t.end}if(t&&"duration"in t){if(t.duration&&!(t.duration instanceof ICAL.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=t.duration}},ICAL.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return ICAL.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var t=this.start.clone();return t.addDuration(this.duration),t},toString:function(){return this.start+"/"+(this.end||this.duration)},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},ICAL.Period.fromString=function(t,e){var n=t.split("/");if(2!==n.length)throw new Error('Invalid string value: "'+t+'" must contain a "/" char.');var r={start:ICAL.Time.fromDateTimeString(n[0],e)},i=n[1];return ICAL.Duration.isValueString(i)?r.duration=ICAL.Duration.fromString(i):r.end=ICAL.Time.fromDateTimeString(i,e),new ICAL.Period(r)},ICAL.Period.fromData=function(t){return new ICAL.Period(t)}}(),"undefined"==typeof ICAL?ICAL={}:"",function(){function t(t,e,n){var r;switch(t){case"P":n.isNegative=e&&"-"===e?!0:!1;break;case"D":r="days";break;case"W":r="weeks";break;case"H":r="hours";break;case"M":r="minutes";break;case"S":r="seconds";break;default:return 0}if(r){if(!e&&0!==e)throw new Error('invalid duration value: Missing number before "'+t+'"');var i=parseInt(e,10);if(ICAL.helpers.isStrictlyNaN(i))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+t+'"');n[r]=i}return 1}var e=/([PDWHMTS]{1,1})/;ICAL.Duration=function(t){this.wrappedJSObject=this,this.fromData(t)},ICAL.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return ICAL.Duration.fromData(this)},toSeconds:function(){var t=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-t:t},fromSeconds:function(t){var e=Math.abs(t);return this.isNegative=0>t,this.days=ICAL.helpers.trunc(e/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,e-=86400*(this.days+7*this.weeks),this.hours=ICAL.helpers.trunc(e/3600),e-=3600*this.hours,this.minutes=ICAL.helpers.trunc(e/60),e-=60*this.minutes,this.seconds=e,this},fromData:function(t){var e=["weeks","days","hours","minutes","seconds","isNegative"];for(var n in e){var r=e[n];this[r]=t&&r in t?t[r]:0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(t){var e=this.toSeconds(),n=t.toSeconds();return(e>n)-(n>e)},normalize:function(){return this.fromSeconds(this.toSeconds()),this},toString:function(){if(0==this.toSeconds())return"PT0S";var t="";return this.isNegative&&(t+="-"),t+="P",this.weeks&&(t+=this.weeks+"W"),this.days&&(t+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(t+="T",this.hours&&(t+=this.hours+"H"),this.minutes&&(t+=this.minutes+"M"),this.seconds&&(t+=this.seconds+"S")),t},toICALString:function(){return this.toString()}},ICAL.Duration.fromSeconds=function(t){return(new ICAL.Duration).fromSeconds(t)},ICAL.Duration.isValueString=function(t){return"P"===t[0]||"P"===t[1]},ICAL.Duration.fromString=function(n){for(var r=0,i=Object.create(null),s=0;-1!==(r=n.search(e));){var a=n[r],o=n.substr(0,r);n=n.substr(r+1),s+=t(a,o,i)}if(2>s)throw new Error('invalid duration value: Not enough duration components in "'+n+'"');return new ICAL.Duration(i)},ICAL.Duration.fromData=function(t){return new ICAL.Duration(t)}}(),"undefined"==typeof ICAL?ICAL={}:"",function(){var t=["tzid","location","tznames","latitude","longitude"];ICAL.Timezone=function(t){this.wrappedJSObject=this,this.fromData(t)},ICAL.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof ICAL.Component)this.component=e;else{if(e&&"component"in e)if("string"==typeof e.component){var n=ICAL.parse(e.component);this.component=new ICAL.Component(n[1])}else this.component=e.component instanceof ICAL.Component?e.component:null;for(var r in t){var i=t[r];e&&i in e&&(this[i]=e[i])}}return this.component instanceof ICAL.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(t){if(this==ICAL.Timezone.utcTimezone||this==ICAL.Timezone.localTimezone)return 0;if(this._ensureCoverage(t.year),!this.changes.length)return 0;for(var e={year:t.year,month:t.month,day:t.day,hour:t.hour,minute:t.minute,second:t.second},n=this._findNearbyChange(e),r=-1,i=1;;){var s=ICAL.helpers.clone(this.changes[n],!0);s.utcOffset<s.prevUtcOffset?ICAL.Timezone.adjust_change(s,0,0,0,s.utcOffset):ICAL.Timezone.adjust_change(s,0,0,0,s.prevUtcOffset);var a=ICAL.Timezone._compare_change_fn(e,s);if(a>=0?r=n:i=-1,-1==i&&-1!=r)break;if(n+=i,0>n)return 0;if(n>=this.changes.length)break}var o=this.changes[r],u=o.utcOffset-o.prevUtcOffset;if(0>u&&r>0){var l=ICAL.helpers.clone(o,!0);if(ICAL.Timezone.adjust_change(l,0,0,0,l.prevUtcOffset),ICAL.Timezone._compare_change_fn(e,l)<0){var h=this.changes[r-1],c=!1;o.is_daylight!=c&&h.is_daylight==c&&(o=h)}}return o.utcOffset},_findNearbyChange:function(t){var e=ICAL.helpers.binsearchInsert(this.changes,t,ICAL.Timezone._compare_change_fn);return e>=this.changes.length?this.changes.length-1:e},_ensureCoverage:function(t){if(-1==ICAL.Timezone._minimumExpansionYear){var e=ICAL.Time.now();ICAL.Timezone._minimumExpansionYear=e.year}var n=t;if(n<ICAL.Timezone._minimumExpansionYear&&(n=ICAL.Timezone._minimumExpansionYear),n+=ICAL.Timezone.EXTRA_COVERAGE,n>ICAL.Timezone.MAX_YEAR&&(n=ICAL.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<t){for(var r=this.component.getAllSubcomponents(),i=r.length,s=0;i>s;s++)this._expandComponent(r[s],n,this.changes);this.changes.sort(ICAL.Timezone._compare_change_fn),this.expandedUntilYear=n}},_expandComponent:function(t,e,n){function r(t){return t.factor*(3600*t.hours+60*t.minutes)}function i(){var e={};return e.is_daylight="daylight"==t.name,e.utcOffset=r(t.getFirstProperty("tzoffsetto").getFirstValue()),e.prevUtcOffset=r(t.getFirstProperty("tzoffsetfrom").getFirstValue()),e}if(!t.hasProperty("dtstart")||!t.hasProperty("tzoffsetto")||!t.hasProperty("tzoffsetfrom"))return null;var s=t.getFirstProperty("dtstart").getFirstValue();if(t.hasProperty("rrule")||t.hasProperty("rdate")){var a=t.getAllProperties("rdate");for(var o in a){var u=a[o],l=u.getFirstValue(),h=i();h.year=l.year,h.month=l.month,h.day=l.day,l.isDate?(h.hour=s.hour,h.minute=s.minute,h.second=s.second,s.zone!=ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(h,0,0,0,-h.prevUtcOffset)):(h.hour=l.hour,h.minute=l.minute,h.second=l.second,l.zone!=ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(h,0,0,0,-h.prevUtcOffset)),n.push(h)}var c=t.getFirstProperty("rrule");if(c){c=c.getFirstValue();var h=i();c.until&&c.until.zone==ICAL.Timezone.utcTimezone&&(c.until.adjust(0,0,0,h.prevUtcOffset),c.until.zone=ICAL.Timezone.localTimezone);for(var f,d=c.iterator(s);f=d.next();){var h=i();if(f.year>e||!f)break;h.year=f.year,h.month=f.month,h.day=f.day,h.hour=f.hour,h.minute=f.minute,h.second=f.second,h.isDate=f.isDate,ICAL.Timezone.adjust_change(h,0,0,0,-h.prevUtcOffset),n.push(h)}}}else{var h=i();h.year=s.year,h.month=s.month,h.day=s.day,h.hour=s.hour,h.minute=s.minute,h.second=s.second,ICAL.Timezone.adjust_change(h,0,0,0,-h.prevUtcOffset),n.push(h)}return n},toString:function(){return this.tznames?this.tznames:this.tzid}},ICAL.Timezone._compare_change_fn=function(t,e){return t.year<e.year?-1:t.year>e.year?1:t.month<e.month?-1:t.month>e.month?1:t.day<e.day?-1:t.day>e.day?1:t.hour<e.hour?-1:t.hour>e.hour?1:t.minute<e.minute?-1:t.minute>e.minute?1:t.second<e.second?-1:t.second>e.second?1:0},ICAL.Timezone.convert_time=function(t,e,n){if(t.isDate||e.tzid==n.tzid||e==ICAL.Timezone.localTimezone||n==ICAL.Timezone.localTimezone)return t.zone=n,t;var r=e.utcOffset(t);return t.adjust(0,0,0,-r),r=n.utcOffset(t),t.adjust(0,0,0,r),null},ICAL.Timezone.fromData=function(t){var e=new ICAL.Timezone;return e.fromData(t)},ICAL.Timezone.utcTimezone=ICAL.Timezone.fromData({tzid:"UTC"}),ICAL.Timezone.localTimezone=ICAL.Timezone.fromData({tzid:"floating"}),ICAL.Timezone.adjust_change=function(t,e,n,r,i){return ICAL.Time.prototype.adjust.call(t,e,n,r,i,t)},ICAL.Timezone._minimumExpansionYear=-1,ICAL.Timezone.MAX_YEAR=2035,ICAL.Timezone.EXTRA_COVERAGE=5}(),ICAL.TimezoneService=function(){var t,e={reset:function(){t=Object.create(null);var e=ICAL.Timezone.utcTimezone;t.Z=e,t.UTC=e,t.GMT=e},has:function(e){return!!t[e]},get:function(e){return t[e]
},register:function(e,n){if(e instanceof ICAL.Component&&"vtimezone"===e.name&&(n=new ICAL.Timezone(e),e=n.tzid),!(n instanceof ICAL.Timezone))throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component");t[e]=n},remove:function(e){return delete t[e]}};return e.reset(),e}(),"undefined"==typeof ICAL?ICAL={}:"",function(){ICAL.Time=function(t,e){this.wrappedJSObject=this;var n=this._time=Object.create(null);n.year=0,n.month=1,n.day=1,n.hour=0,n.minute=0,n.second=0,n.isDate=!1,this.fromData(t,e)},ICAL.Time.prototype={icalclass:"icaltime",get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new ICAL.Time(this._time,this.zone)},reset:function(){this.fromData(ICAL.Time.epochTime),this.zone=ICAL.Timezone.utcTimezone},resetTo:function(t,e,n,r,i,s,a){this.fromData({year:t,month:e,day:n,hour:r,minute:i,second:s,zone:a})},fromString:function(t){var e;try{e=ICAL.DecorationParser.parseValue(t,"date"),e.isDate=!0}catch(n){e=ICAL.DecorationParser.parseValue(t,"date-time"),e.isDate=!1}return this.fromData(e)},fromJSDate:function(t,e){return t?e?(this.zone=ICAL.Timezone.utcTimezone,this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()):(this.zone=ICAL.Timezone.localTimezone,this.year=t.getFullYear(),this.month=t.getMonth()+1,this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()):this.reset(),this},fromData:function(t,e){for(var n in t)"icaltype"!==n&&(this[n]=t[n]);if(e&&(this.zone=e),!t||"isDate"in t?t&&"isDate"in t&&(this.isDate=t.isDate):this.isDate=!("hour"in t),t&&"timezone"in t){var r=ICAL.TimezoneService.get(t.timezone);this.zone=r||ICAL.Timezone.localTimezone}return t&&"zone"in t&&(this.zone=t.zone),this.zone||(this.zone=ICAL.Timezone.localTimezone),this},dayOfWeek:function(){var t=this.day,e=this.month+(this.month<3?12:0),n=this.year-(this.month<3?1:0),r=t+n+ICAL.helpers.trunc(26*(e+1)/10)+ICAL.helpers.trunc(n/4);return r+=6*ICAL.helpers.trunc(n/100)+ICAL.helpers.trunc(n/400),r=(r+6)%7+1},dayOfYear:function(){var t=ICAL.Time.is_leap_year(this.year)?1:0,e=ICAL.Time._days_in_year_passed_month;return e[t][this.month-1]+this.day},startOfWeek:function(){var t=this.clone();return t.day-=this.dayOfWeek()-1,t},endOfWeek:function(){var t=this.clone();return t.day+=7-this.dayOfWeek(),t},startOfMonth:function(){var t=this.clone();return t.day=1,t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},endOfMonth:function(){var t=this.clone();return t.day=ICAL.Time.daysInMonth(t.month,t.year),t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},startOfYear:function(){var t=this.clone();return t.day=1,t.month=1,t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},endOfYear:function(){var t=this.clone();return t.day=31,t.month=12,t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},startDoyWeek:function(t){var e=t||ICAL.Time.SUNDAY,n=this.dayOfWeek()-e;return 0>n&&(n+=7),this.dayOfYear()-n},nthWeekDay:function(t,e){var n,r=ICAL.Time.daysInMonth(this.month,this.year),i=e,s=0,a=this.clone();if(i>=0){a.day=1,0!=i&&i--,s=a.day;var o=a.dayOfWeek(),u=t-o;0>u&&(u+=7),s+=u,s-=t,n=t}else{a.day=r;var l=a.dayOfWeek();i++,n=l-t,0>n&&(n+=7),n=r-n}return n+=7*i,s+n},isNthWeekDay:function(t,e){var n=this.dayOfWeek();if(0===e&&n===t)return!0;var r=this.nthWeekDay(t,e);return r===this.day?!0:!1},weekNumber:function(t){var e,n=(this.dayOfYear(),this.dayOfWeek(),this.year,this.clone());n.isDate=!0;var r=(n.dayOfWeek(),this.year);12==n.month&&n.day>28?(e=ICAL.Time.weekOneStarts(r+1,t),n.compare(e)<0?e=ICAL.Time.weekOneStarts(r,t):r++):(e=ICAL.Time.weekOneStarts(r,t),n.compare(e)<0&&(e=ICAL.Time.weekOneStarts(--r,t)));var i=n.subtractDate(e).toSeconds()/86400;return ICAL.helpers.trunc(i/7)+1},addDuration:function(t){var e=t.isNegative?-1:1,n=this.second,r=this.minute,i=this.hour,s=this.day;n+=e*t.seconds,r+=e*t.minutes,i+=e*t.hours,s+=e*t.days,s+=7*e*t.weeks,this.second=n,this.minute=r,this.hour=i,this.day=s},subtractDate:function(t){var e=this.toUnixTime()+this.utcOffset(),n=t.toUnixTime()+t.utcOffset();return ICAL.Duration.fromSeconds(e-n)},subtractDateTz:function(t){var e=this.toUnixTime(),n=t.toUnixTime();return ICAL.Duration.fromSeconds(e-n)},compare:function(t){var e=this.toUnixTime(),n=t.toUnixTime();return e>n?1:n>e?-1:0},compareDateOnlyTz:function(t,e){function n(t){return ICAL.Time._cmp_attr(r,i,t)}var r=this.convertToZone(e),i=t.convertToZone(e),s=0;return 0!=(s=n("year"))?s:0!=(s=n("month"))?s:0!=(s=n("day"))?s:s},convertToZone:function(t){var e=this.clone(),n=this.zone.tzid==t.tzid;return this.isDate||n||ICAL.Timezone.convert_time(e,this.zone,t),e.zone=t,e},utcOffset:function(){return this.zone==ICAL.Timezone.localTimezone||this.zone==ICAL.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var t=this.toString();return t.length>10?ICAL.design.value["date-time"].toICAL(t):ICAL.design.value.date.toICAL(t)},toString:function(){var t=this.year+"-"+ICAL.helpers.pad2(this.month)+"-"+ICAL.helpers.pad2(this.day);return this.isDate||(t+="T"+ICAL.helpers.pad2(this.hour)+":"+ICAL.helpers.pad2(this.minute)+":"+ICAL.helpers.pad2(this.second),this.zone===ICAL.Timezone.utcTimezone&&(t+="Z")),t},toJSDate:function(){return this.zone==ICAL.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(1e3*this.toUnixTime())},_normalize:function(){this._time.isDate;return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(t,e,n,r,i){var s,a,o,u,l,h,c,f=0,d=0,p=i||this._time;if(p.isDate||(o=p.second+r,p.second=o%60,s=ICAL.helpers.trunc(o/60),p.second<0&&(p.second+=60,s--),u=p.minute+n+s,p.minute=u%60,a=ICAL.helpers.trunc(u/60),p.minute<0&&(p.minute+=60,a--),l=p.hour+e+a,p.hour=l%24,f=ICAL.helpers.trunc(l/24),p.hour<0&&(p.hour+=24,f--)),p.month>12?d=ICAL.helpers.trunc((p.month-1)/12):p.month<1&&(d=ICAL.helpers.trunc(p.month/12)-1),p.year+=d,p.month-=12*d,h=p.day+t+f,h>0)for(;;){var c=ICAL.Time.daysInMonth(p.month,p.year);if(c>=h)break;p.month++,p.month>12&&(p.year++,p.month=1),h-=c}else for(;0>=h;)1==p.month?(p.year--,p.month=12):p.month--,h+=ICAL.Time.daysInMonth(p.month,p.year);return p.day=h,this},fromUnixTime:function(t){this.zone=ICAL.Timezone.utcTimezone;var e=ICAL.Time.epochTime.clone();e.adjust(0,0,0,t),this.year=e.year,this.month=e.month,this.day=e.day,this.hour=e.hour,this.minute=e.minute,this.second=e.second},toUnixTime:function(){var t=this.utcOffset(),e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-t);return e/1e3},toJSON:function(){for(var t,e=["year","month","day","hour","minute","second","isDate"],n=Object.create(null),r=0,i=e.length;i>r;r++)t=e[r],n[t]=this[t];return this.zone&&(n.timezone=this.zone.tzid),n}},function(){function t(t){Object.defineProperty(ICAL.Time.prototype,t,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[t]},set:function(e){return this._pendingNormalization=!0,this._time[t]=e,e}})}"defineProperty"in Object&&(t("year"),t("month"),t("day"),t("hour"),t("minute"),t("second"),t("isDate"))}(),ICAL.Time.daysInMonth=function(t,e){var n=[0,31,28,31,30,31,30,31,31,30,31,30,31],r=30;return 1>t||t>12?r:(r=n[t],2==t&&(r+=ICAL.Time.is_leap_year(e)),r)},ICAL.Time.is_leap_year=function(t){return 1752>=t?t%4==0:t%4==0&&t%100!=0||t%400==0},ICAL.Time.fromDayOfYear=function(t,e){var n=e,r=t,i=new ICAL.Time;i.auto_normalize=!1;var s=ICAL.Time.is_leap_year(n)?1:0;1>r?(n--,s=ICAL.Time.is_leap_year(n)?1:0,r+=ICAL.Time._days_in_year_passed_month[s][12]):r>ICAL.Time._days_in_year_passed_month[s][12]&&(s=ICAL.Time.is_leap_year(n)?1:0,r-=ICAL.Time._days_in_year_passed_month[s][12],n++),i.year=n,i.isDate=!0;for(var a=11;a>=0;a--)if(r>ICAL.Time._days_in_year_passed_month[s][a]){i.month=a+1,i.day=r-ICAL.Time._days_in_year_passed_month[s][a];break}return i.auto_normalize=!0,i},ICAL.Time.fromStringv2=function(t){return new ICAL.Time({year:parseInt(t.substr(0,4),10),month:parseInt(t.substr(5,2),10),day:parseInt(t.substr(8,2),10),isDate:!0})},ICAL.Time.fromDateString=function(t){return new ICAL.Time({year:ICAL.helpers.strictParseInt(t.substr(0,4)),month:ICAL.helpers.strictParseInt(t.substr(5,2)),day:ICAL.helpers.strictParseInt(t.substr(8,2)),isDate:!0})},ICAL.Time.fromDateTimeString=function(t,e){if(t.length<19)throw new Error('invalid date-time value: "'+t+'"');var n;"Z"===t[19]?n="Z":e&&(n=e.getParameter("tzid"));var r=new ICAL.Time({year:ICAL.helpers.strictParseInt(t.substr(0,4)),month:ICAL.helpers.strictParseInt(t.substr(5,2)),day:ICAL.helpers.strictParseInt(t.substr(8,2)),hour:ICAL.helpers.strictParseInt(t.substr(11,2)),minute:ICAL.helpers.strictParseInt(t.substr(14,2)),second:ICAL.helpers.strictParseInt(t.substr(17,2)),timezone:n});return r},ICAL.Time.fromString=function(t){return t.length>10?ICAL.Time.fromDateTimeString(t):ICAL.Time.fromDateString(t)},ICAL.Time.fromJSDate=function(t,e){var n=new ICAL.Time;return n.fromJSDate(t,e)},ICAL.Time.fromData=function(t){var e=new ICAL.Time;return e.fromData(t)},ICAL.Time.now=function(){return ICAL.Time.fromJSDate(new Date,!1)},ICAL.Time.weekOneStarts=function(t,e){var n=ICAL.Time.fromData({year:t,month:1,day:4,isDate:!0}),r=n.dayOfWeek();return n.day+=1-r+((e||ICAL.Time.SUNDAY)-1),n},ICAL.Time.epochTime=ICAL.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),ICAL.Time._cmp_attr=function(t,e,n){return t[n]>e[n]?1:t[n]<e[n]?-1:0},ICAL.Time._days_in_year_passed_month=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],ICAL.Time.SUNDAY=1,ICAL.Time.MONDAY=2,ICAL.Time.TUESDAY=3,ICAL.Time.WEDNESDAY=4,ICAL.Time.THURSDAY=5,ICAL.Time.FRIDAY=6,ICAL.Time.SATURDAY=7,ICAL.Time.DEFAULT_WEEK_START=ICAL.Time.MONDAY}(),"undefined"==typeof ICAL?ICAL={}:"",function(){function t(t,e,n,r){var i=r;if("+"===r[0]&&(i=r.substr(1)),i=ICAL.helpers.strictParseInt(i),void 0!==e&&e>r)throw new Error(t+': invalid value "'+r+'" must be > '+e);if(void 0!==n&&r>n)throw new Error(t+': invalid value "'+r+'" must be < '+e);return i}var e={SU:ICAL.Time.SUNDAY,MO:ICAL.Time.MONDAY,TU:ICAL.Time.TUESDAY,WE:ICAL.Time.WEDNESDAY,TH:ICAL.Time.THURSDAY,FR:ICAL.Time.FRIDAY,SA:ICAL.Time.SATURDAY},n={};for(var r in e)n[e[r]]=r;ICAL.Recur=function(t){if(this.wrappedJSObject=this,this.parts={},"object"==typeof t){for(var e in t)this[e]=t[e];!this.until||this.until instanceof ICAL.Time||(this.until=new ICAL.Time(this.until))}this.parts||(this.parts={})},ICAL.Recur.prototype={parts:null,interval:1,wkst:ICAL.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(t){return new ICAL.RecurIterator({rule:this,dtstart:t})},clone:function(){return new ICAL.Recur(this.toJSON())},isFinite:function(){return!(!this.count&&!this.until)},isByCount:function(){return!(!this.count||this.until)},addComponent:function(t,e){t in this.parts?this.parts[t].push(e):this.parts[t]=[e]},setComponent:function(t,e){this.parts[t]=e},getComponent:function(t,e){var n=t.toUpperCase(),r=n in this.parts?this.parts[n]:[];return e&&(e.value=r.length),r},getNextOccurrence:function(t,e){var n,r=this.iterator(t);do n=r.next();while(n&&n.compare(e)<=0);return n&&e.zone&&(n.zone=e.zone),n},toJSON:function(){for(var t,e=["freq","count","until","wkst","interval","parts"],n=Object.create(null),r=0,i=e.length;i>r;r++){var t=e[r];n[t]=this[t]}return n.until instanceof ICAL.Time&&(n.until=n.until.toJSON()),n},toString:function(){var t="FREQ="+this.freq;this.count&&(t+=";COUNT="+this.count),this.interval>1&&(t+=";INTERVAL="+this.interval);for(var e in this.parts)t+=";"+e+"="+this.parts[e];return this.until&&(t+=";UNTIL="+this.until.toString()),"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(t+=";WKST="+ICAL.Recur.numericDayToIcalDay(this.wkst)),t}},ICAL.Recur.icalDayToNumericDay=function(t){return e[t]},ICAL.Recur.numericDayToIcalDay=function(t){return n[t]};var i=/^(SU|MO|TU|WE|TH|FR|SA)$/,s=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,a=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],o={FREQ:function(t,e){if(-1===a.indexOf(t))throw new Error('invalid frequency "'+t+'" expected: "'+a.join(", ")+'"');e.freq=t},COUNT:function(t,e){e.count=ICAL.helpers.strictParseInt(t)},INTERVAL:function(t,e){e.interval=ICAL.helpers.strictParseInt(t),e.interval<1&&(e.interval=1)},UNTIL:function(t,e){e.until=ICAL.Time.fromString(t)},WKST:function(t,e){if(!i.test(t))throw new Error('invalid WKST value "'+t+'"');e.wkst=ICAL.Recur.icalDayToNumericDay(t)}},u={BYSECOND:t.bind(this,"BYSECOND",0,60),BYMINUTE:t.bind(this,"BYMINUTE",0,59),BYHOUR:t.bind(this,"BYHOUR",0,23),BYDAY:function(t){if(s.test(t))return t;throw new Error('invalid BYDAY value "'+t+'"')},BYMONTHDAY:t.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:t.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:t.bind(this,"BYWEEKNO",-53,53),BYMONTH:t.bind(this,"BYMONTH",0,12),BYSETPOS:t.bind(this,"BYSETPOS",-366,366)};ICAL.Recur.fromString=function(t){for(var e=Object.create(null),n=e.parts=Object.create(null),r=t.split(";"),i=r.length,s=0;i>s;s++){var a=r[s].split("="),l=a[0],h=a[1];if(l in u){for(var c=h.split(","),f=0,d=c.length;d>f;f++)c[f]=u[l](c[f]);n[l]=c}else l in o&&o[l](h,e)}return new ICAL.Recur(e)}}(),ICAL.RecurIterator=function(){function t(t){this.fromData(t)}return t.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(t){if(this.rule=ICAL.helpers.formatClassType(t.rule,ICAL.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=ICAL.helpers.formatClassType(t.dtstart,ICAL.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");this.by_data=t.by_data?t.by_data:ICAL.helpers.clone(this.rule.parts,!0),t.occurrence_number&&(this.occurrence_number=t.occurrence_number),this.days=t.days||[],this.last=ICAL.helpers.formatClassType(t.last,ICAL.Time),this.by_indices=t.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=t.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var t=this.by_data;if("BYDAY"in t&&this.sort_byday_rules(t.BYDAY,this.rule.wkst),"BYYEARDAY"in t&&("BYMONTH"in t||"BYWEEKNO"in t||"BYMONTHDAY"in t||"BYDAY"in t))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in t&&"BYMONTHDAY"in t)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if("MONTHLY"==this.rule.freq&&("BYYEARDAY"in t||"BYWEEKNO"in t))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if("WEEKLY"==this.rule.freq&&("BYYEARDAY"in t||"BYMONTHDAY"in t))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if("YEARLY"!=this.rule.freq&&"BYYEARDAY"in t)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),"WEEKLY"==this.rule.freq)if("BYDAY"in t){var t=this.ruleDayOfWeek(t.BYDAY[0]),e=t[0],n=t[1],r=n-this.last.dayOfWeek();(this.last.dayOfWeek()<n&&r>=0||0>r)&&(this.last.day+=r)}else{var i=ICAL.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());t.BYDAY=[i]}if("YEARLY"==this.rule.freq){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);var s=ICAL.Time.fromDayOfYear(this.days[0],this.last.year);this.last.day=s.day,this.last.month=s.month}if("MONTHLY"==this.rule.freq&&this.has_by_data("BYDAY")){var a=this.by_data.BYDAY[this.by_indices.BYDAY],t=this.ruleDayOfWeek(a),e=t[0],r=t[1],o=ICAL.Time.daysInMonth(this.last.month,this.last.year),u=0;if(e>=0)for(this.last.day=1;this.last.day<=o&&(this.last.dayOfWeek()!=r||++u!=e&&0!=e);this.last.day++);else for(e=-e,this.last.day=o;0!=this.last.day&&(this.last.dayOfWeek()!=r||++u!=e);this.last.day--);if(this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>o||0==this.last.day)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var o=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day=o+this.last.day+1}},next:function(){var t=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(0==this.occurrence_number&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;do{var e=1;switch(this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":e=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!e);if(0==this.last.compare(t))throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(t){return this.increment_generic(t,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(t){return this.increment_generic(t,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(t){this.increment_generic(t,"hour",24,"monthday")},next_day:function(){var t=("BYDAY"in this.by_data,"DAILY"==this.rule.freq);return 0==this.next_hour()?0:(this.increment_monthday(t?this.rule.interval:1),0)},next_week:function(){var t=0;if(0==this.next_weekday_by_week())return t;if(this.has_by_data("BYWEEKNO")){{++this.by_indices.BYWEEKNO}this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,t=1),this.last.month=1,this.last.day=1;var e=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*e,t&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return t},normalizeByMonthDayRules:function(t,e,n){for(var r,i=ICAL.Time.daysInMonth(e,t),s=[],a=0,o=n.length;o>a;a++)if(r=n[a],!(Math.abs(r)>i)){if(0>r)r=i+(r+1);else if(0===r)continue;-1===s.indexOf(r)&&s.push(r)}return s.sort(function(t,e){return t-e})},_byDayAndMonthDay:function(t){function e(){for(a=ICAL.Time.daysInMonth(c.last.month,c.last.year),r=c.normalizeByMonthDayRules(c.last.year,c.last.month,c.by_data.BYMONTHDAY),s=r.length;r[u]<=f&&s-1>u;)u++}function n(){f=0,c.increment_month(),u=0,e()}var r,i,s,a,o=this.by_data.BYDAY,u=0,l=o.length,h=0,c=this,f=this.last.day;for(e(),t&&(f-=1);!h;)if(i=f+1,i>a)n();else{var d=r[u++];if(d>=i){f=d;for(var p=0;l>p;p++){var m=this.ruleDayOfWeek(o[p]),y=m[0],g=m[1];if(this.last.day=f,this.last.isNthWeekDay(g,y)){h=1;break}}h||u!==s||n()}else n()}return h},next_month:function(){var t=("MONTHLY"==this.rule.freq,1);if(0==this.next_hour())return t;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))t=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var e=ICAL.Time.daysInMonth(this.last.month,this.last.year),n=0;if(this.has_by_data("BYSETPOS")){for(var r=this.last.day,i=1;e>=i;i++)this.last.day=i,this.is_day_in_byday(this.last)&&r>=i&&n++;this.last.day=r}for(var i=this.last.day+1;e>=i;i++)if(this.last.day=i,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++n)||this.check_set_position(n-this.by_data.BYSETPOS.length-1))){t=1;break}i>e&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(t=1):t=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var e=ICAL.Time.daysInMonth(this.last.month,this.last.year),i=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];0>i&&(i=e+i+1),i>e?(this.last.day=1,t=this.is_day_in_byday(this.last)):this.last.day=i}else{this.last.day=this.by_data.BYMONTHDAY[0],this.increment_month();var e=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day=Math.min(this.last.day,e)}return t},next_weekday_by_week:function(){var t=0;if(0==this.next_hour())return t;if(!this.has_by_data("BYDAY"))return 1;for(;;){var e=new ICAL.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,t=1);var n=this.by_data.BYDAY[this.by_indices.BYDAY],r=this.ruleDayOfWeek(n),i=r[1];i-=this.rule.wkst,0>i&&(i+=7),e.year=this.last.year,e.month=this.last.month,e.day=this.last.day;var s=e.startDoyWeek(this.rule.wkst);if(!(1>i+s)||t){var a=ICAL.Time.fromDayOfYear(s+i,this.last.year);return this.last.year=a.year,this.last.month=a.month,this.last.day=a.day,t}}},next_year:function(){if(0==this.next_hour())return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(0==this.days.length)}var t=ICAL.Time.fromDayOfYear(this.days[this.days_index],this.last.year);return this.last.day=t.day,this.last.month=t.month,1},ruleDayOfWeek:function(t){var e=t.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(e){var n=parseInt(e[1]||0,10);return t=ICAL.Recur.icalDayToNumericDay(e[2]),[n,t]}return[0,0]},next_generic:function(t,e,n,r,i){var s=t in this.by_data,a=this.rule.freq==e,o=0;if(i&&0==this[i]())return o;if(s){this.by_indices[t]++;var u=(this.by_indices[t],this.by_data[t]);this.by_indices[t]==u.length&&(this.by_indices[t]=0,o=1),this.last[n]=u[this.by_indices[t]]}else a&&this["increment_"+n](this.rule.interval);return s&&o&&a&&this["increment_"+r](1),o},increment_monthday:function(t){for(var e=0;t>e;e++){var n=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>n&&(this.last.day-=n,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{"MONTHLY"==this.rule.freq?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var t=ICAL.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,0!=t&&this.increment_year(t)}},increment_year:function(t){this.last.year+=t},increment_generic:function(t,e,n,r){this.last[e]+=t;var i=ICAL.helpers.trunc(this.last[e]/n);this.last[e]%=n,0!=i&&this["increment_"+r](i)},has_by_data:function(t){return t in this.rule.parts},expand_year_days:function(t){var e=new ICAL.Time;this.days=[];var n={},r=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var i in r){var s=r[i];s in this.rule.parts&&(n[s]=this.rule.parts[s])}if("BYMONTH"in n&&"BYWEEKNO"in n){var a=1,o={};e.year=t,e.isDate=!0;for(var u=0;u<this.by_data.BYMONTH.length;u++){var l=this.by_data.BYMONTH[u];e.month=l,e.day=1;var h=e.weekNumber(this.rule.wkst);e.day=ICAL.Time.daysInMonth(l,t);var c=e.weekNumber(this.rule.wkst);for(u=h;c>u;u++)o[u]=1}for(var f=0;f<this.by_data.BYWEEKNO.length&&a;f++){var d=this.by_data.BYWEEKNO[f];52>d?a&=o[f]:a=0}a?delete n.BYMONTH:delete n.BYWEEKNO}var p=Object.keys(n).length;if(0==p){var e=this.dtstart.clone();e.year=this.last.year,this.days.push(e.dayOfYear())}else if(1==p&&"BYMONTH"in n)for(var m in this.by_data.BYMONTH){var y=this.dtstart.clone();y.year=t,y.month=this.by_data.BYMONTH[m],y.isDate=!0,this.days.push(y.dayOfYear())}else if(1==p&&"BYMONTHDAY"in n)for(var g in this.by_data.BYMONTHDAY){var y=this.dtstart.clone();y.day=this.by_data.BYMONTHDAY[g],y.year=t,y.isDate=!0,this.days.push(y.dayOfYear())}else if(2==p&&"BYMONTHDAY"in n&&"BYMONTH"in n)for(var m in this.by_data.BYMONTH)for(var g in this.by_data.BYMONTHDAY)e.day=this.by_data.BYMONTHDAY[g],e.month=this.by_data.BYMONTH[m],e.year=t,e.isDate=!0,this.days.push(e.dayOfYear());else if(1==p&&"BYWEEKNO"in n);else if(2==p&&"BYWEEKNO"in n&&"BYMONTHDAY"in n);else if(1==p&&"BYDAY"in n)this.days=this.days.concat(this.expand_by_day(t));else if(2==p&&"BYDAY"in n&&"BYMONTH"in n)for(var m in this.by_data.BYMONTH){l=this.by_data.BYMONTH[m];var v=ICAL.Time.daysInMonth(l,t);e.year=t,e.month=this.by_data.BYMONTH[m],e.day=1,e.isDate=!0;var b=e.dayOfWeek(),x=e.dayOfYear()-1;e.day=v;var w=e.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var _=[],T=1;v>=T;T++)e.day=T,this.is_day_in_byday(e)&&_.push(T);for(var C=0;C<_.length;C++)(this.check_set_position(C+1)||this.check_set_position(C-_.length))&&this.days.push(x+_[C])}else for(var A in this.by_data.BYDAY){var D,S=this.by_data.BYDAY[A],n=this.ruleDayOfWeek(S),k=n[0],L=n[1],I=(L+7-b)%7+1,Y=v-(w+7-L)%7;if(0==k)for(var T=I;v>=T;T+=7)this.days.push(x+T);else k>0?(D=I+7*(k-1),v>=D&&this.days.push(x+D)):(D=Y+7*(k+1),D>0&&this.days.push(x+D))}}else if(2==p&&"BYDAY"in n&&"BYMONTHDAY"in n){var E=this.expand_by_day(t);for(var O in E){var T=E[O],N=ICAL.Time.fromDayOfYear(T,t);this.by_data.BYMONTHDAY.indexOf(N.day)>=0&&this.days.push(T)}}else if(3==p&&"BYDAY"in n&&"BYMONTHDAY"in n&&"BYMONTH"in n){var E=this.expand_by_day(t);for(var O in E){var T=E[O],N=ICAL.Time.fromDayOfYear(T,t);this.by_data.BYMONTH.indexOf(N.month)>=0&&this.by_data.BYMONTHDAY.indexOf(N.day)>=0&&this.days.push(T)}}else if(2==p&&"BYDAY"in n&&"BYWEEKNO"in n){var E=this.expand_by_day(t);for(var O in E){var T=E[O],N=ICAL.Time.fromDayOfYear(T,t),d=N.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(d)&&this.days.push(T)}}else 3==p&&"BYDAY"in n&&"BYWEEKNO"in n&&"BYMONTHDAY"in n||(this.days=1==p&&"BYYEARDAY"in n?this.days.concat(this.by_data.BYYEARDAY):[]);return 0},expand_by_day:function(t){var e=[],n=this.last.clone();n.year=t,n.month=1,n.day=1,n.isDate=!0;var r=n.dayOfWeek();n.month=12,n.day=31,n.isDate=!0;var i=n.dayOfWeek(),s=n.dayOfYear();for(var a in this.by_data.BYDAY){var o=this.by_data.BYDAY[a],u=this.ruleDayOfWeek(o),l=u[0],h=u[1];if(0==l)for(var c=(h+7-r)%7+1,f=c;s>=f;f+=7)e.push(f);else if(l>0){var d;d=h>=r?h-r+1:h-r+8,e.push(d+7*(l-1))}else{var p;l=-l,p=i>=h?s-i+h:s-i+h-7,e.push(p-7*(l-1))}}return e},is_day_in_byday:function(t){for(var e in this.by_data.BYDAY){var n=this.by_data.BYDAY[e],r=this.ruleDayOfWeek(n),i=r[0],s=r[1],a=t.dayOfWeek();if(0==i&&s==a||t.nthWeekDay(s,i)==t.day)return 1}return 0},check_set_position:function(t){if(this.has_by_data("BYSETPOS")){var e=this.by_data.BYSETPOS.indexOf(t);return-1!==e}return!1},sort_byday_rules:function(t,e){for(var n=0;n<t.length;n++)for(var r=0;n>r;r++){var i=this.ruleDayOfWeek(t[r])[1],s=this.ruleDayOfWeek(t[n])[1];if(i-=e,s-=e,0>i&&(i+=7),0>s&&(s+=7),i>s){var a=t[n];t[n]=t[r],t[r]=a}}},check_contract_restriction:function(e,n){var r=t._indexMap[e],i=t._expandMap[this.rule.freq][r],s=!1;if(e in this.by_data&&i==t.CONTRACT){var a=this.by_data[e];for(var o in a)if(a[o]==n){s=!0;break}}else s=!0;return s},check_contracting_rules:function(){var t=this.last.dayOfWeek(),e=this.last.weekNumber(this.rule.wkst),n=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",ICAL.Recur.numericDayToIcalDay(t))&&this.check_contract_restriction("BYWEEKNO",e)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",n)},setup_defaults:function(e,n,r){var i=t._indexMap[e],s=t._expandMap[this.rule.freq][i];return s!=t.CONTRACT&&(e in this.by_data||(this.by_data[e]=[r]),this.rule.freq!=n)?this.by_data[e][0]:r},toJSON:function(){var t=Object.create(null);return t.initialized=this.initialized,t.rule=this.rule.toJSON(),t.dtstart=this.dtstart.toJSON(),t.by_data=this.by_data,t.days=this.days,t.last=this.last.toJSON(),t.by_indices=this.by_indices,t.occurrence_number=this.occurrence_number,t}},t._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},t._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},t.UNKNOWN=0,t.CONTRACT=1,t.EXPAND=2,t.ILLEGAL=3,t}(),ICAL.RecurExpansion=function(){function t(t){return ICAL.helpers.formatClassType(t,ICAL.Time)}function e(t,e){return t.compare(e)}function n(t){return t.hasProperty("rdate")||t.hasProperty("rrule")||t.hasProperty("recurrence-id")}function r(t){this.ruleDates=[],this.exDates=[],this.fromData(t)}return r.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(e){var n=ICAL.helpers.formatClassType(e.dtstart,ICAL.Time);if(!n)throw new Error(".dtstart (ICAL.Time) must be given");this.dtstart=n,e.component?this._init(e.component):(this.last=t(e.last),this.ruleIterators=e.ruleIterators.map(function(t){return ICAL.helpers.formatClassType(t,ICAL.RecurIterator)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(t),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(t),this.exDate=this.exDates[this.exDateInc]),"undefined"!=typeof e.complete&&(this.complete=e.complete))},next:function(){for(var t,e,n,r=500,i=0;;){if(i++>r)throw new Error("max tries have occured, rule may be impossible to forfill.");if(e=this.ruleDate,t=this._nextRecurrenceIter(this.last),!e&&!t){this.complete=!0;break}if((!e||t&&e.compare(t.last)>0)&&(e=t.last.clone(),t.next()),this.ruleDate===e&&this._nextRuleDay(),this.last=e,!this.exDate||(n=this.exDate.compare(this.last),0>n&&this._nextExDay(),0!==n))return this.last;this._nextExDay()}},toJSON:function(){function t(t){return t.toJSON()}var e=Object.create(null);return e.ruleIterators=this.ruleIterators.map(t),this.ruleDates&&(e.ruleDates=this.ruleDates.map(t)),this.exDates&&(e.exDates=this.exDates.map(t)),e.ruleDateInc=this.ruleDateInc,e.exDateInc=this.exDateInc,e.last=this.last.toJSON(),e.dtstart=this.dtstart.toJSON(),e.complete=this.complete,e},_extractDates:function(t,n){for(var r,i=[],s=t.getAllProperties(n),a=s.length,o=0;a>o;o++)s[o].getValues().forEach(function(t){r=ICAL.helpers.binsearchInsert(i,t,e),i.splice(r,0,t)});return i},_init:function(t){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!n(t))return this.ruleDate=this.last.clone(),void(this.complete=!0);if(t.hasProperty("rdate")&&(this.ruleDates=this._extractDates(t,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=ICAL.helpers.binsearchInsert(this.ruleDates,this.last,e),this.ruleDate=this.ruleDates[this.ruleDateInc]),t.hasProperty("rrule"))for(var r,i,s=t.getAllProperties("rrule"),a=0,o=s.length;o>a;a++)r=s[a].getFirstValue(),i=r.iterator(this.dtstart),this.ruleIterators.push(i),i.next();t.hasProperty("exdate")&&(this.exDates=this._extractDates(t,"exdate"),this.exDateInc=ICAL.helpers.binsearchInsert(this.exDates,this.last,e),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]
},_nextRecurrenceIter:function(){var t=this.ruleIterators;if(0===t.length)return null;for(var e,n,r,i=t.length,s=0;i>s;s++)e=t[s],n=e.last,e.completed?(i--,0!==s&&s--,t.splice(s,1)):(!r||r.last.compare(n)>0)&&(r=e);return r}},r}(),ICAL.Event=function(){function t(t,e){return t[0]>e[0]?1:e[0]>t[0]?-1:0}function e(t,e){t instanceof ICAL.Component||(e=t,t=null),this.component=t?t:new ICAL.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],e&&e.strictExceptions&&(this.strictExceptions=e.strictExceptions),e&&e.exceptions&&e.exceptions.forEach(this.relateException,this)}return e.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof ICAL.Component&&(e=new ICAL.Event(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var n=e.recurrenceId.toString();if(this.exceptions[n]=e,e.modifiesFuture()){var r=[e.recurrenceId.toUnixTime(),n],i=ICAL.helpers.binsearchInsert(this.rangeExceptions,r,t);this.rangeExceptions.splice(i,0,r)}},modifiesFuture:function(){var t=this.component.getFirstPropertyValue("range");return t===this.THISANDFUTURE},findRangeException:function(e){if(!this.rangeExceptions.length)return null;var n=e.toUnixTime(),r=ICAL.helpers.binsearchInsert(this.rangeExceptions,[n],t);if(r-=1,0>r)return null;var i=this.rangeExceptions[r];return n<i[0]?null:i[1]},getOccurrenceDetails:function(t){var e=t.toString(),n=t.convertToZone(ICAL.Timezone.utcTimezone).toString(),r={recurrenceId:t};if(e in this.exceptions){var i=r.item=this.exceptions[e];r.startDate=i.startDate,r.endDate=i.endDate,r.item=i}else if(n in this.exceptions){var i=this.exceptions[n];r.startDate=i.startDate,r.endDate=i.endDate,r.item=i}else{var s=this.findRangeException(t);if(s){var a=this.exceptions[s];r.item=a;var o=this._rangeExceptionCache[s];if(!o){var u=a.recurrenceId.clone(),l=a.startDate.clone();u.zone=l.zone;var o=l.subtractDate(u);this._rangeExceptionCache[s]=o}var h=t.clone();h.zone=a.startDate.zone,h.addDuration(o);var c=h.clone();c.addDuration(a.duration),r.startDate=h,r.endDate=c}else{var c=t.clone();c.addDuration(this.duration),r.endDate=c,r.startDate=t,r.item=this}}return r},iterator:function(t){return new ICAL.RecurExpansion({component:this.component,dtstart:t||this.startDate})},isRecurring:function(){var t=this.component;return t.hasProperty("rrule")||t.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var t=this.component.getAllProperties("rrule"),e=0,n=t.length,r=Object.create(null);n>e;e++){var i=t[e].getFirstValue();r[i.freq]=!0}return r},get uid(){return this._firstProp("uid")},set uid(t){this._setProp("uid",t)},get startDate(){return this._firstProp("dtstart")},set startDate(t){this._setTime("dtstart",t)},get endDate(){return this._firstProp("dtend")},set endDate(t){this._setTime("dtend",t)},get duration(){return this.endDate.subtractDate(this.startDate)},get location(){return this._firstProp("location")},set location(t){return this._setProp("location",t)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(t){this._setProp("summary",t)},get description(){return this._firstProp("description")},set description(t){this._setProp("description",t)},get organizer(){return this._firstProp("organizer")},set organizer(t){this._setProp("organizer",t)},get sequence(){return this._firstProp("sequence")},set sequence(t){this._setProp("sequence",t)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(t){this._setProp("recurrence-id",t)},_setTime:function(t,e){var n=this.component.getFirstProperty(t);n||(n=new ICAL.Property(t),this.component.addProperty(n)),e.zone===ICAL.Timezone.localTimezone||e.zone===ICAL.Timezone.utcTimezone?n.removeParameter("tzid"):n.setParameter("tzid",e.zone.tzid),n.setValue(e)},_setProp:function(t,e){this.component.updatePropertyWithValue(t,e)},_firstProp:function(t){return this.component.getFirstPropertyValue(t)},toString:function(){return this.component.toString()}},e}(),ICAL.ComponentParser=function(){function t(t){"undefined"==typeof t&&(t={});var e;for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}return t.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(){},ontimezone:function(){},onevent:function(){},process:function(t){"string"==typeof t&&(t=ICAL.parse(t)[1]),t instanceof ICAL.Component||(t=new ICAL.Component(t));for(var e,n=t.getAllSubcomponents(),r=0,i=n.length;i>r;r++)switch(e=n[r],e.name){case"vtimezone":if(this.parseTimezone){var s=e.getFirstPropertyValue("tzid");s&&this.ontimezone(new ICAL.Timezone({tzid:s,component:e}))}break;case"vevent":this.parseEvent&&this.onevent(new ICAL.Event(e));break;default:continue}this.oncomplete()}},t}(),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(oe.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return q.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e=pe[t]={};return Q.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function a(){K.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+Math.random()}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(xe,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n}catch(i){}ve.set(t,e,n)}else n=void 0;return n}function l(){return!0}function h(){return!1}function c(){try{return K.activeElement}catch(t){}}function f(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Pe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=0,r=t.length;r>n;n++)ge.set(t[n],"globalEval",!e||ge.get(e[n],"globalEval"))}function y(t,e){var n,r,i,s,a,o,u,l;if(1===e.nodeType){if(ge.hasData(t)&&(s=ge.access(t),a=ge.set(e,s),l=s.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Q.event.add(e,i,l[i][n])}ve.hasData(t)&&(o=ve.access(t),u=Q.extend({},o),ve.set(e,u))}}function g(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function v(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ce.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=Q(n.createElement(e)).appendTo(n.body),s=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),s}function x(t){var e=K,n=Be[t];return n||(n=b(t,e),"none"!==n&&n||(He=(He||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=He[0].contentDocument,e.write(),e.close(),n=b(t,e),He.detach()),Be[t]=n),n}function w(t,e,n){var r,i,s,a,o=t.style;return n=n||Re(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),Fe.test(a)&&Ve.test(e)&&(r=o.width,i=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=r,o.minWidth=i,o.maxWidth=s)),void 0!==a?a+"":a}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xe.length;i--;)if(e=Xe[i]+n,e in t)return e;return r}function C(t,e,n){var r=Ue.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function A(t,e,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=Q.css(t,n+_e[s],!0,i)),r?("content"===n&&(a-=Q.css(t,"padding"+_e[s],!0,i)),"margin"!==n&&(a-=Q.css(t,"border"+_e[s]+"Width",!0,i))):(a+=Q.css(t,"padding"+_e[s],!0,i),"padding"!==n&&(a+=Q.css(t,"border"+_e[s]+"Width",!0,i)));return a}function D(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,s=Re(t),a="border-box"===Q.css(t,"boxSizing",!1,s);if(0>=i||null==i){if(i=w(t,e,s),(0>i||null==i)&&(i=t.style[e]),Fe.test(i))return i;r=a&&(Z.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+A(t,e,n||(a?"border":"content"),r,s)+"px"}function S(t,e){for(var n,r,i,s=[],a=0,o=t.length;o>a;a++)r=t[a],r.style&&(s[a]=ge.get(r,"olddisplay"),n=r.style.display,e?(s[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(s[a]=ge.access(r,"olddisplay",x(r.nodeName)))):(i=Te(r),"none"===n&&i||ge.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;o>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?s[a]||"":"none"));return t}function k(t,e,n,r,i){return new k.prototype.init(t,e,n,r,i)}function L(){return setTimeout(function(){Ze=void 0}),Ze=Q.now()}function I(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=_e[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function Y(t,e,n){for(var r,i=(nn[e]||[]).concat(nn["*"]),s=0,a=i.length;a>s;s++)if(r=i[s].call(n,e,t))return r}function E(t,e,n){var r,i,s,a,o,u,l,h,c=this,f={},d=t.style,p=t.nodeType&&Te(t),m=ge.get(t,"fxshow");n.queue||(o=Q._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,Q.queue(t,"fx").length||o.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Q.css(t,"display"),h="none"===l?ge.get(t,"olddisplay")||x(t.nodeName):l,"inline"===h&&"none"===Q.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Je.exec(i)){if(delete e[r],s=s||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;p=!0}f[r]=m&&m[r]||Q.style(t,r)}else l=void 0;if(Q.isEmptyObject(f))"inline"===("none"===l?x(t.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(p=m.hidden):m=ge.access(t,"fxshow",{}),s&&(m.hidden=!p),p?Q(t).show():c.done(function(){Q(t).hide()}),c.done(function(){var e;ge.remove(t,"fxshow");for(e in f)Q.style(t,e,f[e])});for(r in f)a=Y(p?m[r]:0,r,c),r in m||(m[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(t,e){var n,r,i,s,a;for(n in t)if(r=Q.camelCase(n),i=e[r],s=t[n],Q.isArray(s)&&(i=s[1],s=t[n]=s[0]),n!==r&&(t[r]=s,delete t[n]),a=Q.cssHooks[r],a&&"expand"in a){s=a.expand(s),delete t[r];for(n in s)n in t||(t[n]=s[n],e[n]=i)}else e[r]=i}function N(t,e,n){var r,i,s=0,a=en.length,o=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Ze||L(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,s=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(s);return o.notifyWith(t,[l,s,n]),1>s&&u?n:(o.resolveWith(t,[l]),!1)},l=o.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ze||L(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Q.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return e?o.resolveWith(t,[l,e]):o.rejectWith(t,[l,e]),this}}),h=l.props;for(O(h,l.opts.specialEasing);a>s;s++)if(r=en[s].call(l,t,h,l.opts))return r;return Q.map(h,Y,l),Q.isFunction(l.opts.start)&&l.opts.start.call(t,l),Q.fx.timer(Q.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,s=e.toLowerCase().match(de)||[];if(Q.isFunction(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function P(t,e,n,r){function i(o){var u;return s[o]=!0,Q.each(t[o]||[],function(t,o){var l=o(e,n,r);return"string"!=typeof l||a||s[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var s={},a=t===_n;return i(e.dataTypes[0])||!s["*"]&&i("*")}function j(t,e){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Q.extend(!0,t,r),t}function z(t,e,n){for(var r,i,s,a,o=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){u.unshift(i);break}if(u[0]in n)s=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){s=i;break}a||(a=i)}s=s||a}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function H(t,e,n,r){var i,s,a,o,u,l={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(s=h.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=s,s=h.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(a=l[u+" "+s]||l["* "+s],!a)for(i in l)if(o=i.split(" "),o[1]===s&&(a=l[u+" "+o[0]]||l["* "+o[0]])){a===!0?a=l[i]:l[i]!==!0&&(s=o[0],h.unshift(o[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+u+" to "+s}}}return{state:"success",data:e}}function B(t,e,n,r){var i;if(Q.isArray(e))Q.each(e,function(e,i){n||Dn.test(t)?r(t,i):B(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Q.type(e))r(t,e);else for(i in e)B(t+"["+i+"]",e[i],n,r)}function V(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var F=[],R=F.slice,W=F.concat,U=F.push,q=F.indexOf,G={},$=G.toString,X=G.hasOwnProperty,Z={},K=t.document,J="2.1.1",Q=function(t,e){return new Q.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,re=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return R.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:R.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:F.sort,splice:F.splice},Q.extend=Q.fn.extend=function(){var t,e,n,r,i,s,a=arguments[0]||{},o=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||Q.isFunction(a)||(a={}),o===u&&(a=this,o--);u>o;o++)if(null!=(t=arguments[o]))for(e in t)n=a[e],r=t[e],a!==r&&(l&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,s=n&&Q.isArray(n)?n:[]):s=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(l,s,r)):void 0!==r&&(a[e]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?G[$.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=K.createElement("script"),e.text=t,K.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,re)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,s=0,a=t.length,o=n(t);if(r){if(o)for(;a>s&&(i=e.apply(t[s],r),i!==!1);s++);else for(s in t)if(i=e.apply(t[s],r),i===!1)break}else if(o)for(;a>s&&(i=e.call(t[s],s,t[s]),i!==!1);s++);else for(s in t)if(i=e.call(t[s],s,t[s]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Q.merge(r,"string"==typeof t?[t]:t):U.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],s=0,a=t.length,o=!n;a>s;s++)r=!e(t[s],s),r!==o&&i.push(t[s]);return i},map:function(t,e,r){var i,s=0,a=t.length,o=n(t),u=[];if(o)for(;a>s;s++)i=e(t[s],s,r),null!=i&&u.push(i);else for(s in t)i=e(t[s],s,r),null!=i&&u.push(i);return W.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(r=R.call(arguments,2),i=function(){return t.apply(e||this,r.concat(R.call(arguments)))},i.guid=t.guid=t.guid||Q.guid++,i):void 0},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()});var ie=function(t){function e(t,e,n,r){var i,s,a,o,u,l,c,d,p,m;if((e?e.ownerDocument||e:B)!==E&&Y(e),e=e||E,n=n||[],!t||"string"!=typeof t)return n;if(1!==(o=e.nodeType)&&9!==o)return[];if(N&&!r){if(i=ve.exec(t))if(a=i[1]){if(9===o){if(s=e.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(a))&&z(e,s)&&s.id===a)return n.push(s),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(t))){if(d=c=H,p=e,m=9===o&&t,1===o&&"object"!==e.nodeName.toLowerCase()){for(l=A(t),(c=e.getAttribute("id"))?d=c.replace(xe,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);p=be.test(t)&&h(e.parentNode)||e,m=l.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(y){}finally{c||e.removeAttribute("id")}}}return S(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[H]=!0,t}function i(t){var e=E.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),r=t.length;r--;)_.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||$)-(~t.sourceIndex||$);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function o(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,s=t([],n.length,e),a=s.length;a--;)n[i=s[a]]&&(n[i]=!(r[i]=n[i]))})})}function h(t){return t&&typeof t.getElementsByTagName!==G&&t}function c(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,s=F++;return e.first?function(e,n,s){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,s)}:function(e,n,a){var o,u,l=[V,s];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[H]||(e[H]={}),(o=u[r])&&o[0]===V&&o[1]===s)return l[2]=o[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,n,r){for(var i=0,s=n.length;s>i;i++)e(t,n[i],r);return r}function y(t,e,n,r,i){for(var s,a=[],o=0,u=t.length,l=null!=e;u>o;o++)(s=t[o])&&(!n||n(s,r,i))&&(a.push(s),l&&e.push(o));return a}function g(t,e,n,i,s,a){return i&&!i[H]&&(i=g(i)),s&&!s[H]&&(s=g(s,a)),r(function(r,a,o,u){var l,h,c,f=[],d=[],p=a.length,g=r||m(e||"*",o.nodeType?[o]:o,[]),v=!t||!r&&e?g:y(g,f,t,o,u),b=n?s||(r?t:p||i)?[]:a:v;if(n&&n(v,b,o,u),i)for(l=y(b,d),i(l,[],o,u),h=l.length;h--;)(c=l[h])&&(b[d[h]]=!(v[d[h]]=c));if(r){if(s||t){if(s){for(l=[],h=b.length;h--;)(c=b[h])&&l.push(v[h]=c);s(null,b=[],l,u)}for(h=b.length;h--;)(c=b[h])&&(l=s?ee.call(r,c):f[h])>-1&&(r[l]=!(a[l]=c))}}else b=y(b===a?b.splice(p,b.length):b),s?s(null,a,b,u):Q.apply(a,b)})}function v(t){for(var e,n,r,i=t.length,s=_.relative[t[0].type],a=s||_.relative[" "],o=s?1:0,u=d(function(t){return t===e},a,!0),l=d(function(t){return ee.call(e,t)>-1},a,!0),h=[function(t,n,r){return!s&&(r||n!==k)||((e=n).nodeType?u(t,n,r):l(t,n,r))}];i>o;o++)if(n=_.relative[t[o].type])h=[d(p(h),n)];else{if(n=_.filter[t[o].type].apply(null,t[o].matches),n[H]){for(r=++o;i>r&&!_.relative[t[r].type];r++);return g(o>1&&p(h),o>1&&f(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(ue,"$1"),n,r>o&&v(t.slice(o,r)),i>r&&v(t=t.slice(r)),i>r&&f(t))}h.push(n)}return p(h)}function b(t,n){var i=n.length>0,s=t.length>0,a=function(r,a,o,u,l){var h,c,f,d=0,p="0",m=r&&[],g=[],v=k,b=r||s&&_.find.TAG("*",l),x=V+=null==v?1:Math.random()||.1,w=b.length;for(l&&(k=a!==E&&a);p!==w&&null!=(h=b[p]);p++){if(s&&h){for(c=0;f=t[c++];)if(f(h,a,o)){u.push(h);break}l&&(V=x)}i&&((h=!f&&h)&&d--,r&&m.push(h))}if(d+=p,i&&p!==d){for(c=0;f=n[c++];)f(m,g,a,o);if(r){if(d>0)for(;p--;)m[p]||g[p]||(g[p]=K.call(u));g=y(g)}Q.apply(u,g),l&&!r&&g.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(V=x,k=v),m};return i?r(a):a}var x,w,_,T,C,A,D,S,k,L,I,Y,E,O,N,M,P,j,z,H="sizzle"+-new Date,B=t.document,V=0,F=0,R=n(),W=n(),U=n(),q=function(t,e){return t===e&&(I=!0),0},G="undefined",$=1<<31,X={}.hasOwnProperty,Z=[],K=Z.pop,J=Z.push,Q=Z.push,te=Z.slice,ee=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ie.replace("w","w#"),ae="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+re+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),he=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),ce=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),fe=new RegExp(oe),de=new RegExp("^"+se+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),_e=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(Z=te.call(B.childNodes),B.childNodes),Z[B.childNodes.length].nodeType}catch(Te){Q={apply:Z.length?function(t,e){J.apply(t,te.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},Y=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:B,r=n.defaultView;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,O=n.documentElement,N=!C(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){Y()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Y()})),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),w.getById=i(function(t){return O.appendChild(t).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),w.getById?(_.find.ID=function(t,e){if(typeof e.getElementById!==G&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){var n=typeof t.getAttributeNode!==G&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==G?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},_.find.CLASS=w.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==G&&N?e.getElementsByClassName(t):void 0},P=[],M=[],(w.qsa=ge.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&M.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||M.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+re+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ge.test(j=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){w.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),P.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),P=P.length&&new RegExp(P.join("|")),e=ge.test(O.compareDocumentPosition),z=e||ge.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return I=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!w.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===B&&z(B,t)?-1:e===n||e.ownerDocument===B&&z(B,e)?1:L?ee.call(L,t)-ee.call(L,e):0:4&r?-1:1)}:function(t,e){if(t===e)return I=!0,0;var r,i=0,s=t.parentNode,o=e.parentNode,u=[t],l=[e];if(!s||!o)return t===n?-1:e===n?1:s?-1:o?1:L?ee.call(L,t)-ee.call(L,e):0;if(s===o)return a(t,e);for(r=t;r=r.parentNode;)u.unshift(r);for(r=e;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===B?-1:l[i]===B?1:0},n):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&Y(t),n=n.replace(ce,"='$1']"),!(!w.matchesSelector||!N||P&&P.test(n)||M&&M.test(n)))try{var r=j.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&Y(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&Y(t);var n=_.attrHandle[e.toLowerCase()],r=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==r?r:w.attributes||!N?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(I=!w.detectDuplicates,L=!w.sortStable&&t.slice(0),t.sort(q),I){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return L=null,t},T=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=T(e);return n},_=e.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(we,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=A(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=R[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&R(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==G&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var s=e.attr(i,t);return null==s?"!="===n:n?(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s+" ").indexOf(r)>-1:"|="===n?s===r||s.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),o="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,h,c,f,d,p,m=s!==a?"nextSibling":"previousSibling",y=e.parentNode,g=o&&e.nodeName.toLowerCase(),v=!u&&!o;if(y){if(s){for(;m;){for(c=e;c=c[m];)if(o?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?y.firstChild:y.lastChild],a&&v){for(h=y[H]||(y[H]={}),l=h[t]||[],d=l[0]===V&&l[1],f=l[0]===V&&l[2],c=d&&y.childNodes[d];c=++d&&c&&c[m]||(f=d=0)||p.pop();)if(1===c.nodeType&&++f&&c===e){h[t]=[V,d,f];break}}else if(v&&(l=(e[H]||(e[H]={}))[t])&&l[0]===V)f=l[1];else for(;(c=++d&&c&&c[m]||(f=d=0)||p.pop())&&((o?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++f||(v&&((c[H]||(c[H]={}))[t]=[V,f]),c!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,s=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[H]?s(n):s.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=s(t,n),a=i.length;a--;)r=ee.call(t,i[a]),t[r]=!(e[r]=i[a])
}):function(t){return s(t,0,i)}):s}},pseudos:{not:r(function(t){var e=[],n=[],i=D(t.replace(ue,"$1"));return i[H]?r(function(t,e,n,r){for(var s,a=i(t,null,r,[]),o=t.length;o--;)(s=a[o])&&(t[o]=!(e[o]=s))}):function(t,r,s){return e[0]=t,i(e,null,s,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:r(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,_e).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ye.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=o(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=u(x);return c.prototype=_.filters=_.pseudos,_.setFilters=new c,A=e.tokenize=function(t,n){var r,i,s,a,o,u,l,h=W[t+" "];if(h)return n?0:h.slice(0);for(o=t,u=[],l=_.preFilter;o;){(!r||(i=le.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),u.push(s=[])),r=!1,(i=he.exec(o))&&(r=i.shift(),s.push({value:r,type:i[0].replace(ue," ")}),o=o.slice(r.length));for(a in _.filter)!(i=pe[a].exec(o))||l[a]&&!(i=l[a](i))||(r=i.shift(),s.push({value:r,type:a,matches:i}),o=o.slice(r.length));if(!r)break}return n?o.length:o?e.error(t):W(t,u).slice(0)},D=e.compile=function(t,e){var n,r=[],i=[],s=U[t+" "];if(!s){for(e||(e=A(t)),n=e.length;n--;)s=v(e[n]),s[H]?r.push(s):i.push(s);s=U(t,b(i,r)),s.selector=t}return s},S=e.select=function(t,e,n,r){var i,s,a,o,u,l="function"==typeof t&&t,c=!r&&A(t=l.selector||t);if(n=n||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&w.getById&&9===e.nodeType&&N&&_.relative[s[1].type]){if(e=(_.find.ID(a.matches[0].replace(we,_e),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(i=pe.needsContext.test(t)?0:s.length;i--&&(a=s[i],!_.relative[o=a.type]);)if((u=_.find[o])&&(r=u(a.matches[0].replace(we,_e),be.test(s[0].type)&&h(e.parentNode)||e))){if(s.splice(i,1),t=r.length&&f(s),!t)return Q.apply(n,r),n;break}}return(l||D(t,c))(r,e,!N,n,be.test(t)&&h(e.parentNode)||e),n},w.sortStable=H.split("").sort(q).join("")===H,w.detectDuplicates=!!I,Y(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||s(ne,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var se=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Q.find.matchesSelector(r,t)?[r]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(i[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,i[e],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&se.test(t)?Q(t):t||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,he=Q.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),ae.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};he.prototype=Q.fn,ue=Q(K);var ce=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Q(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,s=[],a=se.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?Q.unique(s):s)},index:function(t){return t?"string"==typeof t?q.call(Q(t),this[0]):q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,r){var i=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(fe[t]||Q.unique(i),ce.test(t)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,pe={};Q.Callbacks=function(t){t="string"==typeof t?pe[t]||s(t):Q.extend({},t);var e,n,r,i,a,o,u=[],l=!t.once&&[],h=function(s){for(e=t.memory&&s,n=!0,o=i||0,i=0,a=u.length,r=!0;u&&a>o;o++)if(u[o].apply(s[0],s[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(l?l.length&&h(l.shift()):e?u=[]:c.disable())},c={add:function(){if(u){var n=u.length;!function s(e){Q.each(e,function(e,n){var r=Q.type(n);"function"===r?t.unique&&c.has(n)||u.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),r?a=u.length:e&&(i=n,h(e))}return this},remove:function(){return u&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,o>=n&&o--)}),this},has:function(t){return t?Q.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||c.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],r?l.push(e):h(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,s){var a=Q.isFunction(t[e])&&t[e];i[s[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,r):r}},i={};return r.pipe=r.then,Q.each(e,function(t,s){var a=s[2],o=s[3];r[s[1]]=a.add,o&&a.add(function(){n=o},e[1^t][2].disable,e[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,s=R.call(arguments),a=s.length,o=1!==a||t&&Q.isFunction(t.promise)?a:0,u=1===o?t:Q.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?R.call(arguments):i,r===e?u.notifyWith(n,r):--o||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)s[i]&&Q.isFunction(s[i].promise)?s[i].promise().done(l(i,r,s)).fail(u.reject).progress(l(i,n,e)):--o;return o||u.resolveWith(r,s),u.promise()}});var me;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(me.resolveWith(K,[Q]),Q.fn.triggerHandler&&(Q(K).triggerHandler("ready"),Q(K).off("ready"))))}}),Q.ready.promise=function(e){return me||(me=Q.Deferred(),"complete"===K.readyState?setTimeout(Q.ready):(K.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),me.promise(e)},Q.ready.promise();var ye=Q.access=function(t,e,n,r,i,s,a){var o=0,u=t.length,l=null==n;if("object"===Q.type(n)){i=!0;for(o in n)Q.access(t,e,o,n[o],!0,s,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(Q(t),n)})),e))for(;u>o;o++)e(t[o],n,a?r:r.call(t[o],o,e(t[o],n)));return i?t:l?e.call(t):u?e(t[0],n):s};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},o.uid=1,o.accepts=Q.acceptData,o.prototype={key:function(t){if(!o.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=o.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),s=this.cache[i];if("string"==typeof e)s[e]=n;else if(Q.isEmptyObject(s))Q.extend(this.cache[i],e);else for(r in e)s[r]=e[r];return s},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,s=this.key(t),a=this.cache[s];if(void 0===e)this.cache[s]={};else{Q.isArray(e)?r=e.concat(e.map(Q.camelCase)):(i=Q.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ge=new o,ve=new o,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Q.extend({hasData:function(t){return ve.hasData(t)||ge.hasData(t)},data:function(t,e,n){return ve.access(t,e,n)},removeData:function(t,e){ve.remove(t,e)},_data:function(t,e,n){return ge.access(t,e,n)},_removeData:function(t,e){ge.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,r,i,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(i=ve.get(s),1===s.nodeType&&!ge.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),u(s,r,i[r])));ge.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ve.set(this,t)}):ye(this,function(e){var n,r=Q.camelCase(t);if(s&&void 0===e){if(n=ve.get(s,t),void 0!==n)return n;if(n=ve.get(s,r),void 0!==n)return n;if(n=u(s,r,void 0),void 0!==n)return n}else this.each(function(){var n=ve.get(this,r);ve.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&ve.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ve.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ge.get(t,e),n&&(!r||Q.isArray(n)?r=ge.access(t,e,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),r=n.length,i=n.shift(),s=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete s.stop,i.call(t,a,s)),!r&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ge.get(t,n)||ge.access(t,n,{empty:Q.Callbacks("once memory").add(function(){ge.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Q.Deferred(),s=this,a=this.length,o=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ge.get(s[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(o));return o(),i.promise(e)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],Te=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Ce=/^(?:checkbox|radio)$/i;!function(){var t=K.createDocumentFragment(),e=t.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ae="undefined";Z.focusinBubbles="onfocusin"in t;var De=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,r,i){var s,a,o,u,l,h,c,f,d,p,m,y=ge.get(t);if(y)for(n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=Q.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof Q!==Ae&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],l=e.length;l--;)o=Le.exec(e[l])||[],d=m=o[1],p=(o[2]||"").split(".").sort(),d&&(c=Q.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,c=Q.event.special[d]||{},h=Q.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},s),(f=u[d])||(f=u[d]=[],f.delegateCount=0,c.setup&&c.setup.call(t,r,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,h):f.push(h),Q.event.global[d]=!0)},remove:function(t,e,n,r,i){var s,a,o,u,l,h,c,f,d,p,m,y=ge.hasData(t)&&ge.get(t);if(y&&(u=y.events)){for(e=(e||"").match(de)||[""],l=e.length;l--;)if(o=Le.exec(e[l])||[],d=m=o[1],p=(o[2]||"").split(".").sort(),d){for(c=Q.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,f=u[d]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=f.length;s--;)h=f[s],!i&&m!==h.origType||n&&n.guid!==h.guid||o&&!o.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(f.splice(s,1),h.selector&&f.delegateCount--,c.remove&&c.remove.call(t,h));a&&!f.length&&(c.teardown&&c.teardown.call(t,p,y.handle)!==!1||Q.removeEvent(t,d,y.handle),delete u[d])}else for(d in u)Q.event.remove(t,d+e[l],n,r,!0);Q.isEmptyObject(u)&&(delete y.handle,ge.remove(t,"events"))}},trigger:function(e,n,r,i){var s,a,o,u,l,h,c,f=[r||K],d=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(a=o=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!ke.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[Q.expando]?e:new Q.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:Q.makeArray(n,[e]),c=Q.event.special[d]||{},i||!c.trigger||c.trigger.apply(r,n)!==!1)){if(!i&&!c.noBubble&&!Q.isWindow(r)){for(u=c.delegateType||d,ke.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(r.ownerDocument||K)&&f.push(o.defaultView||o.parentWindow||t)}for(s=0;(a=f[s++])&&!e.isPropagationStopped();)e.type=s>1?u:c.bindType||d,h=(ge.get(a,"events")||{})[e.type]&&ge.get(a,"handle"),h&&h.apply(a,n),h=l&&a[l],h&&h.apply&&Q.acceptData(a)&&(e.result=h.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||c._default&&c._default.apply(f.pop(),n)!==!1||!Q.acceptData(r)||l&&Q.isFunction(r[d])&&!Q.isWindow(r)&&(o=r[l],o&&(r[l]=null),Q.event.triggered=d,r[d](),Q.event.triggered=void 0,o&&(r[l]=o)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,r,i,s,a=[],o=R.call(arguments),u=(ge.get(this,"events")||{})[t.type]||[],l=Q.event.special[t.type]||{};if(o[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,r=((Q.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,o),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,s,a=[],o=e.delegateCount,u=t.target;if(o&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;o>n;n++)s=e[n],i=s.selector+" ",void 0===r[i]&&(r[i]=s.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),r[i]&&r.push(s);r.length&&a.push({elem:u,handlers:r})}return o<e.length&&a.push({elem:this,handlers:e.slice(o)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,s=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||K,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,r,i=t.type,s=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Se.test(i)?this.mouseHooks:De.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new Q.Event(s),e=r.length;e--;)n=r[e],t[n]=s[n];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,e):Q.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:h):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,s=t.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ge.access(r,e);i||r.addEventListener(t,n,!0),ge.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ge.access(r,e)-1;i?ge.access(r,e,i):(r.removeEventListener(t,n,!0),ge.remove(r,e))}}}),Q.fn.extend({on:function(t,e,n,r,i){var s,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=h;else if(!r)return this;return 1===i&&(s=r,r=function(t){return Q().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=h),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ye=/<([\w:]+)/,Ee=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,Q.extend({clone:function(t,e,n){var r,i,s,a,o=t.cloneNode(!0),u=Q.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=g(o),s=g(t),r=0,i=s.length;i>r;r++)v(s[r],a[r]);if(e)if(n)for(s=s||g(t),a=a||g(o),r=0,i=s.length;i>r;r++)y(s[r],a[r]);else y(t,o);return a=g(o,"script"),a.length>0&&m(a,!u&&g(t,"script")),o},buildFragment:function(t,e,n,r){for(var i,s,a,o,u,l,h=e.createDocumentFragment(),c=[],f=0,d=t.length;d>f;f++)if(i=t[f],i||0===i)if("object"===Q.type(i))Q.merge(c,i.nodeType?[i]:i);else if(Ee.test(i)){for(s=s||h.appendChild(e.createElement("div")),a=(Ye.exec(i)||["",""])[1].toLowerCase(),o=ze[a]||ze._default,s.innerHTML=o[1]+i.replace(Ie,"<$1></$2>")+o[2],l=o[0];l--;)s=s.lastChild;Q.merge(c,s.childNodes),s=h.firstChild,s.textContent=""}else c.push(e.createTextNode(i));for(h.textContent="",f=0;i=c[f++];)if((!r||-1===Q.inArray(i,r))&&(u=Q.contains(i.ownerDocument,i),s=g(h.appendChild(i),"script"),u&&m(s),n))for(l=0;i=s[l++];)Me.test(i.type||"")&&n.push(i);return h},cleanData:function(t){for(var e,n,r,i,s=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(i=n[ge.expando],i&&(e=ge.cache[i]))){if(e.events)for(r in e.events)s[r]?Q.event.remove(n,r):Q.removeEvent(n,r,e.handle);ge.cache[i]&&delete ge.cache[i]}delete ve.cache[n[ve.expando]]}}}),Q.fn.extend({text:function(t){return ye(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Q.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Q.cleanData(g(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&m(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return ye(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Oe.test(t)&&!ze[(Ye.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ie,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var n,r,i,s,a,o,u=0,l=this.length,h=this,c=l-1,f=t[0],m=Q.isFunction(f);if(m||l>1&&"string"==typeof f&&!Z.checkClone&&Ne.test(f))return this.each(function(n){var r=h.eq(n);m&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e)});if(l&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(g(n,"script"),d),s=i.length;l>u;u++)a=n,u!==c&&(a=Q.clone(a,!0,!0),s&&Q.merge(i,g(a,"script"))),e.call(this[u],a,u);if(s)for(o=i[i.length-1].ownerDocument,Q.map(i,p),u=0;s>u;u++)a=i[u],Me.test(a.type||"")&&!ge.access(a,"globalEval")&&Q.contains(o,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(je,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,r=[],i=Q(t),s=i.length-1,a=0;s>=a;a++)n=a===s?this:this.clone(!0),Q(i[a])[e](n),U.apply(r,n.get());return this.pushStack(r)}});var He,Be={},Ve=/^margin/,Fe=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),Re=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(s);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(s)}var n,r,i=K.documentElement,s=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(a),t.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(K.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(s),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(s),e}}))}(),Q.swap=function(t,e,n,r){var i,s,a={};for(s in e)a[s]=t.style[s],t.style[s]=e[s];i=n.apply(t,r||[]);for(s in e)t.style[s]=a[s];return i};var We=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),qe=new RegExp("^([+-])=("+we+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,s,a,o=Q.camelCase(e),u=t.style;return e=Q.cssProps[o]||(Q.cssProps[o]=T(u,o)),a=Q.cssHooks[e]||Q.cssHooks[o],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:(s=typeof n,"string"===s&&(i=qe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(t,e)),s="number"),void(null!=n&&n===n&&("number"!==s||Q.cssNumber[o]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n))))}},css:function(t,e,n,r){var i,s,a,o=Q.camelCase(e);return e=Q.cssProps[o]||(Q.cssProps[o]=T(t.style,o)),a=Q.cssHooks[e]||Q.cssHooks[o],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in $e&&(i=$e[e]),""===n||n?(s=parseFloat(i),n===!0||Q.isNumeric(s)?s||0:i):i
}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,r){return n?We.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Ge,function(){return D(t,e,r)}):D(t,e,r):void 0},set:function(t,n,r){var i=r&&Re(t);return C(t,n,r?A(t,e,r,"border-box"===Q.css(t,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=_(Z.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+_e[r]+e]=s[r]||s[r-2]||s[0];return i}},Ve.test(t)||(Q.cssHooks[t+e].set=C)}),Q.fn.extend({css:function(t,e){return ye(this,function(t,e,n){var r,i,s={},a=0;if(Q.isArray(e)){for(r=Re(t),i=e.length;i>a;a++)s[e[a]]=Q.css(t,e[a],!1,r);return s}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Te(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=k,k.prototype={constructor:k,init:function(t,e,n,r,i,s){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=s||(Q.cssNumber[n]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,n=k.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=k.prototype.init,Q.fx.step={};var Ze,Ke,Je=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[E],nn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Qe.exec(e),s=i&&i[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==s&&+r)&&Qe.exec(Q.css(n.elem,t)),o=1,u=20;if(a&&a[3]!==s){s=s||a[3],i=i||[],a=+r||1;do o=o||".5",a/=o,Q.style(n.elem,t,a+s);while(o!==(o=n.cur()/r)&&1!==o&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=s,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Q.speed=function(t,e,n){var r=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Q.isEmptyObject(t),s=Q.speed(e,n,r),a=function(){var e=N(this,Q.extend({},t),s);(i||ge.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=Q.timers,a=ge.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&tn.test(i)&&r(a[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ge.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],s=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(I(e,!0),t,r,i)}}),Q.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Ze=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Ze=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ke||(Ke=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ke),Ke=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),n=e.appendChild(K.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=K.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var rn,sn,an=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return ye(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var r,i,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?typeof t.getAttribute===Ae?Q.prop(t,e,n):(1===s&&Q.isXMLDoc(t)||(e=e.toLowerCase(),r=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?sn:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Q.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e)):void 0},removeAttr:function(t,e){var n,r,i=0,s=e&&e.match(de);if(s&&1===t.nodeType)for(;n=s[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),sn={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||Q.find.attr;an[e]=function(t,e,r){var i,s;return r||(s=an[e],an[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,an[e]=s),i}});var on=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return ye(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(s=1!==a||!Q.isXMLDoc(t),s&&(e=Q.propFix[e]||e,i=Q.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||on.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,r,i,s,a,o="string"==typeof t&&t,u=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(o)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(s=0;i=e[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,s,a,o=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(o)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(s=0;i=e[s++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Q(this),s=t.match(de)||[];e=s[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ae||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;Q.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=Q.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Q(this).val()):t,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,s="select-one"===t.type||0>i,a=s?null:[],o=s?i+1:r.length,u=0>i?o:s?i:0;o>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,s=Q.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,s)>=0)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},Z.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var hn=Q.now(),cn=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var fn,dn,pn=/#.*$/,mn=/([?&])_=[^&]*/,yn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,bn=/^\/\//,xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wn={},_n={},Tn="*/".concat("*");try{dn=location.href}catch(Cn){dn=K.createElement("a"),dn.href="",dn=dn.href}fn=xn.exec(dn.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dn,type:"GET",isLocal:gn.test(fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,Q.ajaxSettings),e):j(Q.ajaxSettings,t)},ajaxPrefilter:M(wn),ajaxTransport:M(_n),ajax:function(t,e){function n(t,e,n,a){var u,h,g,v,x,_=e;2!==b&&(b=2,o&&clearTimeout(o),r=void 0,s=a||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(v=z(c,w,n)),v=H(c,v,w,u),u?(c.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[i]=x),x=w.getResponseHeader("etag"),x&&(Q.etag[i]=x)),204===t||"HEAD"===c.type?_="nocontent":304===t?_="notmodified":(_=v.state,h=v.data,g=v.error,u=!g)):(g=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",u?p.resolveWith(f,[h,_,w]):p.rejectWith(f,[w,_,g]),w.statusCode(y),y=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,c,u?h:g]),m.fireWith(f,[w,_]),l&&(d.trigger("ajaxComplete",[w,c]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,s,a,o,u,l,h,c=Q.ajaxSetup({},e),f=c.context||c,d=c.context&&(f.nodeType||f.jquery)?Q(f):Q.event,p=Q.Deferred(),m=Q.Callbacks("once memory"),y=c.statusCode||{},g={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=yn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=v[n]=v[n]||t,g[t]=e),this},overrideMimeType:function(t){return b||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)y[e]=[y[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,c.url=((t||c.url||dn)+"").replace(pn,"").replace(bn,fn[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=Q.trim(c.dataType||"*").toLowerCase().match(de)||[""],null==c.crossDomain&&(u=xn.exec(c.url.toLowerCase()),c.crossDomain=!(!u||u[1]===fn[1]&&u[2]===fn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(fn[3]||("http:"===fn[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Q.param(c.data,c.traditional)),P(wn,c,e,w),2===b)return w;l=c.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(cn.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=mn.test(i)?i.replace(mn,"$1_="+hn++):i+(cn.test(i)?"&":"?")+"_="+hn++)),c.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(h in c.headers)w.setRequestHeader(h,c.headers[h]);if(c.beforeSend&&(c.beforeSend.call(f,w,c)===!1||2===b))return w.abort();x="abort";for(h in{success:1,error:1,complete:1})w[h](c[h]);if(r=P(_n,c,e,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},c.timeout));try{b=1,r.send(g,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var An=/%20/g,Dn=/\[\]$/,Sn=/\r?\n/g,kn=/^(?:submit|button|image|reset|file)$/i,Ln=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,r=[],i=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){i(this.name,this.value)});else for(n in t)B(n,t[n],e,i);return r.join("&").replace(An,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Ln.test(this.nodeName)&&!kn.test(t)&&(this.checked||!Ce.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Sn,"\r\n")}}):{name:e.name,value:n.replace(Sn,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var In=0,Yn={},En={0:200,1223:204},On=Q.ajaxSettings.xhr();t.ActiveXObject&&Q(t).on("unload",function(){for(var t in Yn)Yn[t]()}),Z.cors=!!On&&"withCredentials"in On,Z.ajax=On=!!On,Q.ajaxTransport(function(t){var e;return Z.cors||On&&!t.crossDomain?{send:function(n,r){var i,s=t.xhr(),a=++In;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)s[i]=t.xhrFields[i];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Yn[a],e=s.onload=s.onerror=null,"abort"===t?s.abort():"error"===t?r(s.status,s.statusText):r(En[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=e(),s.onerror=e("error"),e=Yn[a]=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(o){if(e)throw o}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Nn=[],Mn=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Nn.pop()||Q.expando+"_"+hn++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,r){var i,s,a,o=e.jsonp!==!1&&(Mn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mn.test(e.data)&&"data");return o||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Mn,"$1"+i):e.jsonp!==!1&&(e.url+=(cn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},e.dataTypes[0]="json",s=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=s,e[i]&&(e.jsonpCallback=n.jsonpCallback,Nn.push(i)),a&&Q.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var r=ae.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Q.buildFragment([t],e,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Pn=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Pn)return Pn.apply(this,arguments);var r,i,s,a=this,o=t.indexOf(" ");return o>=0&&(r=Q.trim(t.slice(o)),t=t.slice(0,o)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&Q.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){s=arguments,a.html(r?Q("<div>").append(Q.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,s||[t.responseText,e,t])}),this},Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var jn=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var r,i,s,a,o,u,l,h=Q.css(t,"position"),c=Q(t),f={};"static"===h&&(t.style.position="relative"),o=c.offset(),s=Q.css(t,"top"),u=Q.css(t,"left"),l=("absolute"===h||"fixed"===h)&&(s+u).indexOf("auto")>-1,l?(r=c.position(),a=r.top,i=r.left):(a=parseFloat(s)||0,i=parseFloat(u)||0),Q.isFunction(e)&&(e=e.call(t,n,o)),null!=e.top&&(f.top=e.top-o.top+a),null!=e.left&&(f.left=e.left-o.left+i),"using"in e?e.using.call(t,f):c.css(f)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;return s?(e=s.documentElement,Q.contains(e,r)?(typeof r.getBoundingClientRect!==Ae&&(i=r.getBoundingClientRect()),n=V(s),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(r=t.offset()),r.top+=Q.css(t[0],"borderTopWidth",!0),r.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Q.css(n,"marginTop",!0),left:e.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||jn;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||jn})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Q.fn[e]=function(i){return ye(this,function(e,i,s){var a=V(e);return void 0===s?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:s,r?s:t.pageYOffset):e[i]=s)},e,i,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=_(Z.pixelPosition,function(t,n){return n?(n=w(t,e),Fe.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Q.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return ye(this,function(e,n,r){var i;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Q.css(e,n,a):Q.style(e,n,r,a)},e,s?r:void 0,s,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var zn=t.jQuery,Hn=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Hn),e&&t.jQuery===Q&&(t.jQuery=zn),Q},typeof e===Ae&&(t.jQuery=t.$=Q),Q}),!function(t){"function"==typeof define&&define.amd?window.Velocity?define(t):define(["jquery"],t):t("object"==typeof exports?window.Velocity?void 0:require("jquery"):window.jQuery)}(function(t){return function(e,n,r,i){function s(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function a(t){var e=c.data(t,f);return null===e?i:e}function o(t){return function(e){return Math.round(e*t)*(1/t)}}function u(t,e){var n=t;return v.isString(t)?b.Easings[t]||(n=!1):n=v.isArray(t)&&1===t.length?o.apply(null,t):v.isArray(t)&&2===t.length?w.apply(null,t.concat([e])):v.isArray(t)&&4===t.length?x.apply(null,t):!1,n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:p),n}function l(t){if(t)for(var e=(new Date).getTime(),n=0,r=b.State.calls.length;r>n;n++)if(b.State.calls[n]){var s=b.State.calls[n],o=s[0],u=s[2],c=s[3];c||(c=b.State.calls[n][3]=e-16);for(var f=Math.min((e-c)/u.duration,1),d=0,p=o.length;p>d;d++){var m=o[d],y=m.element;if(a(y)){var x=!1;u.display&&"none"!==u.display&&_.setPropertyValue(y,"display",u.display),u.visibility&&"hidden"!==u.visibility&&_.setPropertyValue(y,"visibility",u.visibility);for(var w in m)if("element"!==w){var T,C=m[w],A=v.isString(C.easing)?b.Easings[C.easing]:C.easing;if(T=1===f?C.endValue:C.startValue+(C.endValue-C.startValue)*A(f),C.currentValue=T,_.Hooks.registered[w]){var D=_.Hooks.getRoot(w),S=a(y).rootPropertyValueCache[D];S&&(C.rootPropertyValue=S)}var k=_.setPropertyValue(y,w,C.currentValue+(0===parseFloat(T)?"":C.unitType),C.rootPropertyValue,C.scrollData);_.Hooks.registered[w]&&(a(y).rootPropertyValueCache[D]=_.Normalizations.registered[D]?_.Normalizations.registered[D]("extract",null,k[1]):k[1]),"transform"===k[0]&&(x=!0)}u.mobileHA&&a(y).transformCache.translate3d===i&&(a(y).transformCache.translate3d="(0px, 0px, 0px)",x=!0),x&&_.flushTransformCache(y)}}u.display&&"none"!==u.display&&(b.State.calls[n][2].display=!1),u.visibility&&"hidden"!==u.visibility&&(b.State.calls[n][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],f,Math.max(0,c+u.duration-e),c),1===f&&h(n)}b.State.isTicking&&(b.mock?l(!0):g(l))}function h(t,e){if(!b.State.calls[t])return!1;for(var n=b.State.calls[t][0],r=b.State.calls[t][1],s=b.State.calls[t][2],o=b.State.calls[t][4],u=!1,l=0,h=n.length;h>l;l++){var f=n[l].element;if(e||s.loop||("none"===s.display&&_.setPropertyValue(f,"display",s.display),"hidden"===s.visibility&&_.setPropertyValue(f,"visibility",s.visibility)),(c.queue(f)[1]===i||!/\.velocityQueueEntryFlag/i.test(c.queue(f)[1]))&&a(f)){a(f).isAnimating=!1,a(f).rootPropertyValueCache={};var d=!1;c.each(a(f).transformCache,function(t,e){var n=/^scale/.test(t)?1:0;new RegExp("^\\("+n+"[^.]").test(e)&&(d=!0,delete a(f).transformCache[t])}),s.mobileHA&&(d=!0,delete a(f).transformCache.translate3d),d&&_.flushTransformCache(f),_.Values.removeClass(f,"velocity-animating")}if(!e&&s.complete&&!s.loop&&l===h-1)try{s.complete.call(r,r)}catch(p){setTimeout(function(){throw p},1)}o&&s.loop!==!0&&o(r),s.loop!==!0||e||b.animate(f,"reverse",{loop:!0,delay:s.delay}),s.queue!==!1&&c.dequeue(f,s.queue)}b.State.calls[t]=!1;for(var m=0,y=b.State.calls.length;y>m;m++)if(b.State.calls[m]!==!1){u=!0;break}u===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var c,f="velocity",d=400,p="swing",m=function(){if(r.documentMode)return r.documentMode;for(var t=7;t>4;t--){var e=r.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return i}(),y=function(){var t=0;return n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-t)),t=r+n,setTimeout(function(){e(r+n)},n)}}(),g=n.requestAnimationFrame||y,v={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==i&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||n.Zepto&&n.Zepto.zepto.isZ(t))},isSVG:function(t){return n.SVGElement&&t instanceof SVGElement},isEmptyObject:function(t){var e;for(e in t)return!1;return!0}};if(t&&t.fn!==i?c=t:n.Velocity&&n.Velocity.Utilities&&(c=n.Velocity.Utilities),!c)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(e.Velocity!==i&&e.Velocity.Utilities==i)throw new Error("Velocity: Namespace is occupied.");if(7>=m){if(t)return void(t.fn.velocity=t.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===m&&!t)throw new Error("Velocity: For IE8, Velocity requires jQuery proper to be loaded; Velocity's jQuery shim does not work with IE8.");var b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:n.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:c,Sequences:{},Easings:{},Promise:n.Promise,defaults:{queue:"",duration:d,easing:p,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){c.data(t,f,{isSVG:v.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:function(){},hook:function(t,e,n){var r=i;return v.isWrapped(t)&&(t=[].slice.call(t)),c.each(v.isNode(t)?[t]:t,function(t,s){if(a(s)===i&&b.init(s),n===i)r===i&&(r=b.CSS.getPropertyValue(s,e));else{var o=b.CSS.setPropertyValue(s,e,n);"transform"===o[0]&&b.CSS.flushTransformCache(s),r=o}}),r},mock:!1,version:{major:0,minor:11,patch:2},debug:!1};n.pageYOffset!==i?(b.State.scrollAnchor=n,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var x=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function r(r,i,s){return((t(i,s)*r+e(i,s))*r+n(i))*r}function i(r,i,s){return 3*t(i,s)*r*r+2*e(i,s)*r+n(i)}return function(t,e,n,s){function a(e){for(var s=e,a=0;8>a;++a){var o=i(s,t,n);if(0===o)return s;var u=r(s,t,n)-e;s-=u/o}return s}if(4!==arguments.length)return!1;for(var o=0;4>o;++o)if("number"!=typeof arguments[o]||isNaN(arguments[o])||!isFinite(arguments[o]))return!1;return t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0),function(i){return t===e&&n===s?i:r(a(i),e,s)}}}(),w=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},s=e(n,.5*r,i),a=e(n,.5*r,s),o=e(n,r,a),u=1/6*(i.dx+2*(s.dx+a.dx)+o.dx),l=1/6*(i.dv+2*(s.dv+a.dv)+o.dv);
return n.x=n.x+u*r,n.v=n.v+l*r,n}return function r(t,e,i){var s,a,o,u={x:-1,v:0,tension:null,friction:null},l=[0],h=0,c=1e-4,f=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,i=i||null,u.tension=t,u.friction=e,s=null!==i,s?(h=r(t,e),a=h/i*f):a=f;o=n(o||u,a),l.push(1+o.x),h+=16,Math.abs(o.x)>c&&Math.abs(o.v)>c;);return s?function(t){return l[t*(l.length-1)|0]}:h}}();!function(){b.Easings.linear=function(t){return t},b.Easings.swing=function(t){return.5-Math.cos(t*Math.PI)/2},b.Easings.spring=function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)},b.Easings.ease=x(.25,.1,.25,1),b.Easings["ease-in"]=x(.42,0,1,1),b.Easings["ease-out"]=x(0,0,.58,1),b.Easings["ease-in-out"]=x(.42,0,.58,1);var t={};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),c.extend(t,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),c.each(t,function(t,e){b.Easings["easeIn"+t]=e,b.Easings["easeOut"+t]=function(t){return 1-e(1-t)},b.Easings["easeInOut"+t]=function(t){return.5>t?e(2*t)/2:1-e(-2*t+2)/2}})}();var _=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<_.Lists.colors.length;t++)_.Hooks.templates[_.Lists.colors[t]]=["Red Green Blue Alpha","255 255 255 1"];var e,n,r;if(m)for(e in _.Hooks.templates){n=_.Hooks.templates[e],r=n[0].split(" ");var i=n[1].match(_.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),i.push(i.shift()),_.Hooks.templates[e]=[r.join(" "),i.join(" ")])}for(e in _.Hooks.templates){n=_.Hooks.templates[e],r=n[0].split(" ");for(var t in r){var s=e+r[t],a=t;_.Hooks.registered[s]=[e,a]}}},getRoot:function(t){var e=_.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return _.RegEx.valueUnwrap.test(e)&&(e=e.match(_.Hooks.RegEx.valueUnwrap)[1]),_.Values.isCSSNullValue(e)&&(e=_.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=_.Hooks.registered[t];if(n){var r=n[0],i=n[1];return e=_.Hooks.cleanRootPropertyValue(r,e),e.toString().match(_.RegEx.valueSplit)[i]}return e},injectValue:function(t,e,n){var r=_.Hooks.registered[t];if(r){var i,s,a=r[0],o=r[1];return n=_.Hooks.cleanRootPropertyValue(a,n),i=n.toString().match(_.RegEx.valueSplit),i[o]=e,s=i.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var r;return _.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(_.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},opacity:function(t,e,n){if(8>=m)switch(t){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=m||b.State.isGingerbread||(_.Lists.transformsBase=_.Lists.transformsBase.concat(_.Lists.transforms3D));for(var t=0;t<_.Lists.transformsBase.length;t++)!function(){var e=_.Lists.transformsBase[t];_.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return"transform";case"extract":return a(n)===i||a(n).transformCache[e]===i?/^scale/i.test(e)?1:0:a(n).transformCache[e].replace(/[()]/g,"");case"inject":var s=!1;switch(e.substr(0,e.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":b.State.isAndroid&&a(n).transformCache[e]===i&&1>r&&(r=1),s=!/(\d)$/i.test(r);break;case"skew":s=!/(deg|\d)$/i.test(r);break;case"rotate":s=!/(deg|\d)$/i.test(r)}return s||(a(n).transformCache[e]="("+r+")"),a(n).transformCache[e]}}}();for(var t=0;t<_.Lists.colors.length;t++)!function(){var e=_.Lists.colors[t];_.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return e;case"extract":var s;if(_.RegEx.wrappedValueAlreadyExtracted.test(r))s=r;else{var a,o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=o[r]!==i?o[r]:o.black:_.RegEx.isHex.test(r)?a="rgb("+_.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=o.black),s=(a||r).toString().match(_.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=m||3!==s.split(" ").length||(s+=" 1"),s;case"inject":return 8>=m?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=m?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,r=e.length;r>n;n++){var i;if(i=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),v.isString(b.State.prefixElement.style[i]))return b.State.prefixMatches[t]=i,[i,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,r){return e+e+n+n+r+r}),e=r.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,e,r,s){function o(t,e){function r(){l&&_.setPropertyValue(t,"display","none")}var u=0;if(8>=m)u=c.css(t,e);else{var l=!1;if(/^(width|height)$/.test(e)&&0===_.getPropertyValue(t,"display")&&(l=!0,_.setPropertyValue(t,"display",_.Values.getDisplayType(t))),!s){if("height"===e&&"border-box"!==_.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var h=t.offsetHeight-(parseFloat(_.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(_.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(_.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(_.getPropertyValue(t,"paddingBottom"))||0);return r(),h}if("width"===e&&"border-box"!==_.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var f=t.offsetWidth-(parseFloat(_.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(_.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(_.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(_.getPropertyValue(t,"paddingRight"))||0);return r(),f}}var d;d=a(t)===i?n.getComputedStyle(t,null):a(t).computedStyle?a(t).computedStyle:a(t).computedStyle=n.getComputedStyle(t,null),(m||b.State.isFirefox)&&"borderColor"===e&&(e="borderTopColor"),u=9===m&&"filter"===e?d.getPropertyValue(e):d[e],(""===u||null===u)&&(u=t.style[e]),r()}if("auto"===u&&/^(top|right|bottom|left)$/i.test(e)){var p=o(t,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(e))&&(u=c(t).position()[e]+"px")}return u}var u;if(_.Hooks.registered[e]){var l=e,h=_.Hooks.getRoot(l);r===i&&(r=_.getPropertyValue(t,_.Names.prefixCheck(h)[0])),_.Normalizations.registered[h]&&(r=_.Normalizations.registered[h]("extract",t,r)),u=_.Hooks.extractValue(l,r)}else if(_.Normalizations.registered[e]){var f,d;f=_.Normalizations.registered[e]("name",t),"transform"!==f&&(d=o(t,_.Names.prefixCheck(f)[0]),_.Values.isCSSNullValue(d)&&_.Hooks.templates[e]&&(d=_.Hooks.templates[e][1])),u=_.Normalizations.registered[e]("extract",t,d)}return/^[\d-]/.test(u)||(u=a(t)&&a(t).isSVG&&_.Names.SVGAttribute(e)?/^(height|width)$/i.test(e)?t.getBBox()[e]:t.getAttribute(e):o(t,_.Names.prefixCheck(e)[0])),_.Values.isCSSNullValue(u)&&(u=0),b.debug>=2&&console.log("Get "+e+": "+u),u},setPropertyValue:function(t,e,r,i,s){var o=e;if("scroll"===e)s.container?s.container["scroll"+s.direction]=r:"Left"===s.direction?n.scrollTo(r,s.alternateValue):n.scrollTo(s.alternateValue,r);else if(_.Normalizations.registered[e]&&"transform"===_.Normalizations.registered[e]("name",t))_.Normalizations.registered[e]("inject",t,r),o="transform",r=a(t).transformCache[e];else{if(_.Hooks.registered[e]){var u=e,l=_.Hooks.getRoot(e);i=i||_.getPropertyValue(t,l),r=_.Hooks.injectValue(u,r,i),e=l}if(_.Normalizations.registered[e]&&(r=_.Normalizations.registered[e]("inject",t,r),e=_.Normalizations.registered[e]("name",t)),o=_.Names.prefixCheck(e)[0],8>=m)try{t.style[o]=r}catch(h){b.debug&&console.log("Browser does not support ["+r+"] for ["+o+"]")}else a(t)&&a(t).isSVG&&_.Names.SVGAttribute(e)?t.setAttribute(e,r):t.style[o]=r;b.debug>=2&&console.log("Set "+e+" ("+o+"): "+r)}return[o,r]},flushTransformCache:function(t){function e(e){return parseFloat(_.getPropertyValue(t,e))}var n="";if((m||b.State.isAndroid&&!b.State.isChrome)&&a(t).isSVG){var r={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};c.each(a(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),r[t]&&(n+=t+"("+r[t].join(" ")+") ",delete r[t])})}else{var i,s;c.each(a(t).transformCache,function(e){return i=a(t).transformCache[e],"transformPerspective"===e?(s=i,!0):(9===m&&"rotateZ"===e&&(e="rotate"),void(n+=e+i+" "))}),s&&(n="perspective"+s+" "+n)}_.setPropertyValue(t,"transform",n)}};_.Hooks.register(),_.Normalizations.register(),b.animate=function(){function t(){return o?D.promise||null:f}function e(){function t(){function t(t,e){var n=i,r=i,s=i;return v.isArray(t)?(n=t[0],!v.isArray(t[1])&&/^[\d-]/.test(t[1])||v.isFunction(t[1])||_.RegEx.isHex.test(t[1])?s=t[1]:(v.isString(t[1])&&!_.RegEx.isHex.test(t[1])||v.isArray(t[1]))&&(r=e?t[1]:u(t[1],h.duration),t[2]!==i&&(s=t[2]))):n=t,e||(r=r||h.easing),v.isFunction(n)&&(n=n.call(o,T,w)),v.isFunction(s)&&(s=s.call(o,T,w)),[n||0,r,s]}function d(t,e){var n,r;return r=(e||0).toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=_.Values.getUnitType(t)),[r,n]}function p(){var t={myParent:o.parentNode||r.body,position:_.getPropertyValue(o,"position"),fontSize:_.getPropertyValue(o,"fontSize")},e=t.position===E.lastPosition&&t.myParent===E.lastParent,i=t.fontSize===E.lastFontSize;E.lastParent=t.myParent,E.lastPosition=t.position,E.lastFontSize=t.fontSize;var s=100,u={};if(i&&e)u.emToPx=E.lastEmToPx,u.percentToPxWidth=E.lastPercentToPxWidth,u.percentToPxHeight=E.lastPercentToPxHeight;else{var l=a(o).isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");b.init(l),t.myParent.appendChild(l),b.CSS.setPropertyValue(l,"position",t.position),b.CSS.setPropertyValue(l,"fontSize",t.fontSize),b.CSS.setPropertyValue(l,"overflow","hidden"),b.CSS.setPropertyValue(l,"overflowX","hidden"),b.CSS.setPropertyValue(l,"overflowY","hidden"),b.CSS.setPropertyValue(l,"boxSizing","content-box"),b.CSS.setPropertyValue(l,"paddingLeft",s+"em"),b.CSS.setPropertyValue(l,"minWidth",s+"%"),b.CSS.setPropertyValue(l,"maxWidth",s+"%"),b.CSS.setPropertyValue(l,"width",s+"%"),b.CSS.setPropertyValue(l,"minHeight",s+"%"),b.CSS.setPropertyValue(l,"maxHeight",s+"%"),b.CSS.setPropertyValue(l,"height",s+"%"),u.percentToPxWidth=E.lastPercentToPxWidth=(parseFloat(_.getPropertyValue(l,"width",null,!0))||1)/s,u.percentToPxHeight=E.lastPercentToPxHeight=(parseFloat(_.getPropertyValue(l,"height",null,!0))||1)/s,u.emToPx=E.lastEmToPx=(parseFloat(_.getPropertyValue(l,"paddingLeft"))||1)/s,t.myParent.removeChild(l)}return null===E.remToPx&&(E.remToPx=parseFloat(_.getPropertyValue(r.body,"fontSize"))||16),null===E.vwToPx&&(E.vwToPx=parseFloat(n.innerWidth)/100,E.vhToPx=parseFloat(n.innerHeight)/100),u.remToPx=E.remToPx,u.vwToPx=E.vwToPx,u.vhToPx=E.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(u),o),u}if(h.begin&&0===T)try{h.begin.call(m,m)}catch(x){setTimeout(function(){throw x},1)}if("scroll"===S){var C,A,k,L=/^x$/i.test(h.axis)?"Left":"Top",I=parseFloat(h.offset)||0;h.container?v.isWrapped(h.container)||v.isNode(h.container)?(h.container=h.container[0]||h.container,C=h.container["scroll"+L],k=C+c(o).position()[L.toLowerCase()]+I):h.container=null:(C=b.State.scrollAnchor[b.State["scrollProperty"+L]],A=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===L?"Top":"Left")]],k=c(o).offset()[L.toLowerCase()]+I),f={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:k,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:L,alternateValue:A}},element:o},b.debug&&console.log("tweensContainer (scroll): ",f.scroll,o)}else if("reverse"===S){if(!a(o).tweensContainer)return void c.dequeue(o,h.queue);"none"===a(o).opts.display&&(a(o).opts.display="block"),"hidden"===a(o).opts.visibility&&(a(o).opts.visibility="visible"),a(o).opts.loop=!1,a(o).opts.begin=null,a(o).opts.complete=null,g.easing||delete h.easing,g.duration||delete h.duration,h=c.extend({},a(o).opts,h);var Y=c.extend(!0,{},a(o).tweensContainer);for(var N in Y)if("element"!==N){var M=Y[N].startValue;Y[N].startValue=Y[N].currentValue=Y[N].endValue,Y[N].endValue=M,v.isEmptyObject(g)||(Y[N].easing=h.easing),b.debug&&console.log("reverse tweensContainer ("+N+"): "+JSON.stringify(Y[N]),o)}f=Y}else if("start"===S){var Y;a(o).tweensContainer&&a(o).isAnimating===!0&&(Y=a(o).tweensContainer),c.each(y,function(e,n){if(RegExp("^"+_.Lists.colors.join("$|^")+"$").test(e)){var r=t(n,!0),s=r[0],a=r[1],o=r[2];if(_.RegEx.isHex.test(s)){for(var u=["Red","Green","Blue"],l=_.Values.hexToRgb(s),h=o?_.Values.hexToRgb(o):i,c=0;c<u.length;c++)y[e+u[c]]=[l[c],a,h?h[c]:h];delete y[e]}}});for(var P in y){var j=t(y[P]),z=j[0],H=j[1],B=j[2];P=_.Names.camelCase(P);var V=_.Hooks.getRoot(P),F=!1;if(a(o).isSVG||_.Names.prefixCheck(V)[1]!==!1||_.Normalizations.registered[V]!==i){(h.display&&"none"!==h.display||h.visibility&&"hidden"!==h.visibility)&&/opacity|filter/.test(P)&&!B&&0!==z&&(B=0),h._cacheValues&&Y&&Y[P]?(B===i&&(B=Y[P].endValue+Y[P].unitType),F=a(o).rootPropertyValueCache[V]):_.Hooks.registered[P]?B===i?(F=_.getPropertyValue(o,V),B=_.getPropertyValue(o,P,F)):F=_.Hooks.templates[V][1]:B===i&&(B=_.getPropertyValue(o,P));var R,W,U,q=!1;if(R=d(P,B),B=R[0],U=R[1],R=d(P,z),z=R[0].replace(/^([+-\/*])=/,function(t,e){return q=e,""}),W=R[1],B=parseFloat(B)||0,z=parseFloat(z)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(P)?(z/=100,W="em"):/^scale/.test(P)?(z/=100,W=""):/(Red|Green|Blue)$/i.test(P)&&(z=z/100*255,W="")),/[\/*]/.test(q))W=U;else if(U!==W&&0!==B)if(0===z)W=U;else{e=e||p();var G=/margin|padding|left|right|width|text|word|letter/i.test(P)||/X$/.test(P)?"x":"y";switch(U){case"%":B*="x"===G?e.percentToPxWidth:e.percentToPxHeight;break;case"px":break;default:B*=e[U+"ToPx"]}switch(W){case"%":B*=1/("x"===G?e.percentToPxWidth:e.percentToPxHeight);break;case"px":break;default:B*=1/e[W+"ToPx"]}}switch(q){case"+":z=B+z;break;case"-":z=B-z;break;case"*":z=B*z;break;case"/":z=B/z}f[P]={rootPropertyValue:F,startValue:B,currentValue:B,endValue:z,unitType:W,easing:H},b.debug&&console.log("tweensContainer ("+P+"): "+JSON.stringify(f[P]),o)}else b.debug&&console.log("Skipping ["+V+"] due to a lack of browser support.")}f.element=o}f.element&&(_.Values.addClass(o,"velocity-animating"),O.push(f),a(o).tweensContainer=f,a(o).opts=h,a(o).isAnimating=!0,T===w-1?(b.State.calls.length>1e4&&(b.State.calls=s(b.State.calls)),b.State.calls.push([O,m,h,null,D.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,l())):T++)}var e,o=this,h=c.extend({},b.defaults,g),f={};if(a(o)===i&&b.init(o),parseFloat(h.delay)&&h.queue!==!1&&c.queue(o,h.queue,function(t){b.velocityQueueEntryFlag=!0,a(o).delayTimer={setTimeout:setTimeout(t,parseFloat(h.delay)),next:t}}),b.mock===!0)h.duration=1;else switch(h.duration.toString().toLowerCase()){case"fast":h.duration=200;break;case"normal":h.duration=d;break;case"slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}h.easing=u(h.easing,h.duration),h.begin&&!v.isFunction(h.begin)&&(h.begin=null),h.progress&&!v.isFunction(h.progress)&&(h.progress=null),h.complete&&!v.isFunction(h.complete)&&(h.complete=null),h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===h.display&&(h.display=b.CSS.Values.getDisplayType(o))),h.visibility&&(h.visibility=h.visibility.toString().toLowerCase()),h.mobileHA=h.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,h.queue===!1?h.delay?setTimeout(t,h.delay):t():c.queue(o,h.queue,function(e,n){return n===!0?(D.promise&&D.resolver(m),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==h.queue&&"fx"!==h.queue||"inprogress"===c.queue(o)[0]||c.dequeue(o)}var o,f,p,m,y,g,x=arguments[0]&&(c.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||v.isString(arguments[0].properties));if(v.isWrapped(this)?(o=!1,p=0,m=this,f=this):(o=!0,p=1,m=x?arguments[0].elements:arguments[0]),m=v.isWrapped(m)?[].slice.call(m):m){x?(y=arguments[0].properties,g=arguments[0].options):(y=arguments[p],g=arguments[p+1]);var w=v.isArray(m)||v.isNodeList(m)?m.length:1,T=0;if("stop"!==y&&!c.isPlainObject(g)){var C=p+1;g={};for(var A=C;A<arguments.length;A++)!v.isArray(arguments[A])&&/^\d/.test(arguments[A])?g.duration=parseFloat(arguments[A]):v.isString(arguments[A])||v.isArray(arguments[A])?g.easing=arguments[A]:v.isFunction(arguments[A])&&(g.complete=arguments[A])}var D={promise:null,resolver:null,rejecter:null};o&&b.Promise&&(D.promise=new b.Promise(function(t,e){D.resolver=t,D.rejecter=e}));var S;switch(y){case"scroll":S="scroll";break;case"reverse":S="reverse";break;case"stop":c.each(v.isNode(m)?[m]:m,function(t,e){a(e)&&a(e).delayTimer&&(clearTimeout(a(e).delayTimer.setTimeout),a(e).delayTimer.next&&a(e).delayTimer.next(),delete a(e).delayTimer)});var k=[];return c.each(b.State.calls,function(t,e){e&&c.each(v.isNode(e[1])?[e[1]]:e[1],function(e,n){c.each(v.isNode(m)?[m]:m,function(e,r){if(r===n){if(a(r)&&c.each(a(r).tweensContainer,function(t,e){e.endValue=e.currentValue}),g===!0||v.isString(g)){var i=v.isString(g)?g:"";c.each(c.queue(r,i),function(t,e){v.isFunction(e)&&e(null,!0)}),c.queue(r,i,[])}k.push(t)}})})}),c.each(k,function(t,e){h(e,!0)}),D.promise&&D.resolver(m),t();default:if(!c.isPlainObject(y)||v.isEmptyObject(y)){if(v.isString(y)&&b.Sequences[y]){var L=g.duration,I=g.delay||0;return g.backwards===!0&&(m=(v.isWrapped(m)?[].slice.call(m):m).reverse()),c.each(m,function(t,e){parseFloat(g.stagger)?g.delay=I+parseFloat(g.stagger)*t:v.isFunction(g.stagger)&&(g.delay=I+g.stagger.call(e,t,w)),g.drag&&(g.duration=parseFloat(L)||(/^(callout|transition)/.test(y)?1e3:d),g.duration=Math.max(g.duration*(g.backwards?1-t/w:(t+1)/w),.75*g.duration,200)),b.Sequences[y].call(e,e,g||{},t,w,m,D.promise?D:i)}),t()}var Y="Velocity: First argument ("+y+") was not a property map, a known action, or a registered sequence. Aborting.";return D.promise?D.rejecter(new Error(Y)):console.log(Y),t()}S="start"}var E={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];c.each(v.isNode(m)?[m]:m,function(t,n){v.isNode(n)&&e.call(n)});var N,M=c.extend({},b.defaults,g);if(M.loop=parseInt(M.loop),N=2*M.loop-1,M.loop)for(var P=0;N>P;P++){var j={delay:M.delay};P===N-1&&(j.display=M.display,j.visibility=M.visibility,j.complete=M.complete),b.animate(m,"reverse",j)}return t()}},b.State.isMobile||r.hidden===i||r.addEventListener("visibilitychange",function(){r.hidden?(g=function(t){return setTimeout(function(){t(!0)},16)},l()):g=n.requestAnimationFrame||y});var T;return t&&t.fn?T=t:n.Zepto&&(T=n.Zepto),(T||n).Velocity=b,T&&(T.fn.velocity=b.animate,T.fn.velocity.defaults=b.defaults),c.each(["Down","Up"],function(t,e){b.Sequences["slide"+e]=function(t,n,r,i,s,a){var o=c.extend({},n),u={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},l=o.begin,h=o.complete,f=!1;null!==o.display&&(o.display="Down"===e?o.display||"auto":o.display||"none"),o.begin=function(){function n(){u.height=parseFloat(b.CSS.getPropertyValue(t,"height")),t.style.height="auto",parseFloat(b.CSS.getPropertyValue(t,"height"))===u.height&&(f=!0),b.CSS.setPropertyValue(t,"height",u.height+"px")}if("Down"===e){u.overflow=[b.CSS.getPropertyValue(t,"overflow"),0],u.overflowX=[b.CSS.getPropertyValue(t,"overflowX"),0],u.overflowY=[b.CSS.getPropertyValue(t,"overflowY"),0],t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden",n();for(var r in u)if(!/^overflow/.test(r)){var i=b.CSS.getPropertyValue(t,r);"height"===r&&(i=parseFloat(i)),u[r]=[i,0]}}else{n();for(var r in u){var i=b.CSS.getPropertyValue(t,r);"height"===r&&(i=parseFloat(i)),u[r]=[0,i]}t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden"}l&&l.call(t,t)},o.complete=function(t){var n="Down"===e?0:1;f===!0?u.height[n]="auto":u.height[n]+="px";for(var r in u)t.style[r]=u[r][n];h&&h.call(t,t),a&&a.resolver(s||t)},b.animate(t,u,o)}}),c.each(["In","Out"],function(t,e){b.Sequences["fade"+e]=function(t,n,r,i,s,a){var o=c.extend({},n),u={opacity:"In"===e?1:0};if(r!==i-1)o.complete=o.begin=null;else{var l=o.complete;o.complete=function(){l&&l.call(t,t),a&&a.resolver(s||t)}}null!==o.display&&(o.display=o.display||("In"===e?"auto":"none")),b.animate(this,u,o)}}),b}(t||window,window,document)}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t,e){function n(){fe.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}var r=!0;return l(function(){return r&&(n(),r=!1),e.apply(this,arguments)},e)}function i(t,e){return function(n){return f(t.call(this,n),e)}}function s(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function a(){}function o(t){A(t),l(this,t)}function u(t){var e=v(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*u+36e5*o,this._days=+a+7*s,this._months=+i+3*r+12*n,this._data={},this._bubble()}function l(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function h(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&De.hasOwnProperty(e)&&(n[e]=t[e]);return n}function c(t){return 0>t?Math.ceil(t):Math.floor(t)}function f(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function d(t,e,n,r){var i=e._milliseconds,s=e._days,a=e._months;r=null==r?!0:r,i&&t._d.setTime(+t._d+i*n),s&&oe(t,"Date",ae(t,"Date")+s*n),a&&se(t,ae(t,"Month")+a*n),r&&fe.updateOffset(t,s||a)}function p(t){return"[object Array]"===Object.prototype.toString.call(t)}function m(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function y(t,e,n){var r,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),a=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&x(t[r])!==x(e[r]))&&a++;return a+s}function g(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=en[t]||nn[e]||e}return t}function v(t){var e,n,r={};for(n in t)t.hasOwnProperty(n)&&(e=g(n),e&&(r[e]=t[n]));return r}function b(e){var n,r;if(0===e.indexOf("week"))n=7,r="day";else{if(0!==e.indexOf("month"))return;n=12,r="month"}fe[e]=function(i,s){var a,o,u=fe.fn._lang[e],l=[];if("number"==typeof i&&(s=i,i=t),o=function(t){var e=fe().utc().set(r,t);return u.call(fe.fn._lang,e,i||"")},null!=s)return o(s);for(a=0;n>a;a++)l.push(o(a));return l}}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function w(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function _(t,e,n){return ee(fe([t,11,31+e-n]),e,n).week}function T(t){return C(t)?366:365}function C(t){return t%4===0&&t%100!==0||t%400===0}function A(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[be]<0||t._a[be]>11?be:t._a[xe]<1||t._a[xe]>w(t._a[ve],t._a[be])?xe:t._a[we]<0||t._a[we]>23?we:t._a[_e]<0||t._a[_e]>59?_e:t._a[Te]<0||t._a[Te]>59?Te:t._a[Ce]<0||t._a[Ce]>999?Ce:-1,t._pf._overflowDayOfYear&&(ve>e||e>xe)&&(e=xe),t._pf.overflow=e)}function D(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function S(t){return t?t.toLowerCase().replace("_","-"):t}function k(t,e){return e._isUTC?fe(t).zone(e._offset||0):fe(t).local()}function L(t,e){return e.abbr=t,Ae[t]||(Ae[t]=new a),Ae[t].set(e),Ae[t]}function I(t){delete Ae[t]}function Y(t){var e,n,r,i,s=0,a=function(t){if(!Ae[t]&&Se)try{require("./lang/"+t)}catch(e){}return Ae[t]};if(!t)return fe.fn._lang;if(!p(t)){if(n=a(t))return n;t=[t]}for(;s<t.length;){for(i=S(t[s]).split("-"),e=i.length,r=S(t[s+1]),r=r?r.split("-"):null;e>0;){if(n=a(i.slice(0,e).join("-")))return n;if(r&&r.length>=e&&y(i,r,!0)>=e-1)break;e--}s++}return fe.fn._lang}function E(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function O(t){var e,n,r=t.match(Ye);for(e=0,n=r.length;n>e;e++)r[e]=un[r[e]]?un[r[e]]:E(r[e]);return function(i){var s="";for(e=0;n>e;e++)s+=r[e]instanceof Function?r[e].call(i,t):r[e];return s}}function N(t,e){return t.isValid()?(e=M(e,t.lang()),rn[e]||(rn[e]=O(e)),rn[e](t)):t.lang().invalidDate()}function M(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Ee.lastIndex=0;r>=0&&Ee.test(t);)t=t.replace(Ee,n),Ee.lastIndex=0,r-=1;return t}function P(t,e){var n,r=e._strict;switch(t){case"Q":return Re;case"DDDD":return Ue;case"YYYY":case"GGGG":case"gggg":return r?qe:Me;case"Y":case"G":case"g":return $e;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?Ge:Pe;case"S":if(r)return Re;case"SS":if(r)return We;case"SSS":if(r)return Ue;case"DDD":return Ne;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return ze;case"a":case"A":return Y(e._l)._meridiemParse;case"X":return Ve;case"Z":case"ZZ":return He;case"T":return Be;case"SSSS":return je;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?We:Oe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Oe;case"Do":return Fe;default:return n=new RegExp(U(W(t.replace("\\","")),"i"))}}function j(t){t=t||"";var e=t.match(He)||[],n=e[e.length-1]||[],r=(n+"").match(Qe)||["-",0,0],i=+(60*r[1])+x(r[2]);return"+"===r[0]?-i:i}function z(t,e,n){var r,i=n._a;switch(t){case"Q":null!=e&&(i[be]=3*(x(e)-1));break;case"M":case"MM":null!=e&&(i[be]=x(e)-1);break;case"MMM":case"MMMM":r=Y(n._l).monthsParse(e),null!=r?i[be]=r:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[xe]=x(e));break;case"Do":null!=e&&(i[xe]=x(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=x(e));break;case"YY":i[ve]=fe.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":i[ve]=x(e);break;case"a":case"A":n._isPm=Y(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[we]=x(e);break;case"m":case"mm":i[_e]=x(e);break;case"s":case"ss":i[Te]=x(e);break;case"S":case"SS":case"SSS":case"SSSS":i[Ce]=x(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=j(e);break;case"dd":case"ddd":case"dddd":r=Y(n._l).weekdaysParse(e),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=x(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=fe.parseTwoDigitYear(e)}}function H(t){var n,r,i,s,a,o,u,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,o=4,r=e(n.GG,t._a[ve],ee(fe(),1,4).year),i=e(n.W,1),s=e(n.E,1)):(l=Y(t._l),a=l._week.dow,o=l._week.doy,r=e(n.gg,t._a[ve],ee(fe(),a,o).year),i=e(n.w,1),null!=n.d?(s=n.d,a>s&&++i):s=null!=n.e?n.e+a:a),u=ne(r,i,s,o,a),t._a[ve]=u.year,t._dayOfYear=u.dayOfYear}function B(t){var n,r,i,s,a=[];if(!t._d){for(i=F(t),t._w&&null==t._a[xe]&&null==t._a[be]&&H(t),t._dayOfYear&&(s=e(t._a[ve],i[ve]),t._dayOfYear>T(s)&&(t._pf._overflowDayOfYear=!0),r=K(s,0,t._dayOfYear),t._a[be]=r.getUTCMonth(),t._a[xe]=r.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=a[n]=i[n];for(;7>n;n++)t._a[n]=a[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?K:Z).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function V(t){var e;t._d||(e=v(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],B(t))}function F(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function R(t){if(t._f===fe.ISO_8601)return void G(t);t._a=[],t._pf.empty=!0;var e,n,r,i,s,a=Y(t._l),o=""+t._i,u=o.length,l=0;for(r=M(t._f,a).match(Ye)||[],e=0;e<r.length;e++)i=r[e],n=(o.match(P(i,t))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),l+=n.length),un[i]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(i),z(i,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=u-l,o.length>0&&t._pf.unusedInput.push(o),t._isPm&&t._a[we]<12&&(t._a[we]+=12),t._isPm===!1&&12===t._a[we]&&(t._a[we]=0),B(t),A(t)}function W(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})}function U(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(t){var e,r,i,s,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(s=0;s<t._f.length;s++)a=0,e=l({},t),e._pf=n(),e._f=t._f[s],R(e),D(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==i||i>a)&&(i=a,r=e));l(t,r||e)}function G(t){var e,n,r=t._i,i=Xe.exec(r);if(i){for(t._pf.iso=!0,e=0,n=Ke.length;n>e;e++)if(Ke[e][1].exec(r)){t._f=Ke[e][0]+(i[6]||" ");break}for(e=0,n=Je.length;n>e;e++)if(Je[e][1].exec(r)){t._f+=Je[e][0];break}r.match(He)&&(t._f+="Z"),R(t)}else t._isValid=!1}function $(t){G(t),t._isValid===!1&&(delete t._isValid,fe.createFromInputFallback(t))
}function X(e){var n=e._i,r=ke.exec(n);n===t?e._d=new Date:r?e._d=new Date(+r[1]):"string"==typeof n?$(e):p(n)?(e._a=n.slice(0),B(e)):m(n)?e._d=new Date(+n):"object"==typeof n?V(e):"number"==typeof n?e._d=new Date(n):fe.createFromInputFallback(e)}function Z(t,e,n,r,i,s,a){var o=new Date(t,e,n,r,i,s,a);return 1970>t&&o.setFullYear(t),o}function K(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function J(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Q(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function te(t,e,n){var r=ge(Math.abs(t)/1e3),i=ge(r/60),s=ge(i/60),a=ge(s/24),o=ge(a/365),u=r<sn.s&&["s",r]||1===i&&["m"]||i<sn.m&&["mm",i]||1===s&&["h"]||s<sn.h&&["hh",s]||1===a&&["d"]||a<=sn.dd&&["dd",a]||a<=sn.dm&&["M"]||a<sn.dy&&["MM",ge(a/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,Q.apply({},u)}function ee(t,e,n){var r,i=n-e,s=n-t.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=fe(t).add("d",s),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ne(t,e,n,r,i){var s,a,o=K(t,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:i,s=i-o+(o>r?7:0)-(i>o?7:0),a=7*(e-1)+(n-i)+s+1,{year:a>0?t:t-1,dayOfYear:a>0?a:T(t-1)+a}}function re(e){var n=e._i,r=e._f;return null===n||r===t&&""===n?fe.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=Y().preparse(n)),fe.isMoment(n)?(e=h(n),e._d=new Date(+n._d)):r?p(r)?q(e):R(e):X(e),new o(e))}function ie(t,e){var n,r;if(1===e.length&&p(e[0])&&(e=e[0]),!e.length)return fe();for(n=e[0],r=1;r<e.length;++r)e[r][t](n)&&(n=e[r]);return n}function se(t,e){var n;return"string"==typeof e&&(e=t.lang().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),w(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ae(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function oe(t,e,n){return"Month"===e?se(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function ue(t,e){return function(n){return null!=n?(oe(this,t,n),fe.updateOffset(this,e),this):ae(this,t)}}function le(t){fe.duration.fn[t]=function(){return this._data[t]}}function he(t,e){fe.duration.fn["as"+t]=function(){return+this/e}}function ce(t){"undefined"==typeof ender&&(de=ye.moment,ye.moment=t?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",fe):fe)}for(var fe,de,pe,me="2.7.0",ye="undefined"!=typeof global?global:this,ge=Math.round,ve=0,be=1,xe=2,we=3,_e=4,Te=5,Ce=6,Ae={},De={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Se="undefined"!=typeof module&&module.exports,ke=/^\/?Date\((\-?\d+)/i,Le=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ie=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ye=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ee=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Oe=/\d\d?/,Ne=/\d{1,3}/,Me=/\d{1,4}/,Pe=/[+\-]?\d{1,6}/,je=/\d+/,ze=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,He=/Z|[\+\-]\d\d:?\d\d/gi,Be=/T/i,Ve=/[\+\-]?\d+(\.\d{1,3})?/,Fe=/\d{1,2}/,Re=/\d/,We=/\d\d/,Ue=/\d{3}/,qe=/\d{4}/,Ge=/[+-]?\d{6}/,$e=/[+-]?\d+/,Xe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ze="YYYY-MM-DDTHH:mm:ssZ",Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Je=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Qe=/([\+\-]|\d\d)/gi,tn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),en={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},nn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},rn={},sn={s:45,m:45,h:22,dd:25,dm:45,dy:345},an="DDD w W M D d".split(" "),on="M D H h m s w W".split(" "),un={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+f(Math.abs(t),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return x(this.milliseconds()/100)},SS:function(){return f(x(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(x(t/60),2)+":"+f(x(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+f(x(t/60),2)+f(x(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ln=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];an.length;)pe=an.pop(),un[pe+"o"]=s(un[pe],pe);for(;on.length;)pe=on.pop(),un[pe+pe]=i(un[pe],2);for(un.DDDD=i(un.DDD,3),l(a.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,r;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=fe.utc([2e3,e]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(r.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=fe([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ee(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),fe=function(e,r,i,s){var a;return"boolean"==typeof i&&(s=i,i=t),a={},a._isAMomentObject=!0,a._i=e,a._f=r,a._l=i,a._strict=s,a._isUTC=!1,a._pf=n(),re(a)},fe.suppressDeprecationWarnings=!1,fe.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),fe.min=function(){var t=[].slice.call(arguments,0);return ie("isBefore",t)},fe.max=function(){var t=[].slice.call(arguments,0);return ie("isAfter",t)},fe.utc=function(e,r,i,s){var a;return"boolean"==typeof i&&(s=i,i=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=e,a._f=r,a._strict=s,a._pf=n(),re(a).utc()},fe.unix=function(t){return fe(1e3*t)},fe.duration=function(t,e){var n,r,i,s=t,a=null;return fe.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Le.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:x(a[xe])*n,h:x(a[we])*n,m:x(a[_e])*n,s:x(a[Te])*n,ms:x(a[Ce])*n}):(a=Ie.exec(t))&&(n="-"===a[1]?-1:1,i=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},s={y:i(a[2]),M:i(a[3]),d:i(a[4]),h:i(a[5]),m:i(a[6]),s:i(a[7]),w:i(a[8])}),r=new u(s),fe.isDuration(t)&&t.hasOwnProperty("_lang")&&(r._lang=t._lang),r},fe.version=me,fe.defaultFormat=Ze,fe.ISO_8601=function(){},fe.momentProperties=De,fe.updateOffset=function(){},fe.relativeTimeThreshold=function(e,n){return sn[e]===t?!1:(sn[e]=n,!0)},fe.lang=function(t,e){var n;return t?(e?L(S(t),e):null===e?(I(t),t="en"):Ae[t]||Y(t),n=fe.duration.fn._lang=fe.fn._lang=Y(t),n._abbr):fe.fn._lang._abbr},fe.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),Y(t)},fe.isMoment=function(t){return t instanceof o||null!=t&&t.hasOwnProperty("_isAMomentObject")},fe.isDuration=function(t){return t instanceof u},pe=ln.length-1;pe>=0;--pe)b(ln[pe]);fe.normalizeUnits=function(t){return g(t)},fe.invalid=function(t){var e=fe.utc(0/0);return null!=t?l(e._pf,t):e._pf.userInvalidated=!0,e},fe.parseZone=function(){return fe.apply(null,arguments).parseZone()},fe.parseTwoDigitYear=function(t){return x(t)+(x(t)>68?1900:2e3)},l(fe.fn=o.prototype,{clone:function(){return fe(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=fe(this).utc();return 0<t.year()&&t.year()<=9999?N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return D(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?fe.utc(this._a):fe(this._a)).toArray())>0:!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=N(this,t||fe.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t&&"string"==typeof e?fe.duration(isNaN(+e)?+t:+e,isNaN(+e)?e:t):"string"==typeof t?fe.duration(+e,t):fe.duration(t,e),d(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t&&"string"==typeof e?fe.duration(isNaN(+e)?+t:+e,isNaN(+e)?e:t):"string"==typeof t?fe.duration(+e,t):fe.duration(t,e),d(this,n,-1),this},diff:function(t,e,n){var r,i,s=k(t,this),a=6e4*(this.zone()-s.zone());return e=g(e),"year"===e||"month"===e?(r=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-fe(this).startOf("month")-(s-fe(s).startOf("month")))/r,i-=6e4*(this.zone()-fe(this).startOf("month").zone()-(s.zone()-fe(s).startOf("month").zone()))/r,"year"===e&&(i/=12)):(r=this-s,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?i:c(i)},from:function(t,e){return fe.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(fe(),t)},calendar:function(t){var e=t||fe(),n=k(e,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){return C(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=J(t,this.lang()),this.add({d:t-e})):e},month:ue("Month",!0),startOf:function(t){switch(t=g(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=g(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+fe(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+fe(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+k(t,this).startOf(e)},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=fe.apply(null,arguments),this>t?this:t}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=fe.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n=this._offset||0;return null==t?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof t&&(t=j(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,n!==t&&(!e||this._changeInProgress?d(this,fe.duration(n-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,fe.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?fe(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(t){var e=ge((fe(this).startOf("day")-fe(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ee(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=ee(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=ee(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return _(this.year(),1,4)},weeksInYear:function(){var t=this._lang._week;return _(this.year(),t.dow,t.doy)},get:function(t){return t=g(t),this[t]()},set:function(t,e){return t=g(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=Y(e),this)}}),fe.fn.millisecond=fe.fn.milliseconds=ue("Milliseconds",!1),fe.fn.second=fe.fn.seconds=ue("Seconds",!1),fe.fn.minute=fe.fn.minutes=ue("Minutes",!1),fe.fn.hour=fe.fn.hours=ue("Hours",!0),fe.fn.date=ue("Date",!0),fe.fn.dates=r("dates accessor is deprecated. Use date instead.",ue("Date",!0)),fe.fn.year=ue("FullYear",!0),fe.fn.years=r("years accessor is deprecated. Use year instead.",ue("FullYear",!0)),fe.fn.days=fe.fn.day,fe.fn.months=fe.fn.month,fe.fn.weeks=fe.fn.week,fe.fn.isoWeeks=fe.fn.isoWeek,fe.fn.quarters=fe.fn.quarter,fe.fn.toJSON=fe.fn.toISOString,l(fe.duration.fn=u.prototype,{_bubble:function(){var t,e,n,r,i=this._milliseconds,s=this._days,a=this._months,o=this._data;o.milliseconds=i%1e3,t=c(i/1e3),o.seconds=t%60,e=c(t/60),o.minutes=e%60,n=c(e/60),o.hours=n%24,s+=c(n/24),o.days=s%30,a+=c(s/30),o.months=a%12,r=c(a/12),o.years=r},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12)},humanize:function(t){var e=+this,n=te(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=fe.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=fe.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=g(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=g(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:fe.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(pe in tn)tn.hasOwnProperty(pe)&&(he(pe,tn[pe]),le(pe.toLowerCase()));he("Weeks",6048e5),fe.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},fe.lang("en",{ordinal:function(t){var e=t%10,n=1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Se?module.exports=fe:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ye.moment=de),fe}),ce(!0)):ce()}.call(this),function(t){var e="undefined"!=typeof module&&module.exports,n=function(){if(!n._nlp)if(e)n._nlp=require("./nlp");else if(!(n._nlp=t._RRuleNLP))throw new Error("You need to include rrule/nlp.js for fromText/toText to work.");return n._nlp},r={MONTH_DAYS:[31,28,31,30,31,30,31,31,30,31,30,31],ONE_DAY:864e5,MAXYEAR:9999,ORDINAL_BASE:new Date(1970,0,1),PY_WEEKDAYS:[6,0,1,2,3,4,5],getYearDay:function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((e-new Date(t.getFullYear(),0,1))/r.ONE_DAY)+1},isLeapYear:function(t){return t instanceof Date&&(t=t.getFullYear()),t%4===0&&t%100!==0||t%400===0},tzOffset:function(t){return 60*t.getTimezoneOffset()*1e3},daysBetween:function(t,e){var n=t.getTime()-r.tzOffset(t),i=e.getTime()-r.tzOffset(e),s=Math.abs(n-i);return Math.round(s/r.ONE_DAY)},toOrdinal:function(t){return r.daysBetween(t,r.ORDINAL_BASE)},fromOrdinal:function(t){var e=t*r.ONE_DAY;return new Date(r.ORDINAL_BASE.getTime()-r.tzOffset(r.ORDINAL_BASE)+e+r.tzOffset(new Date(e)))},monthRange:function(t,e){var n=new Date(t,e,1);return[r.getWeekday(n),r.getMonthDays(n)]},getMonthDays:function(t){var e=t.getMonth();return 1==e&&r.isLeapYear(t)?29:r.MONTH_DAYS[e]},getWeekday:function(t){return r.PY_WEEKDAYS[t.getDay()]},combine:function(t,e){return e=e||t,new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},clone:function(t){var e=new Date(t.getTime());return e.setMilliseconds(0),e},cloneDates:function(t){for(var e=[],n=0;n<t.length;n++)e.push(r.clone(t[n]));return e},sort:function(t){t.sort(function(t,e){return t.getTime()-e.getTime()})},timeToUntilString:function(t){for(var e,n=new Date(t),r=[n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),"T",n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),"Z"],i=0;i<r.length;i++)e=r[i],!/[TZ]/.test(e)&&10>e&&(r[i]="0"+String(e));return r.join("")},untilStringToDate:function(t){var e=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,n=e.exec(t);if(!n)throw new Error("Invalid UNTIL value: "+t);return new Date(Date.UTC(n[1],n[2]-1,n[3],n[5]||0,n[6]||0,n[7]||0))}};r.Time=function(t,e,n){this.hour=t,this.minute=e,this.second=n},r.Time.prototype={getHours:function(){return this.hour},getMinutes:function(){return this.minute},getSeconds:function(){return this.second},getTime:function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)}};var i=function(t,e){1===arguments.length&&(e=t,t=0);for(var n=[],r=t;e>r;r++)n.push(r);return n},s=function(t,e){var n=0,r=[];if(t instanceof Array)for(;e>n;n++)r[n]=[].concat(t);else for(;e>n;n++)r[n]=t;return r},a=function(t,e){var n=t%e;return 0>n*e?n+e:n},o=function(t,e){return{div:Math.floor(t/e),mod:a(t,e)}},u=function(t){return t instanceof Array&&0==t.length?!1:Boolean(t)},l=function(t,e){return-1!=t.indexOf(e)},h=[].concat(s(1,31),s(2,28),s(3,31),s(4,30),s(5,31),s(6,30),s(7,31),s(8,31),s(9,30),s(10,31),s(11,30),s(12,31),s(1,7)),c=[].concat(s(1,31),s(2,29),s(3,31),s(4,30),s(5,31),s(6,30),s(7,31),s(8,31),s(9,30),s(10,31),s(11,30),s(12,31),s(1,7)),f=i(1,29),d=i(1,30),p=i(1,31),m=i(1,32),y=[].concat(m,d,m,p,m,p,m,m,p,m,p,m,m.slice(0,7)),g=[].concat(m,f,m,p,m,p,m,m,p,m,p,m,m.slice(0,7));f=i(-28,0),d=i(-29,0),p=i(-30,0),m=i(-31,0);var v=[].concat(m,d,m,p,m,p,m,m,p,m,p,m,m.slice(0,7)),b=[].concat(m,f,m,p,m,p,m,m,p,m,p,m,m.slice(0,7)),x=[0,31,60,91,121,152,182,213,244,274,305,335,366],w=[0,31,59,90,120,151,181,212,243,273,304,334,365],_=function(){for(var t=[],e=0;55>e;e++)t=t.concat(i(7));return t}(),T=function(t,e){if(0===e)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=e};T.prototype={nth:function(t){return this.n==t?this:new T(this.weekday,t)},equals:function(t){return this.weekday==t.weekday&&this.n==t.n},toString:function(){var t=["MO","TU","WE","TH","FR","SA","SU"][this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},getJsWeekday:function(){return 6==this.weekday?0:this.weekday+1}};var C=function(t,e){this._string=null,t=t||{},this._cache=e?null:{all:!1,before:[],after:[],between:[]},this.origOptions={};var n=[],i=Object.keys(t),s=Object.keys(C.DEFAULT_OPTIONS);if(i.forEach(function(e){this.origOptions[e]=t[e],l(s,e)||n.push(e)},this),n.length,!C.FREQUENCIES[t.freq]&&null===t.byeaster)throw new Error("Invalid frequency: "+String(t.freq));s.forEach(function(e){l(i,e)||(t[e]=C.DEFAULT_OPTIONS[e])});var a=this.options=t;if(null!==a.byeaster&&(a.freq=C.YEARLY),a.dtstart||(a.dtstart=new Date,a.dtstart.setMilliseconds(0)),null===a.wkst?a.wkst=C.MO.weekday:"number"==typeof a.wkst||(a.wkst=a.wkst.weekday),null!==a.bysetpos){"number"==typeof a.bysetpos&&(a.bysetpos=[a.bysetpos]);for(var o=0;o<a.bysetpos.length;o++){var h=a.bysetpos[o];if(0==h||!(h>=-366&&366>=h))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(u(a.byweekno)||u(a.byyearday)||u(a.bymonthday)||null!==a.byweekday||null!==a.byeaster))switch(a.freq){case C.YEARLY:a.bymonth||(a.bymonth=a.dtstart.getMonth()+1),a.bymonthday=a.dtstart.getDate();break;case C.MONTHLY:a.bymonthday=a.dtstart.getDate();break;case C.WEEKLY:a.byweekday=r.getWeekday(a.dtstart)}if(null===a.bymonth||a.bymonth instanceof Array||(a.bymonth=[a.bymonth]),null===a.byyearday||a.byyearday instanceof Array||(a.byyearday=[a.byyearday]),null===a.bymonthday)a.bymonthday=[],a.bynmonthday=[];else if(a.bymonthday instanceof Array){var c=[],f=[];for(o=0;o<a.bymonthday.length;o++){var h=a.bymonthday[o];h>0?c.push(h):0>h&&f.push(h)}a.bymonthday=c,a.bynmonthday=f}else a.bymonthday<0?(a.bynmonthday=[a.bymonthday],a.bymonthday=[]):(a.bynmonthday=[],a.bymonthday=[a.bymonthday]);if(null===a.byweekno||a.byweekno instanceof Array||(a.byweekno=[a.byweekno]),null===a.byweekday)a.bynweekday=null;else if("number"==typeof a.byweekday)a.byweekday=[a.byweekday],a.bynweekday=null;else if(a.byweekday instanceof T)!a.byweekday.n||a.freq>C.MONTHLY?(a.byweekday=[a.byweekday.weekday],a.bynweekday=null):(a.bynweekday=[[a.byweekday.weekday,a.byweekday.n]],a.byweekday=null);else{var d=[],p=[];for(o=0;o<a.byweekday.length;o++){var m=a.byweekday[o];"number"==typeof m?d.push(m):!m.n||a.freq>C.MONTHLY?d.push(m.weekday):p.push([m.weekday,m.n])}a.byweekday=u(d)?d:null,a.bynweekday=u(p)?p:null}if(null===a.byhour?a.byhour=a.freq<C.HOURLY?[a.dtstart.getHours()]:null:"number"==typeof a.byhour&&(a.byhour=[a.byhour]),null===a.byminute?a.byminute=a.freq<C.MINUTELY?[a.dtstart.getMinutes()]:null:"number"==typeof a.byminute&&(a.byminute=[a.byminute]),null===a.bysecond?a.bysecond=a.freq<C.SECONDLY?[a.dtstart.getSeconds()]:null:"number"==typeof a.bysecond&&(a.bysecond=[a.bysecond]),a.freq>=C.HOURLY)this.timeset=null;else{for(this.timeset=[],o=0;o<a.byhour.length;o++)for(var y=a.byhour[o],g=0;g<a.byminute.length;g++)for(var v=a.byminute[g],b=0;b<a.bysecond.length;b++){var x=a.bysecond[b];this.timeset.push(new r.Time(y,v,x))}r.sort(this.timeset)}};C.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],C.YEARLY=0,C.MONTHLY=1,C.WEEKLY=2,C.DAILY=3,C.HOURLY=4,C.MINUTELY=5,C.SECONDLY=6,C.MO=new T(0),C.TU=new T(1),C.WE=new T(2),C.TH=new T(3),C.FR=new T(4),C.SA=new T(5),C.SU=new T(6),C.DEFAULT_OPTIONS={freq:null,dtstart:null,interval:1,wkst:C.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},C.parseText=function(t,e){return n().parseText(t,e)},C.fromText=function(t,e){return n().fromText(t,e)},C.optionsToString=function(t){var e,n,i,s,a,o=[];n=Object.keys(t),i=Object.keys(C.DEFAULT_OPTIONS);for(var u=0;u<n.length;u++)if(l(i,n[u])&&(e=n[u].toUpperCase(),s=t[n[u]],a=[],!(null===s||s instanceof Array&&!s.length))){switch(e){case"FREQ":s=C.FREQUENCIES[t.freq];break;case"WKST":s=s.toString();break;case"BYWEEKDAY":e="BYDAY",s instanceof Array||(s=[s]);for(var h,c=0;c<s.length;c++)h=s[c],h instanceof T||(h=h instanceof Array?new T(h[0],h[1]):new T(h)),a[c]=h.toString();s=a;break;case"DTSTART":case"UNTIL":s=r.timeToUntilString(s);break;default:if(s instanceof Array){for(var c=0;c<s.length;c++)a[c]=String(s[c]);s=a}else s=String(s)}o.push([e,s])}for(var f=[],u=0;u<o.length;u++){var d=o[u];f.push(d[0]+"="+d[1].toString())}return f.join(";")},C.prototype={all:function(t){if(t)return this._iter(new S("all",{},t));var e=this._cacheGet("all");return e===!1&&(e=this._iter(new D("all",{})),this._cacheAdd("all",e)),e},between:function(t,e,n,r){var i={before:e,after:t,inc:n};if(r)return this._iter(new S("between",i,r));var s=this._cacheGet("between",i);return s===!1&&(s=this._iter(new D("between",i)),this._cacheAdd("between",s,i)),s},before:function(t,e){var n={dt:t,inc:e},r=this._cacheGet("before",n);return r===!1&&(r=this._iter(new D("before",n)),this._cacheAdd("before",r,n)),r},after:function(t,e){var n={dt:t,inc:e},r=this._cacheGet("after",n);return r===!1&&(r=this._iter(new D("after",n)),this._cacheAdd("after",r,n)),r},count:function(){return this.all().length},toString:function(){return C.optionsToString(this.origOptions)},toText:function(t,e){return n().toText(this,t,e)},isFullyConvertibleToText:function(){return n().isFullyConvertible(this)},_cacheAdd:function(t,e,n){this._cache&&(e&&(e=e instanceof Date?r.clone(e):r.cloneDates(e)),"all"==t?this._cache.all=e:(n._value=e,this._cache[t].push(n)))},_cacheGet:function(t,e){if(!this._cache)return!1;var n=!1;if("all"==t)n=this._cache.all;else t:for(var i,s=0;s<this._cache[t].length;s++){i=this._cache[t][s];for(var a in e)if(e.hasOwnProperty(a)&&String(e[a])!=String(i[a]))continue t;n=i._value;break}if(!n&&this._cache.all){for(var o=new D(t,e),s=0;s<this._cache.all.length&&o.accept(this._cache.all[s]);s++);n=o.getValue(),this._cacheAdd(t,n,e)}return n instanceof Array?r.cloneDates(n):n instanceof Date?r.clone(n):n},clone:function(){return new C(this.origOptions)},_iter:function(t){var e=this.options.dtstart,n=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),h=e.getHours(),c=e.getMinutes(),f=e.getSeconds(),d=r.getWeekday(e),p=(r.getYearDay(e),this.options.freq),m=this.options.interval,y=this.options.wkst,g=this.options.until,v=this.options.bymonth,b=this.options.byweekno,x=this.options.byyearday,w=this.options.byweekday,_=this.options.byeaster,T=this.options.bymonthday,D=this.options.bynmonthday,S=this.options.bysetpos,k=this.options.byhour,L=this.options.byminute,I=this.options.bysecond,Y=new A(this);Y.rebuild(n,i);var E={};E[C.YEARLY]=Y.ydayset,E[C.MONTHLY]=Y.mdayset,E[C.WEEKLY]=Y.wdayset,E[C.DAILY]=Y.ddayset,E[C.HOURLY]=Y.ddayset,E[C.MINUTELY]=Y.ddayset,E[C.SECONDLY]=Y.ddayset,E=E[p];var O;if(p<C.HOURLY)O=this.timeset;else{var N={};N[C.HOURLY]=Y.htimeset,N[C.MINUTELY]=Y.mtimeset,N[C.SECONDLY]=Y.stimeset,N=N[p],O=p>=C.HOURLY&&u(k)&&!l(k,h)||p>=C.MINUTELY&&u(L)&&!l(L,c)||p>=C.SECONDLY&&u(I)&&!l(I,c)?[]:N.call(Y,h,c,f)}for(var M,P,j,z,H,B,V,F,R,W,U,q,G,$=0,X=this.options.count;;){for(F=E.call(Y,n,i,s),W=F[0],U=F[1],q=F[2],M=!1,j=U;q>j;j++)P=W[j],(u(v)&&!l(v,Y.mmask[P])||u(b)&&!Y.wnomask[P]||u(w)&&!l(w,Y.wdaymask[P])||u(Y.nwdaymask)&&!Y.nwdaymask[P]||null!==_&&!l(Y.eastermask,P)||(u(T)||u(D))&&!l(T,Y.mdaymask[P])&&!l(D,Y.nmdaymask[P])||u(x)&&(P<Y.yearlen&&!l(x,P+1)&&!l(x,-Y.yearlen+P)||P>=Y.yearlen&&!l(x,P+1-Y.yearlen)&&!l(x,-Y.nextyearlen+P-Y.yearlen)))&&(W[P]=null,M=!0);if(u(S)&&u(O)){var Z,K,J=[];for(j=0;j<S.length;j++){var R=S[j];0>R?(Z=Math.floor(R/O.length),K=a(R,O.length)):(Z=Math.floor((R-1)/O.length),K=a(R-1,O.length));try{for(F=[],z=U;q>z;z++){var Q=W[z];null!==Q&&F.push(Q)}P=0>Z?F.slice(Z)[0]:F[Z];var te=O[K],ee=r.fromOrdinal(Y.yearordinal+P),ne=r.combine(ee,te);l(J,ne)||J.push(ne)}catch(re){}}for(r.sort(J),j=0;j<J.length;j++){var ne=J[j];if(g&&ne>g)return this._len=$,t.getValue();if(ne>=e){if(++$,!t.accept(ne))return t.getValue();if(X&&(--X,!X))return this._len=$,t.getValue()}}}else for(j=U;q>j;j++)if(P=W[j],null!==P){var ee=r.fromOrdinal(Y.yearordinal+P);for(z=0;z<O.length;z++){var te=O[z],ne=r.combine(ee,te);if(g&&ne>g)return this._len=$,t.getValue();if(ne>=e){if(++$,!t.accept(ne))return t.getValue();if(X&&(--X,!X))return this._len=$,t.getValue()}}}if(G=!1,p==C.YEARLY){if(n+=m,n>r.MAXYEAR)return this._len=$,t.getValue();Y.rebuild(n,i)}else if(p==C.MONTHLY){if(i+=m,i>12&&(B=Math.floor(i/12),V=a(i,12),i=V,n+=B,0==i&&(i=12,--n),n>r.MAXYEAR))return this._len=$,t.getValue();Y.rebuild(n,i)}else if(p==C.WEEKLY)s+=y>d?-(d+1+(6-y))+7*m:-(d-y)+7*m,d=y,G=!0;else if(p==C.DAILY)s+=m,G=!0;else if(p==C.HOURLY){for(M&&(h+=Math.floor((23-h)/m)*m);;)if(h+=m,H=o(h,24),B=H.div,V=H.mod,B&&(h=V,s+=B,G=!0),!u(k)||l(k,h))break;
O=N.call(Y,h,c,f)}else if(p==C.MINUTELY){for(M&&(c+=Math.floor((1439-(60*h+c))/m)*m);;)if(c+=m,H=o(c,60),B=H.div,V=H.mod,B&&(c=V,h+=B,H=o(h,24),B=H.div,V=H.mod,B&&(h=V,s+=B,G=!0,M=!1)),!(u(k)&&!l(k,h)||u(L)&&!l(L,c)))break;O=N.call(Y,h,c,f)}else if(p==C.SECONDLY){for(M&&(f+=Math.floor((86399-(3600*h+60*c+f))/m)*m);;)if(f+=m,H=o(f,60),B=H.div,V=H.mod,B&&(f=V,c+=B,H=o(c,60),B=H.div,V=H.mod,B&&(c=V,h+=B,H=o(h,24),B=H.div,V=H.mod,B&&(h=V,s+=B,G=!0))),!(u(k)&&!l(k,h)||u(L)&&!l(L,c)||u(I)&&!l(I,f)))break;O=N.call(Y,h,c,f)}if(G&&s>28){var ie=r.monthRange(n,i-1)[1];if(s>ie){for(;s>ie;){if(s-=ie,++i,13==i&&(i=1,++n,n>r.MAXYEAR))return this._len=$,t.getValue();ie=r.monthRange(n,i-1)[1]}Y.rebuild(n,i)}}}}},C.parseString=function(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var e,n,i,s,a,o=t.split(";"),u={};for(e=0;e<o.length;e++)switch(a=o[e].split("="),i=a[0],s=a[1],i){case"FREQ":u.freq=C[s];break;case"WKST":u.wkst=C[s];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=s.indexOf(","))for(s=s.split(","),n=0;n<s.length;n++)/^[+-]?\d+$/.test(s[n])&&(s[n]=Number(s[n]));else/^[+-]?\d+$/.test(s)&&(s=Number(s));i=i.toLowerCase(),u[i]=s;break;case"BYDAY":var l,h,c,f=s.split(",");for(u.byweekday=[],n=0;n<f.length;n++)c=f[n],2==c.length?(h=C[c],u.byweekday.push(h)):(c=c.match(/^([+-]?\d)([A-Z]{2})$/),l=Number(c[1]),h=c[2],h=C[h].weekday,u.byweekday.push(new T(h,l)));break;case"DTSTART":u.dtstart=r.untilStringToDate(s);break;case"UNTIL":u.until=r.untilStringToDate(s);break;case"BYEASTER":u.byeaster=Number(s);break;default:throw new Error("Unknown RRULE property '"+i+"'")}return u},C.fromString=function(t){return new C(C.parseString(t))};var A=function(t){this.rrule=t,this.lastyear=null,this.lastmonth=null,this.yearlen=null,this.nextyearlen=null,this.yearordinal=null,this.yearweekday=null,this.mmask=null,this.mrange=null,this.mdaymask=null,this.nmdaymask=null,this.wdaymask=null,this.wnomask=null,this.nwdaymask=null,this.eastermask=null};A.prototype.easter=function(t,e){e=e||0;var n=t%19,r=Math.floor(t/100),i=t%100,s=Math.floor(r/4),a=r%4,o=Math.floor((r+8)/25),u=Math.floor((r-o+1)/3),l=Math.floor(19*n+r-s-u+15)%30,h=Math.floor(i/4),c=i%4,f=Math.floor(32+2*a+2*h-l-c)%7,d=Math.floor((n+11*l+22*f)/451),p=Math.floor((l+f-7*d+114)/31),m=(l+f-7*d+114)%31+1,y=Date.UTC(t,p-1,m+e),g=Date.UTC(t,0,1);return[Math.ceil((y-g)/864e5)]},A.prototype.rebuild=function(t,e){var n=this.rrule;if(t!=this.lastyear){this.yearlen=r.isLeapYear(t)?366:365,this.nextyearlen=r.isLeapYear(t+1)?366:365;var i=new Date(t,0,1);this.yearordinal=r.toOrdinal(i),this.yearweekday=r.getWeekday(i);var o=r.getWeekday(new Date(t,0,1));if(365==this.yearlen?(this.mmask=[].concat(h),this.mdaymask=[].concat(g),this.nmdaymask=[].concat(b),this.wdaymask=_.slice(o),this.mrange=[].concat(w)):(this.mmask=[].concat(c),this.mdaymask=[].concat(y),this.nmdaymask=[].concat(v),this.wdaymask=_.slice(o),this.mrange=[].concat(x)),u(n.options.byweekno)){this.wnomask=s(0,this.yearlen+7);var f,d,p;f=d=a(7-this.yearweekday+n.options.wkst,7),f>=4?(f=0,p=this.yearlen+a(this.yearweekday-n.options.wkst,7)):p=this.yearlen-f;for(var m,T,A=Math.floor(p/7),D=a(p,7),S=Math.floor(A+D/4),k=0;k<n.options.byweekno.length;k++)if(m=n.options.byweekno[k],0>m&&(m+=S+1),m>0&&S>=m){m>1?(T=f+7*(m-1),f!=d&&(T-=7-d)):T=f;for(var L=0;7>L&&(this.wnomask[T]=1,T++,this.wdaymask[T]!=n.options.wkst);L++);}if(l(n.options.byweekno,1)){var T=f+7*S;if(f!=d&&(T-=7-d),T<this.yearlen)for(var k=0;7>k&&(this.wnomask[T]=1,T+=1,this.wdaymask[T]!=n.options.wkst);k++);}if(f){var I;if(l(n.options.byweekno,-1))I=-1;else{var Y=r.getWeekday(new Date(t-1,0,1)),E=a(7-Y+n.options.wkst,7),O=r.isLeapYear(t-1)?366:365;E>=4?(E=0,I=Math.floor(52+a(O+a(Y-n.options.wkst,7),7)/4)):I=Math.floor(52+a(this.yearlen-f,7)/4)}if(l(n.options.byweekno,I))for(var T=0;f>T;T++)this.wnomask[T]=1}}else this.wnomask=null}if(u(n.options.bynweekday)&&(e!=this.lastmonth||t!=this.lastyear)){var N=[];if(n.options.freq==C.YEARLY)if(u(n.options.bymonth))for(k=0;k<n.options.bymonth.length;k++)e=n.options.bymonth[k],N.push(this.mrange.slice(e-1,e+1));else N=[[0,this.yearlen]];else n.options.freq==C.MONTHLY&&(N=[this.mrange.slice(e-1,e+1)]);if(u(N)){this.nwdaymask=s(0,this.yearlen);for(var k=0;k<N.length;k++){var M=N[k],P=M[0],j=M[1];j-=1;for(var L=0;L<n.options.bynweekday.length;L++){var o=n.options.bynweekday[L][0],m=n.options.bynweekday[L][1];0>m?(T=j+7*(m+1),T-=a(this.wdaymask[T]-o,7)):(T=P+7*(m-1),T+=a(7-this.wdaymask[T]+o,7)),T>=P&&j>=T&&(this.nwdaymask[T]=1)}}}this.lastyear=t,this.lastmonth=e}null!==n.options.byeaster&&(this.eastermask=this.easter(t,n.options.byeaster))},A.prototype.ydayset=function(){return[i(this.yearlen),0,this.yearlen]},A.prototype.mdayset=function(t,e){for(var n=s(null,this.yearlen),r=this.mrange[e-1],i=this.mrange[e],a=r;i>a;a++)n[a]=a;return[n,r,i]},A.prototype.wdayset=function(t,e,n){for(var i=s(null,this.yearlen+7),a=r.toOrdinal(new Date(t,e-1,n))-this.yearordinal,o=a,u=0;7>u&&(i[a]=a,++a,this.wdaymask[a]!=this.rrule.options.wkst);u++);return[i,o,a]},A.prototype.ddayset=function(t,e,n){var i=s(null,this.yearlen),a=r.toOrdinal(new Date(t,e-1,n))-this.yearordinal;return i[a]=a,[i,a,a+1]},A.prototype.htimeset=function(t,e,n){for(var i=[],s=this.rrule,a=0;a<s.options.byminute.length;a++){e=s.options.byminute[a];for(var o=0;o<s.options.bysecond.length;o++)n=s.options.bysecond[o],i.push(new r.Time(t,e,n))}return r.sort(i),i},A.prototype.mtimeset=function(t,e,n){for(var i=[],s=this.rrule,a=0;a<s.options.bysecond.length;a++)n=s.options.bysecond[a],i.push(new r.Time(t,e,n));return r.sort(i),i},A.prototype.stimeset=function(t,e,n){return[new r.Time(t,e,n)]};var D=function(t,e){this.init(t,e)};D.prototype={init:function(t,e){this.method=t,this.args=e,this._result=[],this.minDate=null,this.maxDate=null,"between"==t?(this.maxDate=e.inc?e.before:new Date(e.before.getTime()-1),this.minDate=e.inc?e.after:new Date(e.after.getTime()+1)):"before"==t?this.maxDate=e.inc?e.dt:new Date(e.dt.getTime()-1):"after"==t&&(this.minDate=e.inc?e.dt:new Date(e.dt.getTime()+1))},accept:function(t){var e=this.minDate&&t<this.minDate,n=this.maxDate&&t>this.maxDate;if("between"==this.method){if(e)return!0;if(n)return!1}else if("before"==this.method){if(n)return!1}else if("after"==this.method)return e?!0:(this.add(t),!1);return this.add(t)},add:function(t){return this._result.push(t),!0},getValue:function(){switch(this.method){case"all":case"between":return this._result;case"before":case"after":return this._result.length?this._result[this._result.length-1]:null}}};var S=function(t,e,n){var r=["all","between"];if(!l(r,t))throw new Error('Invalid method "'+t+'". Only all and between works with iterator.');this.add=function(t){return n(t,this._result.length)?(this._result.push(t),!0):!1},this.init(t,e)};S.prototype=D.prototype,e&&(module.exports={RRule:C}),"undefined"==typeof ender&&(t.RRule=C),"function"==typeof define&&define.amd&&define("rrule",[],function(){return C})}(this),function(){function t(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function e(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function n(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function r(t,e,n){return(null==e||null==n)&&(null==n?n=t.height/t.width*e:null==e&&(e=t.width/t.height*n)),{width:e,height:n}}function i(t,e){return"number"==typeof t.from?t.from+(t.to-t.from)*e:t instanceof l.Color||t instanceof l.Number?t.at(e):1>e?t.from:t.to}function s(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e][0],null!=t[e][1]&&(r+=t[e][1],null!=t[e][2]&&(r+=" ",r+=t[e][2],null!=t[e][3]&&(r+=" ",r+=t[e][3],r+=" ",r+=t[e][4],null!=t[e][5]&&(r+=" ",r+=t[e][5],r+=" ",r+=t[e][6],null!=t[e][7]&&(r+=" ",r+=t[e][7])))));return r+" "}function a(t){t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2}function o(t){if(t.matrix){var e=t.matrix.replace(/\s/g,"").split(",");6==e.length&&(t.a=parseFloat(e[0]),t.b=parseFloat(e[1]),t.c=parseFloat(e[2]),t.d=parseFloat(e[3]),t.e=parseFloat(e[4]),t.f=parseFloat(e[5]))}return t}function u(t){var e=t.toString().match(l.regex.reference);return e?e[1]:void 0}var l=this.SVG=function(t){return l.supported?(t=new l.Doc(t),l.parser||l.prepare(t),t):void 0};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.did=1e3,l.eid=function(t){return"Svgjs"+t.charAt(0).toUpperCase()+t.slice(1)+l.did++},l.create=function(t){var e=document.createElementNS(this.ns,t);return e.setAttribute("id",this.eid(t)),e},l.extend=function(){var t,e,n,r;for(t=[].slice.call(arguments),e=t.pop(),r=t.length-1;r>=0;r--)if(t[r])for(n in e)t[r].prototype[n]=e[n];l.Set&&l.Set.inherit&&l.Set.inherit()},l.prepare=function(t){var e=document.getElementsByTagName("body")[0],n=(e?new l.Doc(e):t.nested()).size(2,0),r=l.create("path");n.node.appendChild(r),l.parser={body:e||t.parent,draw:n.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:n.polyline().node,path:r}},l.supported=function(){return!!document.createElementNS&&!!document.createElementNS(l.ns,"svg").createSVGRect}(),!l.supported)return!1;l.get=function(t){var e=document.getElementById(u(t)||t);return e?e.instance:void 0},l.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,l.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&l.extend(e,t.extend),t.construct&&l.extend(t.parent||l.Container,t.construct),e},l.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif)(\?[^=]+.*)?/i,isEvent:/^[\w]+:[\w]+$/},l.defaults={matrix:"1 0 0 1 0 0",attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"},trans:function(){return{x:0,y:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0,matrix:this.matrix,a:1,b:0,c:0,d:1,e:0,f:0}}},l.Color=function(t){var n;this.r=0,this.g=0,this.b=0,"string"==typeof t?l.regex.isRgb.test(t)?(n=l.regex.rgb.exec(t.replace(/\s/g,"")),this.r=parseInt(n[1]),this.g=parseInt(n[2]),this.b=parseInt(n[3])):l.regex.isHex.test(t)&&(n=l.regex.hex.exec(e(t)),this.r=parseInt(n[1],16),this.g=parseInt(n[2],16),this.b=parseInt(n[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b)},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+n(this.r)+n(this.g)+n(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new l.Color(t),this},at:function(t){return this.destination?(t=0>t?0:t>1?1:t,new l.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),l.Color.test=function(t){return t+="",l.regex.isHex.test(t)||l.regex.isRgb.test(t)},l.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},l.Color.isColor=function(t){return l.Color.isRgb(t)||l.Color.test(t)},l.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},l.extend(l.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];e>t;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];n>e;e++)r.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new l.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").split(" ")},reverse:function(){return this.value.reverse(),this}}),l.PointArray=function(){this.constructor.apply(this,arguments)},l.PointArray.prototype=new l.Array,l.extend(l.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];e>t;t++)n.push(this.value[t].join(","));return n.join(" ")},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];n>e;e++)r.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new l.PointArray(r)},parse:function(t){if(t=t.valueOf(),Array.isArray(t))return t;t=this.split(t);for(var e,n=0,r=t.length,i=[];r>n;n++)e=t[n].split(","),i.push([parseFloat(e[0]),parseFloat(e[1])]);return i},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+t,this.value[r][1]+e];return this},size:function(t,e){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)this.value[n][0]=(this.value[n][0]-r.x)*t/r.width+r.x,this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y;return this},bbox:function(){return l.parser.poly.setAttribute("points",this.toString()),l.parser.poly.getBBox()}}),l.PathArray=function(t,e){this.constructor.call(this,t,e)},l.PathArray.prototype=new l.Array,l.extend(l.PathArray,{toString:function(){return s(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.value.length-1;i>=0;i--)r=this.value[i][0],"M"==r||"L"==r||"T"==r?(this.value[i][1]+=t,this.value[i][2]+=e):"H"==r?this.value[i][1]+=t:"V"==r?this.value[i][1]+=e:"C"==r||"S"==r||"Q"==r?(this.value[i][1]+=t,this.value[i][2]+=e,this.value[i][3]+=t,this.value[i][4]+=e,"C"==r&&(this.value[i][5]+=t,this.value[i][6]+=e)):"A"==r&&(this.value[i][6]+=t,this.value[i][7]+=e);return this},size:function(t,e){var n,r,i=this.bbox();for(n=this.value.length-1;n>=0;n--)r=this.value[n][0],"M"==r||"L"==r||"T"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y):"H"==r?this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x:"V"==r?this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y:"C"==r||"S"==r||"Q"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y,this.value[n][3]=(this.value[n][3]-i.x)*t/i.width+i.x,this.value[n][4]=(this.value[n][4]-i.y)*e/i.height+i.y,"C"==r&&(this.value[n][5]=(this.value[n][5]-i.x)*t/i.width+i.x,this.value[n][6]=(this.value[n][6]-i.y)*e/i.height+i.y)):"A"==r&&(this.value[n][1]=this.value[n][1]*t/i.width,this.value[n][2]=this.value[n][2]*e/i.height,this.value[n][6]=(this.value[n][6]-i.x)*t/i.width+i.x,this.value[n][7]=(this.value[n][7]-i.y)*e/i.height+i.y);return this},parse:function(t){if(t instanceof l.PathArray)return t.valueOf();var e,n,r,i,a,o,u,h,c,f,d,p=0,m=0;for(l.parser.path.setAttribute("d","string"==typeof t?t:s(t)),d=l.parser.path.pathSegList,e=0,n=d.numberOfItems;n>e;++e)f=d.getItem(e),c=f.pathSegTypeAsLetter,"M"==c||"L"==c||"H"==c||"V"==c||"C"==c||"S"==c||"Q"==c||"T"==c||"A"==c?("x"in f&&(p=f.x),"y"in f&&(m=f.y)):("x1"in f&&(a=p+f.x1),"x2"in f&&(u=p+f.x2),"y1"in f&&(o=m+f.y1),"y2"in f&&(h=m+f.y2),"x"in f&&(p+=f.x),"y"in f&&(m+=f.y),"m"==c?d.replaceItem(l.parser.path.createSVGPathSegMovetoAbs(p,m),e):"l"==c?d.replaceItem(l.parser.path.createSVGPathSegLinetoAbs(p,m),e):"h"==c?d.replaceItem(l.parser.path.createSVGPathSegLinetoHorizontalAbs(p),e):"v"==c?d.replaceItem(l.parser.path.createSVGPathSegLinetoVerticalAbs(m),e):"c"==c?d.replaceItem(l.parser.path.createSVGPathSegCurvetoCubicAbs(p,m,a,o,u,h),e):"s"==c?d.replaceItem(l.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(p,m,u,h),e):"q"==c?d.replaceItem(l.parser.path.createSVGPathSegCurvetoQuadraticAbs(p,m,a,o),e):"t"==c?d.replaceItem(l.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(p,m),e):"a"==c?d.replaceItem(l.parser.path.createSVGPathSegArcAbs(p,m,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),e):("z"==c||"Z"==c)&&(p=r,m=i)),("M"==c||"m"==c)&&(r=p,i=m);for(t=[],d=l.parser.path.pathSegList,e=0,n=d.numberOfItems;n>e;++e)f=d.getItem(e),c=f.pathSegTypeAsLetter,p=[c],"M"==c||"L"==c||"T"==c?p.push(f.x,f.y):"H"==c?p.push(f.x):"V"==c?p.push(f.y):"C"==c?p.push(f.x1,f.y1,f.x2,f.y2,f.x,f.y):"S"==c?p.push(f.x2,f.y2,f.x,f.y):"Q"==c?p.push(f.x1,f.y1,f.x,f.y):"A"==c&&p.push(f.r1,f.r2,f.angle,0|f.largeArcFlag,0|f.sweepFlag,f.x,f.y),t.push(p);return t},bbox:function(){return l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=function(t){if(this.value=0,this.unit="","number"==typeof t)this.value=isNaN(t)?0:isFinite(t)?t:0>t?-3.4e38:3.4e38;else if("string"==typeof t){var e=t.match(l.regex.unit);e&&(this.value=parseFloat(e[1]),"%"==e[2]?this.value/=100:"s"==e[2]&&(this.value*=1e3),this.unit=e[2])}else t instanceof l.Number&&(this.value=t.value,this.unit=t.unit)},l.extend(l.Number,{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(t){return this.value=this+new l.Number(t),this},minus:function(t){return this.plus(-new l.Number(t))},times:function(t){return this.value=this*new l.Number(t),this},divide:function(t){return this.value=this/new l.Number(t),this},to:function(t){return"string"==typeof t&&(this.unit=t),this},morph:function(t){return this.destination=new l.Number(t),this},at:function(t){return this.destination?new l.Number(this.destination).minus(this).times(t).plus(this):this}}),l.ViewBox=function(t){var e,n,r,i,s=1,a=1,o=t.bbox(),u=(t.attr("viewBox")||"").match(/-?[\d\.]+/g),h=t,c=t;for(r=new l.Number(t.width()),i=new l.Number(t.height());"%"==r.unit;)s*=r.value,r=new l.Number(h instanceof l.Doc?h.parent.offsetWidth:h.parent.width()),h=h.parent;for(;"%"==i.unit;)a*=i.value,i=new l.Number(c instanceof l.Doc?c.parent.offsetHeight:c.parent.height()),c=c.parent;this.x=o.x,this.y=o.y,this.width=r*s,this.height=i*a,this.zoom=1,u&&(e=parseFloat(u[0]),n=parseFloat(u[1]),r=parseFloat(u[2]),i=parseFloat(u[3]),this.zoom=this.width/this.height>r/i?this.height/i:this.width/r,this.x=e,this.y=n,this.width=r,this.height=i)},l.extend(l.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}}),l.BBox=function(t){var e;if(this.x=0,this.y=0,this.width=0,this.height=0,t){try{e=t.node.getBBox()}catch(n){e={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}this.x=e.x+t.trans.x,this.y=e.y+t.trans.y,this.width=e.width*t.trans.scaleX,this.height=e.height*t.trans.scaleY}a(this)},l.extend(l.BBox,{merge:function(t){var e=new l.BBox;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,a(e),e}}),l.RBox=function(t){var e,n,r={};if(this.x=0,this.y=0,this.width=0,this.height=0,t){for(e=t.doc().parent,n=t.doc().viewbox().zoom,r=t.node.getBoundingClientRect(),this.x=r.left,this.y=r.top,this.x-=e.offsetLeft,this.y-=e.offsetTop;e=e.offsetParent;)this.x-=e.offsetLeft,this.y-=e.offsetTop;for(e=t;e=e.parent;)"svg"==e.type&&e.viewbox&&(n*=e.viewbox().zoom,this.x-=e.x()||0,this.y-=e.y()||0)}this.x/=n,this.y/=n,this.width=r.width/=n,this.height=r.height/=n,this.x+=window.scrollX,this.y+=window.scrollY,a(this)},l.extend(l.RBox,{merge:function(t){var e=new l.RBox;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,a(e),e}}),l.Element=l.invent({create:function(t){this._stroke=l.defaults.attrs.stroke,this.trans=l.defaults.trans(),(this.node=t)&&(this.type=t.nodeName,this.node.instance=this)},extend:{x:function(t){return null!=t&&(t=new l.Number(t),t.value/=this.trans.scaleX),this.attr("x",t)},y:function(t){return null!=t&&(t=new l.Number(t),t.value/=this.trans.scaleY),this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=r(this.bbox(),t,e);return this.width(new l.Number(n.width)).height(new l.Number(n.height))},clone:function(){var t,e,n=this.type;return t="rect"==n||"ellipse"==n?this.parent[n](0,0):"line"==n?this.parent[n](0,0,0,0):"image"==n?this.parent[n](this.src):"text"==n?this.parent[n](this.content):"path"==n?this.parent[n](this.attr("d")):"polyline"==n||"polygon"==n?this.parent[n](this.attr("points")):"g"==n?this.parent.group():this.parent[n](),e=this.attr(),delete e.id,t.attr(e),t.trans=this.trans,t.transform({})},remove:function(){return this.parent&&this.parent.removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},doc:function(t){return this._parent(t||l.Doc)},attr:function(t,e,n){if(null==t){for(t={},e=this.node.attributes,n=e.length-1;n>=0;n--)t[e[n].nodeName]=l.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?l.defaults.attrs[t]:l.regex.isNumber.test(e)?parseFloat(e):e;if("style"==t)return this.style(e);"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),("fill"==t||"stroke"==t)&&(l.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof l.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new l.Number(e):l.Color.isColor(e)?e=new l.Color(e):Array.isArray(e)&&(e=new l.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this},transform:function(t,e){if(0==arguments.length)return this.trans;if("string"==typeof t){if(arguments.length<2)return this.trans[t];var n={};return n[t]=e,this.transform(n)}var n=[];t=o(t);for(e in t)null!=t[e]&&(this.trans[e]=t[e]);return this.trans.matrix=this.trans.a+" "+this.trans.b+" "+this.trans.c+" "+this.trans.d+" "+this.trans.e+" "+this.trans.f,t=this.trans,t.matrix!=l.defaults.matrix&&n.push("matrix("+t.matrix+")"),0!=t.rotation&&n.push("rotate("+t.rotation+" "+(null==t.cx?this.bbox().cx:t.cx)+" "+(null==t.cy?this.bbox().cy:t.cy)+")"),(1!=t.scaleX||1!=t.scaleY)&&n.push("scale("+t.scaleX+" "+t.scaleY+")"),0!=t.skewX&&n.push("skewX("+t.skewX+")"),0!=t.skewY&&n.push("skewY("+t.skewY+")"),(0!=t.x||0!=t.y)&&n.push("translate("+new l.Number(t.x/t.scaleX)+" "+new l.Number(t.y/t.scaleY)+")"),0==n.length?this.node.removeAttribute("transform"):this.node.setAttribute("transform",n.join(" ")),this},style:function(e,n){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(n in e)this.style(n,e[n]);else{if(!l.regex.isCss.test(e))return this.node.style[t(e)];e=e.split(";");for(var r=0;r<e.length;r++)n=e[r].split(":"),this.style(n[0].replace(/\s+/g,""),n[1])}else this.node.style[t(e)]=null===n||l.regex.isBlank.test(n)?"":n;return this},id:function(t){return this.attr("id",t)},bbox:function(){return new l.BBox(this)},rbox:function(){return new l.RBox(this)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.node.getAttribute("class");return null===t?[]:t.trim().split(/\s+/)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){var e;return this.hasClass(t)||(e=this.classes(),e.push(t),this.node.setAttribute("class",e.join(" "))),this},removeClass:function(t){var e;return this.hasClass(t)&&(e=this.classes().filter(function(e){return e!=t}),this.node.setAttribute("class",e.join(" "))),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t),this},reference:function(t){return l.get(this.attr(t))},_parent:function(t){for(var e=this;null!=e&&!(e instanceof t);)e=e.parent;return e}}}),l.Parent=l.invent({create:function(t){this.constructor.call(this,t)},inherit:l.Element,extend:{children:function(){return this._children||(this._children=[])},add:function(t,e){return this.has(t)||(e=null==e?this.children().length:e,t.parent&&t.parent.children().splice(t.parent.index(t),1),this.children().splice(e,0,t),this.node.insertBefore(t.node,this.node.childNodes[e]||null),t.parent=this),this._defs&&(this.node.removeChild(this._defs.node),this.node.appendChild(this._defs.node)),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return this.children().indexOf(t)},get:function(t){return this.children()[t]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(t,e){var n,r,i=this.children();for(n=0,r=i.length;r>n;n++)i[n]instanceof l.Element&&t.apply(i[n],[n,i]),e&&i[n]instanceof l.Container&&i[n].each(t,e);return this},removeElement:function(t){return this.children().splice(this.index(t),1),this.node.removeChild(t.node),t.parent=null,this},clear:function(){for(var t=this.children().length-1;t>=0;t--)this.removeElement(this.children()[t]);return this._defs&&this._defs.clear(),this},defs:function(){return this.doc().defs()}}}),l.Container=l.invent({create:function(t){this.constructor.call(this,t)},inherit:l.Parent,extend:{viewbox:function(t){return 0==arguments.length?new l.ViewBox(this):(t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments),this.attr("viewBox",t))}}}),l.FX=l.invent({create:function(t){this.target=t},extend:{animate:function(t,e,n){var r,s,a,o,u=this.target,h=this;return"object"==typeof t&&(n=t.delay,e=t.ease,t=t.duration),t="="==t?t:null==t?1e3:new l.Number(t).valueOf(),e=e||"<>",h.to=function(t){var n;if(t=0>t?0:t>1?1:t,null==r){r=[];for(o in h.attrs)r.push(o);if(u.morphArray&&(h._plot||r.indexOf("points")>-1)){var l,c=new u.morphArray(h._plot||h.attrs.points||u.array);h._size&&c.size(h._size.width.to,h._size.height.to),l=c.bbox(),h._x?c.move(h._x.to,l.y):h._cx&&c.move(h._cx.to-l.width/2,l.y),l=c.bbox(),h._y?c.move(l.x,h._y.to):h._cy&&c.move(l.x,h._cy.to-l.height/2),delete h._x,delete h._y,delete h._cx,delete h._cy,delete h._size,h._plot=u.array.morph(c)}}if(null==s){s=[];for(o in h.trans)s.push(o)}if(null==a){a=[];for(o in h.styles)a.push(o)}for(t="<>"==e?-Math.cos(t*Math.PI)/2+.5:">"==e?Math.sin(t*Math.PI/2):"<"==e?-Math.cos(t*Math.PI/2)+1:"-"==e?t:"function"==typeof e?e(t):t,h._plot?u.plot(h._plot.at(t)):(h._x?u.x(h._x.at(t)):h._cx&&u.cx(h._cx.at(t)),h._y?u.y(h._y.at(t)):h._cy&&u.cy(h._cy.at(t)),h._size&&u.size(h._size.width.at(t),h._size.height.at(t))),h._viewbox&&u.viewbox(h._viewbox.x.at(t),h._viewbox.y.at(t),h._viewbox.width.at(t),h._viewbox.height.at(t)),h._leading&&u.leading(h._leading.at(t)),n=r.length-1;n>=0;n--)u.attr(r[n],i(h.attrs[r[n]],t));for(n=s.length-1;n>=0;n--)u.transform(s[n],i(h.trans[s[n]],t));for(n=a.length-1;n>=0;n--)u.style(a[n],i(h.styles[a[n]],t));h._during&&h._during.call(u,t,function(e,n){return i({from:e,to:n},t)})},"number"==typeof t&&(this.timeout=setTimeout(function(){var r=(new Date).getTime();h.situation={interval:1e3/60,start:r,play:!0,finish:r+t,duration:t},h.render=function(){if(h.situation.play===!0){var r=(new Date).getTime(),i=r>h.situation.finish?1:(r-h.situation.start)/t;h.to(i),r>h.situation.finish?(h._plot&&u.plot(new l.PointArray(h._plot.destination).settle()),h._loop===!0||"number"==typeof h._loop&&h._loop>1?("number"==typeof h._loop&&--h._loop,h.animate(t,e,n)):h._after?h._after.apply(u,[h]):h.stop()):requestAnimFrame(h.render)}else requestAnimFrame(h.render)},h.render()},new l.Number(n).valueOf())),this},bbox:function(){return this.target.bbox()},attr:function(t,e){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else{var r=this.target.attr(t);this.attrs[t]=l.Color.isColor(r)?new l.Color(r).morph(e):l.regex.unit.test(r)?new l.Number(r).morph(e):{from:r,to:e}}return this},transform:function(t,e){if(1==arguments.length){t=o(t),delete t.matrix;for(e in t)this.trans[e]={from:this.target.trans[e],to:t[e]}}else{var n={};n[t]=e,this.transform(n)}return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.styles[t]={from:this.target.style(t),to:e};return this},x:function(t){return this._x=new l.Number(this.target.x()).morph(t),this},y:function(t){return this._y=new l.Number(this.target.y()).morph(t),this},cx:function(t){return this._cx=new l.Number(this.target.cx()).morph(t),this},cy:function(t){return this._cy=new l.Number(this.target.cy()).morph(t),this},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target instanceof l.Text)this.attr("font-size",t);else{var n=this.target.bbox();this._size={width:new l.Number(n.width).morph(t),height:new l.Number(n.height).morph(e)}}return this},plot:function(t){return this._plot=t,this},leading:function(t){return this.target._leading&&(this._leading=new l.Number(this.target._leading).morph(t)),this},viewbox:function(t,e,n,r){if(this.target instanceof l.Container){var i=this.target.viewbox();this._viewbox={x:new l.Number(i.x).morph(t),y:new l.Number(i.y).morph(e),width:new l.Number(i.width).morph(n),height:new l.Number(i.height).morph(r)}}return this},environmentUpdate:function(t){return this.target instanceof l.Stop&&(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new l.Number(t.offset))),this},during:function(t){return this._during=t,this},after:function(t){return this._after=t,this},loop:function(t){return this._loop=t||!0,this},stop:function(t){return t===!0?(this.animate(0),this._after&&this._after.apply(this.target,[this])):(clearTimeout(this.timeout),this.attrs={},this.trans={},this.styles={},this.situation={},delete this._x,delete this._y,delete this._cx,delete this._cy,delete this._size,delete this._plot,delete this._loop,delete this._after,delete this._during,delete this._leading,delete this._viewbox),this},pause:function(){return this.situation.play===!0&&(this.situation.play=!1,this.situation.pause=(new Date).getTime()),this},play:function(){if(this.situation.play===!1){var t=(new Date).getTime()-this.situation.pause;this.situation.finish+=t,this.situation.start+=t,this.situation.play=!0}return this}},parent:l.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new l.FX(this))).stop().animate(t,e,n)},stop:function(t){return this.fx&&this.fx.stop(t),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),l.extend(l.Element,l.FX,{dx:function(t){return this.x((this.target||this).x()+t)},dy:function(t){return this.y((this.target||this).y()+t)},dmove:function(t,e){return this.dx(t).dy(e)
}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){l.Element.prototype[t]=function(e){var n=this;return this.node["on"+t]="function"==typeof e?function(){return e.apply(n,arguments)}:null,this}}),l.events={},l.listeners={},l.registerEvent=function(t){l.events[t]||(l.events[t]=new Event(t))},l.on=function(t,e,n){var r=n.bind(t.instance||t);l.listeners[n]=r,t.addEventListener(e,r,!1)},l.off=function(t,e,n){t.removeEventListener(e,l.listeners[n],!1),delete l.listeners[n]},l.extend(l.Element,{on:function(t,e){return l.on(this.node,t,e),this},off:function(t,e){return l.off(this.node,t,e),this},fire:function(t){return this.node.dispatchEvent(l.events[t]),this}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(t){return null==t?this.trans.x:this.transform("x",t)},y:function(t){return null==t?this.trans.y:this.transform("y",t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)}},construct:{group:function(){return this.put(new l.G)}}}),l.extend(l.Element,{siblings:function(){return this.parent.children()},position:function(){return this.parent.index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position();return this.parent.removeElement(this).put(this,t+1)},backward:function(){var t=this.position();return t>0&&this.parent.removeElement(this).add(this,t-1),this},front:function(){return this.parent.removeElement(this).put(this)},back:function(){return this.position()>0&&this.parent.removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent.add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent.add(t,e+1),this}}),l.Mask=l.invent({create:function(){this.constructor.call(this,l.create("mask")),this.targets=[]},inherit:l.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return delete this.targets,this.parent.removeElement(this),this}},construct:{mask:function(){return this.defs().put(new l.Mask)}}}),l.extend(l.Element,{maskWith:function(t){return this.masker=t instanceof l.Mask?t:this.parent.mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),l.Clip=l.invent({create:function(){this.constructor.call(this,l.create("clipPath")),this.targets=[]},inherit:l.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return delete this.targets,this.parent.removeElement(this),this}},construct:{clip:function(){return this.defs().put(new l.Clip)}}}),l.extend(l.Element,{clipWith:function(t){return this.clipper=t instanceof l.Clip?t:this.parent.clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),l.Gradient=l.invent({create:function(t){this.constructor.call(this,l.create(t+"Gradient")),this.type=t},inherit:l.Container,extend:{from:function(t,e){return this.attr("radial"==this.type?{fx:new l.Number(t),fy:new l.Number(e)}:{x1:new l.Number(t),y1:new l.Number(e)})},to:function(t,e){return this.attr("radial"==this.type?{cx:new l.Number(t),cy:new l.Number(e)}:{x2:new l.Number(t),y2:new l.Number(e)})},radius:function(t){return"radial"==this.type?this.attr({r:new l.Number(t)}):this},at:function(t,e,n){return this.put(new l.Stop).environmentUpdate(t,e,n)},environmentUpdate:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),l.extend(l.Defs,{gradient:function(t,e){return this.put(new l.Gradient(t)).environmentUpdate(e)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{environmentUpdate:function(t){return("number"==typeof t||t instanceof l.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new l.Number(t.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},environmentUpdate:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),l.extend(l.Defs,{pattern:function(t,e,n){return this.put(new l.Pattern).environmentUpdate(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),l.Doc=l.invent({create:function(t){this.parent="string"==typeof t?document.getElementById(t):t,this.constructor.call(this,"svg"==this.parent.nodeName?this.parent:l.create("svg")),this.attr({xmlns:l.ns,version:"1.1",width:"100%",height:"100%"}).attr("xmlns:xlink",l.xlink,l.xmlns),this._defs=new l.Defs,this._defs.parent=this,this.node.appendChild(this._defs.node),this.doSpof=!1,this.parent!=this.node&&this.stage()},inherit:l.Container,extend:{stage:function(){var t=this;return this.parent.appendChild(this.node),t.spof(),l.on(window,"resize",function(){t.spof()}),this},defs:function(){return this._defs},spof:function(){if(this.doSpof){var t=this.node.getScreenCTM();t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px")}return this},fixSubPixelOffset:function(){return this.doSpof=!0,this}}}),l.Shape=l.invent({create:function(t){this.constructor.call(this,t)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.defs().put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(t){return this.target=t,this.attr("href","#"+t,l.xlink)}},construct:{use:function(t){return this.put(new l.Use).element(t)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(t,e){return this.put((new l.Rect).size(t,e))}}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,extend:{x:function(t){return null==t?this.cx()-this.attr("rx"):this.cx(t+this.attr("rx"))},y:function(t){return null==t?this.cy()-this.attr("ry"):this.cy(t+this.attr("ry"))},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",new l.Number(t).divide(this.trans.scaleX))},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",new l.Number(t).divide(this.trans.scaleY))},width:function(t){return null==t?2*this.attr("rx"):this.attr("rx",new l.Number(t).divide(2))},height:function(t){return null==t?2*this.attr("ry"):this.attr("ry",new l.Number(t).divide(2))},size:function(t,e){var n=r(this.bbox(),t,e);return this.attr({rx:new l.Number(n.width).divide(2),ry:new l.Number(n.height).divide(2)})}},construct:{circle:function(t){return this.ellipse(t,t)},ellipse:function(t,e){return this.put(new l.Ellipse).size(t,e).move(0,0)}}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{x:function(t){var e=this.bbox();return null==t?e.x:this.attr({x1:this.attr("x1")-e.x+t,x2:this.attr("x2")-e.x+t})},y:function(t){var e=this.bbox();return null==t?e.y:this.attr({y1:this.attr("y1")-e.y+t,y2:this.attr("y2")-e.y+t})},cx:function(t){var e=this.bbox().width/2;return null==t?this.x()+e:this.x(t-e)},cy:function(t){var e=this.bbox().height/2;return null==t?this.y()+e:this.y(t-e)},width:function(t){var e=this.bbox();return null==t?e.width:this.attr(this.attr("x1")<this.attr("x2")?"x2":"x1",e.x+t)},height:function(t){var e=this.bbox();return null==t?e.height:this.attr(this.attr("y1")<this.attr("y2")?"y2":"y1",e.y+t)},size:function(t,e){var n=r(this.bbox(),t,e);return this.width(n.width).height(n.height)},plot:function(t,e,n,r){return this.attr({x1:t,y1:e,x2:n,y2:r})}},construct:{line:function(t,e,n,r){return this.put((new l.Line).plot(t,e,n,r))}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(t){return this.put(new l.Polyline).plot(t)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(t){return this.put(new l.Polygon).plot(t)}}}),l.extend(l.Polyline,l.Polygon,{morphArray:l.PointArray,plot:function(t){return this.attr("points",this.array=new l.PointArray(t,[[0,0]]))},move:function(t,e){return this.attr("points",this.array.move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)},size:function(t,e){var n=r(this.bbox(),t,e);return this.attr("points",this.array.size(n.width,n.height))}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{plot:function(t){return this.attr("d",this.array=new l.PathArray(t,[["M",0,0]]))},move:function(t,e){return this.attr("d",this.array.move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=r(this.bbox(),t,e);return this.attr("d",this.array.size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new l.Path).plot(t)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(t){if(!t)return this;var e=this,n=document.createElement("img");return n.onload=function(){var r=e.doc(l.Pattern);0==e.width()&&0==e.height()&&e.size(n.width,n.height),r&&0==r.width()&&0==r.height()&&r.size(e.width(),e.height()),"function"==typeof e._loaded&&e._loaded.call(e,{width:n.width,height:n.height,ratio:n.width/n.height,url:t})},this.attr("href",n.src=this.src=t,l.xlink)},loaded:function(t){return this._loaded=t,this}},construct:{image:function(t,e,n){return this.put(new l.Image).load(t).size(e||0,n||e||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this._leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(t){return null==t?this.attr("x"):(this.textPath||this.lines.each(function(){this.newLined&&this.x(t)}),this.attr("x",t))},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if("undefined"==typeof t)return this.content;if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=(this.content=t).split("\n");for(var e=0,n=t.length;n>e;e++)this.tspan(t[e]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this._leading:(this._leading=new l.Number(t),this.rebuild())},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this;this.lines.each(function(){this.newLined&&(this.textPath||this.attr("x",e.attr("x")),this.attr("dy",e._leading*new l.Number(e.attr("font-size"))))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this}},construct:{text:function(t){return this.put(new l.Text).text(t)},plain:function(t){return this.put(new l.Text).plain(t)}}}),l.TSpan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(t){return"function"==typeof t?t.call(this,this):this.plain(t),this},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.doc(l.Text);return this.newLined=!0,this.dy(t._leading*t.attr("font-size")).attr("x",t.x())}}}),l.extend(l.Text,l.TSpan,{plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(document.createTextNode(this.content=t)),this},tspan:function(t){var e=(this.textPath||this).node,n=new l.TSpan;return this._build===!1&&this.clear(),e.appendChild(n.node),n.parent=this,this instanceof l.Text&&this.lines.add(n),n.text(t)},clear:function(){for(var t=(this.textPath||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this instanceof l.Text&&(delete this.lines,this.lines=new l.Set,this.content=""),this},length:function(){return this.node.getComputedTextLength()}}),l.registerEvent("rebuild"),l.TextPath=l.invent({create:"textPath",inherit:l.Element,parent:l.Text,construct:{path:function(t){for(this.textPath=new l.TextPath;this.node.hasChildNodes();)this.textPath.node.appendChild(this.node.firstChild);return this.node.appendChild(this.textPath.node),this.track=this.doc().defs().path(t),this.textPath.parent=this,this.textPath.attr("href","#"+this.track,l.xlink),this},plot:function(t){return this.track&&this.track.plot(t),this}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}}),l.A=l.invent({create:"a",inherit:l.Container,extend:{to:function(t){return this.attr("href",t,l.xlink)},show:function(t){return this.attr("show",t,l.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new l.A).to(t)}}}),l.extend(l.Element,{linkTo:function(t){var e=new l.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent.put(e).put(this)}}),l.Marker=l.invent({create:"marker",inherit:l.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},environmentUpdate:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),l.extend(l.Defs,{marker:function(t,e,n){return this.put(new l.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").environmentUpdate(n)}}),l.extend(l.Line,l.Polyline,l.Polygon,l.Path,{marker:function(t,e,n,r){var i=["marker"];return"all"!=t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof l.Marker?arguments[1]:this.doc().marker(e,n,r),this.attr(i,t)}});var h={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,n={};n[t]=function(n){if("string"==typeof n||l.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(t,n);else for(e=h[t].length-1;e>=0;e--)null!=n[h[t][e]]&&this.attr(h.prefix(t,h[t][e]),n[h[t][e]]);return this},l.extend(l.Element,l.FX,n)}),l.extend(l.Element,l.FX,{rotate:function(t,e,n){return this.transform({rotation:t||0,cx:e,cy:n})},skew:function(t,e){return this.transform({skewX:t||0,skewY:e||0})},scale:function(t,e){return this.transform({scaleX:t,scaleY:null==e?t:e})},translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.transform({matrix:t})},opacity:function(t){return this.attr("opacity",t)}}),l.extend(l.Rect,l.Ellipse,l.FX,{radius:function(t,e){return this.attr({rx:t,ry:e||t})}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),l.extend(l.Parent,l.Text,l.FX,{font:function(t){for(var e in t)"leading"==e?this.leading(t[e]):"anchor"==e?this.attr("text-anchor",t[e]):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t[e]):this.attr(e,t[e]);return this}}),l.Set=l.invent({create:function(){this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;e>t;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;n>e;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var t=new l.BBox;if(0==this.members.length)return t;var e=this.members[0].rbox();return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,this.each(function(){t=t.merge(this.rbox())}),t}},construct:{set:function(){return new l.Set}}}),l.SetFX=l.invent({create:function(t){this.set=t}}),l.Set.inherit=function(){var t,e=[];for(var t in l.Shape.prototype)"function"==typeof l.Shape.prototype[t]&&"function"!=typeof l.Set.prototype[t]&&e.push(t);e.forEach(function(t){l.Set.prototype[t]=function(){for(var e=0,n=this.members.length;n>e;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new l.SetFX(this)):this}}),e=[];for(var t in l.FX.prototype)"function"==typeof l.FX.prototype[t]&&"function"!=typeof l.SetFX.prototype[t]&&e.push(t);e.forEach(function(t){l.SetFX.prototype[t]=function(){for(var e=0,n=this.set.members.length;n>e;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},l.extend(l.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(r){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:n===!0||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),l.extend(l.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),"function"==typeof define&&define.amd?define(function(){return l}):"undefined"!=typeof exports&&(exports.SVG=l),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()}.call(this),function(){SVG.Clock=function(t){this.full={hours:0,minutes:0,seconds:0},this.time={hours:0,minutes:0,seconds:0},this.constructor.call(this,SVG.create("svg")),this.viewbox(0,0,100,100),this.size(t,t),this.plate=this.circle(77).stroke({width:10,color:"#fff"}).fill({opacity:0}).move(10.5,10.5),this.hours=this.rect(7,20).move(45.5,29).fill({color:"#fff"}),this.dot=this.circle(7).move(45.5,45.5).fill({color:"#fff"}),this.minutes=this.rect(5,25).move(46.5,24).fill({color:"#fff"}),this.seconds=this.path().stroke({width:3,color:"#fff"}).fill({opacity:0}),this.update(0)},SVG.Clock.prototype=new SVG.Container,SVG.extend(SVG.Clock,{start:function(){var t=this;return setInterval(function(){t.update()},1e3),this},update:function(t){var e=new Date;return null==t&&(t=300),this.setHours(e.getHours(),e.getMinutes()).setMinutes(e.getMinutes(),t).setSeconds(e.getSeconds()+e.getMilliseconds()/1e3,t),this},setHours:function(t,e){return this.time.hours=t,this.hours.rotate(30*((t+e/60)%12),49,49),this},setMinutes:function(t,e){if(t==this.time.minutes)return this;this.time.minutes=t,0==t&&this.full.minutes++;var n=360*this.full.minutes+6*t;return e?this.minutes.animate(e).rotate(n,49,49):this.minutes.rotate(n,49,49),this},setSeconds:function(t){var e=t/60*2*Math.PI,n=49+48*Math.sin(e),r=49+-48*Math.cos(e),i=e>Math.PI?1:0,s="M 49,1 A 48,48 0 "+i+",1 "+n+","+r;return this.seconds.plot(s),this}}),SVG.extend(SVG.Container,{clock:function(t){return this.put(new SVG.Clock(t))}})}();
function isUndefined(t){return!t}function isEmpty(t){return 0===t.length}function isUndefinedOrEmpty(t){return isUndefined(t)||isEmpty(t)}var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Query;!function(t){function e(t){return r.fromArray(t)}function n(t){return r.fromObject(t)}t.fromArray=e,t.fromObject=n;var r=function(){function t(){}return t.fromArray=function(t){return new p(t)},t.fromObject=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(new l(n,t[n]));return new p(e)},t}();t.Enumerable=r,function(t){t[t.Ascending=0]="Ascending",t[t.Descending=1]="Descending"}(t.SortOrder||(t.SortOrder={}));var i=(t.SortOrder,function(){function t(t,e){this.result=t,this.shouldBreak=e}return t}()),o=function(){function t(){this._storage=[]}return t.prototype.aggregate=function(t){this._storage.push(t)},t.prototype.getResult=function(){return r.fromArray(this._storage)},t}(),a=function(){function t(t){this._aggregatorFunction=t}return t.prototype.aggregate=function(t){this._storage=this._aggregatorFunction(this._storage,t)},t.prototype.getResult=function(){return this._storage},t}(),u=function(){function t(t){this._selector=t,this._storage=[]}return t.prototype.bucket=function(t){var e=this._selector(t),n=r.fromArray(this._storage).firstOrDefault(function(t){return t.key===e});n||(n=new h(e),this._storage.push(n)),n.add(t)},t.prototype.aggregate=function(t){this.bucket(t)},t.prototype.getResult=function(){return r.fromArray(this._storage)},t}(),s=function(){function t(t,e){this._selector=t,this._sortOrder=e,this._storage=[]}return t.prototype.getComparer=function(){return 0===this._sortOrder?function(t,e){return t>e}:function(t,e){return e>t}},t.prototype.getInsertionPosition=function(t){var e=this,n=this.getComparer(),i=0;return r.fromArray(this._storage).firstOrDefault(function(r){return n(e._selector(t),e._selector(r))?(i++,!1):!0}),i},t.prototype.aggregate=function(t){this._storage.splice(this.getInsertionPosition(t),0,t)},t.prototype.getResult=function(){return r.fromArray(this._storage)},t}(),c=function(){function t(t){this._enumerator=t}return t.prototype.iterate=function(t,e){for(var n,r=0;null!==(n=this._enumerator.next());){var i=t(n,r);if(null!==i.result&&e.aggregate(i.result),i.shouldBreak)break;r++}return e.getResult()},t.prototype.filter=function(t,e){return this.iterate(t,e)},t.prototype.aggregate=function(t,e){return this.iterate(t,e)},t}(),p=function(){function t(t){this.storage=t?t:new Array}return t.prototype.getEnumerator=function(){var t=this;return new d(function(e){return t.storage[e]})},t.prototype.aggr=function(t){return new c(this.getEnumerator()).aggregate(function(t){return new i(t,!1)},new a(t))},t.prototype.iterate=function(t,e){return new c(this.getEnumerator()).filter(t,e)},t.prototype.group=function(t,e){return new c(this.getEnumerator()).filter(t,e)},t.prototype.filter=function(t){return this.iterate(t,new o)},t.prototype.sort=function(t,e){return this.iterate(function(t){return new i(t,!1)},new s(t,e))},t.prototype.item=function(t){return this.storage[t]},t.prototype.count=function(t){return t?this.where(t).count():this.storage.length},t.prototype.where=function(t){return this.filter(function(e){return t(e)?new i(e,!1):new i(null,!1)})},t.prototype.firstOrDefault=function(t){if(!t)return this.item(0);var e=this.filter(function(e,n){return t(e,n)?new i(e,!0):new i(null,!1)});return e.count()>0?e.firstOrDefault():null},t.prototype.select=function(t){return this.filter(function(e){return new i(t(e),!1)})},t.prototype.orderByAscending=function(t){return this.sort(t,0)},t.prototype.orderByDescending=function(t){return this.sort(t,1)},t.prototype.aggregate=function(t,e){return this.aggr(function(n,r){return t(void 0===n?e:n,r)})},t.prototype.sum=function(t){return t||(t=function(t){return t}),this.aggregate(function(e,n){return e+t(n)},0)},t.prototype.take=function(t){var e=0;return this.filter(function(n){return t>e?(e++,new i(n,!1)):new i(null,!0)})},t.prototype.skip=function(t){var e=0;return this.filter(function(n){return t>e?(e++,new i(null,!1)):new i(n,!1)})},t.prototype.groupBy=function(t){return this.group(function(t){return new i(t,!1)},new u(t))},t.prototype.toArray=function(){return this.storage.slice(0)},t.prototype.toList=function(){return new f(this.toArray())},t}();t.EnumerableCore=p;var f=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.add=function(t){this.storage.push(t)},e.prototype.remove=function(t){this.storage.splice(t,1)},e.prototype.each=function(t){this.filter(function(e){return t(e),new i(null,!1)})},e}(p);t.List=f;var h=function(t){function e(e){t.call(this),this.key=e}return __extends(e,t),e}(f);t.Grouping=h;var l=function(){function t(t,e){this.key=t,this.value=e}return t}(),d=function(){function t(t){this._accessor=t,this._currentIndex=0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._accessor(this._currentIndex)},enumerable:!0,configurable:!0}),t.prototype.next=function(){var t=this.current;return t?(this._currentIndex++,t):null},t.prototype.reset=function(){this._currentIndex=0},t}()}(Query||(Query={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Simple;!function(t){var e=function(){function t(){this.listeners={}}return t.prototype.on=function(t,e,n){(this.listeners[t]||(this.listeners[t]=[])).push({callback:e,context:n})},t.prototype.off=function(t,e,n){e||n||delete this.listeners[t];for(var r=this.listeners[t]||[],i=0;i<r.length;i++)e&&r[i].callback!==e||n&&r[i].context!==n||r.splice(i,1)},t.prototype.trigger=function(t,e){for(var n=this.listeners[t]||[],r=0;r<n.length;r++)n[r].callback.apply(n[r].context||this,[e])},t}();t.Events=e;var n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(e);t.Controller=n;var r=function(t){function e(e,n){t.call(this),this.el=e,this.controller=n,this._template=new i(function(){return e})}return __extends(e,t),e.prototype.initialize=function(){},e.prototype.render=function(){},e}(e);t.View=r;var i=function(){function t(t){this.factory=t}return t.prototype.compile=function(t){var e=this;return function(n){var r=e.factory();return Object.keys(t).forEach(function(e){t[e](r.find(e),n)}),r}},t}();t.Template=i}(Simple||(Simple={}));var Weather;!function(t){var e=function(){function t(t){this.appId=t}return t.prototype.translateIcon=function(t){switch(t.replace("n","d")){case"01d":return"wi-day-sunny";case"02d":return"wi-day-sunny-overcast";case"03d":return"wi-day-cloudy";case"04d":return"wi-cloudy";case"09d":return"wi-rain";case"10d":return"wi-showers";case"11d":return"wi-thunderstorm";case"13d":return"wi-snow";case"50d":return"wi-fog";default:return"wi-cloudy"}},t.prototype.parseWeatherData=function(t){return{description:t.weather[0].description,main:t.weather[0].main,icon:this.translateIcon(t.weather[0].icon),temperature:Math.round(t.main.temp-273.15),percipitation:t.rain?t.rain["3h"]:0,windSpeed:t.wind.speed,sunrise:moment.unix(t.sys.sunrise),sunset:moment.unix(t.sys.sunset)}},t.prototype.getApiUrl=function(t,e){return"http://api.openweathermap.org/data/2.5/weather?q="+t+","+e+"&APPID="+this.appId+"&callback=?"},t.prototype.getWeather=function(t,e){var n=this;return $.getJSON(this.getApiUrl(t,e)).then(function(t){return n.parseWeatherData(t)})},t}();t.OpenWeatherMap=e}(Weather||(Weather={}));var Timers;!function(t){var e=function(){function t(t){this.action=t}return t.prototype.tick=function(){isUndefined(this.maxTimes)||this.times<this.maxTimes?(this.action(),this.times++):window.clearInterval(this.handle)},t.prototype.trigger=function(){this.action()},t.prototype.start=function(t,e){var n=this;this.times=0,this.maxTimes=e,this.handle=window.setInterval(function(){return n.tick()},t)},t.prototype.stop=function(){isUndefined(this.handle)||window.clearInterval(this.handle)},t}();t.Timer=e;var n=function(){function t(){}return t.prototype.create=function(t){return new e(t)},t}();t.TimerFactory=n;var r=function(){function t(t,e){this.timerFactory=t,this.mediator=e,this.timers={}}return t.prototype.schedule=function(t,e,n,r){var i=this;void 0===n&&(n=!1);var o=this.timers[t]||(this.timers[t]=this.timerFactory.create(function(){return i.mediator.trigger(t)}));n&&o.trigger(),o.start(e,r)},t}();t.Scheduler=r}(Timers||(Timers={}));var Updater;!function(t){var e=function(){function t(t,e,n){this.username=t,this.repository=e,this.mediator=n,this.initialize()}return t.prototype.initialize=function(){},t.prototype.getApiUrl=function(){return"https://api.github.com/repos/"+this.username+"/"+this.repository+"/events"},t.prototype.parseEvent=function(t){return{type:t.type,actor:t.actor.login,messages:"PushEvent"===t.type?t.payload.commits.map(function(t){return t.message}):[],created:moment(t.created_at),deployMinutes:7}},t.prototype.update=function(){var t=this;return $.getJSON(this.getApiUrl()).then(function(e){return e.map(function(e){return t.parseEvent(e)})})},t.prototype.getLastEventOfType=function(t){return this.update().then(function(e){return e.filter(function(e){return e.type===t}).sort(function(t,e){return t.created.isAfter(e.created)?1:-1}).reverse()[0]})},t}();t.GitHubEventService=e;var n=function(){function t(t,e){this.mediator=t,this.eventService=e,this.initialize()}return t.prototype.initialize=function(){this.mediator.on("tick-autoUpdater-check",this.check,this)},t.prototype.check=function(){var t=this;this.eventService.getLastEventOfType("PushEvent").then(function(e){return isUndefined(e)?void 0:isUndefined(t.lastEvent)?void(t.lastEvent=e):void(e.created.isAfter(t.lastEvent.created)&&(t.mediator.trigger("autoUpdater-update",e),t.lastEvent=e))})},t}();t.AutoUpdater=n}(Updater||(Updater={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Views;!function(t){var e=function(t){function e(e,n){t.call(this,e),this.el=e,this.mediator=n,this.initialize()}return __extends(e,t),e.prototype.initialize=function(){this.mediator.on("updateView-show",this.show,this),this.mediator.on("clock-update",this.update,this),this.renderTemplate(),this.hide()},e.prototype.renderTemplate=function(){this.template=this._template.compile({".eta":function(t,e){var n=moment(e.created).add("minutes",e.deployMinutes).diff(moment(),"seconds");t.text(Math.floor(n/60)+" minutes, "+Math.floor(n%60)+" seconds")},".commits":function(t,e){t.empty(),e.messages.forEach(function(e){return t.append($("<li>"+e+"</li>"))})}})},e.prototype.show=function(t){this.currentData=t,this.el.show()},e.prototype.hide=function(){this.el.hide()},e.prototype.update=function(){this.el.is(":visible")&&this.template(this.currentData)},e}(Simple.View);t.UpdateView=e}(Views||(Views={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Views;!function(t){var e=function(t){function e(e,n){t.call(this,e),this.el=e,this.mediator=n,this.initialize()}return __extends(e,t),e.prototype.initialize=function(){this.mediator.on("clock-update",this.update,this)},e.prototype.update=function(t){var e=this.el.find(".time .digital"),n=this.el.find(".date");e.text(t.format("HH:mm")),n.text(t.format("ddd Do MMM"))},e}(Simple.View);t.ClockView=e}(Views||(Views={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Views;!function(t){var e=function(t){function e(e,n){t.call(this,e),this.el=e,this.mediator=n,this.initialize()}return __extends(e,t),e.prototype.initialize=function(){this.mediator.on("weather-update",this.update,this),this.compileTemplate()},e.prototype.limitDescription=function(t){var e=t.split(" ");return e.length>2&&e.shift(),e.join(" ")},e.prototype.compileTemplate=function(){this.template=this._template.compile({".symbol i":function(t,e){return t.removeClass().addClass("wi").addClass(e.icon)},".temperature .val":function(t,e){return t.text(e.temperature)},".description":function(t,e){return t.text(e.description)},".rain .val":function(t,e){return t.text(e.percipitation)},".wind .val":function(t,e){return t.text(e.windSpeed)}})},e.prototype.update=function(t){this.template(t)},e}(Simple.View);t.WeatherView=e}(Views||(Views={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Views;!function(t){var e=function(t){function e(e){t.call(this,e),this.el=e}return __extends(e,t),e.prototype.autoscroll=function(t,e){var n=this;this.animation||(this.animation=function(){var r=-1*(t.height()-n.el.height());if(!(r>=0)){var i=-1*r/100*e;t.velocity({top:r},{duration:i,delay:1e3}).velocity({top:0},{duration:i/2,delay:1e3,complete:n.animation})}},this.animation())},e}(Simple.View);t.AutoScrollView=e}(Views||(Views={}));var Travel;!function(t){var e=function(){function t(){}return t.prototype.parseTravelData=function(t){return{line:t.MonitoredVehicleJourney.LineRef,destination:t.MonitoredVehicleJourney.DestinationName,direction:t.MonitoredVehicleJourney.DirectionRef,departure:moment(t.MonitoredVehicleJourney.MonitoredCall.ExpectedDepartureTime)}},t.prototype.getApiUrl=function(t){return"http://whateverorigin.org/get?url=http://reisapi.ruter.no/StopVisit/GetDepartures/"+t+"&callback=?"},t.prototype.getTravelData=function(t){var e=this;return $.getJSON(this.getApiUrl(t)).then(function(t){return JSON.parse(t.contents).filter(function(t){return t.MonitoredVehicleJourney.DirectionRef>0}).map(function(t){return e.parseTravelData(t)})})},t}();t.Ruter=e}(Travel||(Travel={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Views;!function(t){var e=function(t){function e(e,n){t.call(this,e),this.el=e,this.mediator=n,this.initialize()}return __extends(e,t),e.prototype.initialize=function(){this.mediator.on("travel-update",this.update,this),this.compileTemplate()},e.prototype.compileTemplate=function(){var t=new Simple.Template(function(){return $('<div class="row"><span class="col col-25 line">1</span><span class="col col-50 destination">Mortensrud</span ><span class="col col-25 departure">3 min</span ></div>')}).compile({".line":function(t,e){return t.text(e.line)},".destination":function(t,e){return t.text(e.destination)},".departure":function(t,e){var n=e.departure.diff(moment(),"seconds");return 420>n&&t.parent().addClass("urgent"),45>n?void t.text("N"):540>n?void t.text(e.departure.diff(moment(),"minutes")+" min"):void t.text("ca "+e.departure.format("HH:mm"))}});this.template=this._template.compile({".east":function(e,n){e.empty().append(n.east.map(function(e){return t(e)}))},".west":function(e,n){e.empty().append(n.west.map(function(e){return t(e)}))}})},e.prototype.update=function(t){this.template(t),this.autoscroll(this.el.find(".list"),3e3)},e}(t.AutoScrollView);t.TravelView=e}(Views||(Views={}));var Calendar;!function(t){var e=function(){function t(){}return t.prototype.parseEventData=function(t,e){var n=this,r=function(t,e){return t?e(t):""},i=r(e[1].filter(function(t){return"summary"===t[0]})[0],function(t){return t[3]}),o=r(e[1].filter(function(t){return"dtstart"===t[0]})[0],function(t){return moment(t[3])}),a=r(e[1].filter(function(t){return"dtend"===t[0]})[0],function(t){return moment(t[3])}),u=r(e[1].filter(function(t){return"rrule"===t[0]})[0],function(t){return n.parseRecurRule(t[3],o)});return{title:i,owner:t,start:o,end:a,recur:u}},t.prototype.parseRecurRule=function(t,e){var n={};return t.split(";").map(function(t){return t.split("=")}).forEach(function(t){switch(t[0]){case"FREQ":$.extend(n,{freq:window.RRule[t[1]]});break;case"INTERVAL":$.extend(n,{interval:parseInt(t[1])});break;case"BYDAY":$.extend(n,{byweekday:t[1].split(",").map(function(t){return window.RRule[t]})});break;case"UNTIL":$.extend(n,{until:moment(t[1]).toDate()});break;case"DTSTART":$.extend(n,{dtstart:moment(t[1]).toDate()});break;case"WKST":$.extend(n,{wkst:window.RRule[t[1]]})}}),n.dtstart||(n.dtstart=e.toDate()),n},t.prototype.shouldIncludeEvent=function(t,e){var n=!1;if(t.recur){var r=new window.RRule(t.recur);n=r.between(e.clone().startOf("day").toDate(),e.clone().endOf("day").toDate()).length>0}return t.start.isSame(e,"day")||t.end.isSame(e,"day")||n},t.prototype.getEventData=function(t,e){var n=this,r=t.map(function(t){return $.getJSON(t.url).then(function(e){return window.ICAL.parse(e.contents)[1][2].filter(function(t){return"vevent"===t[0]}).map(function(e){return n.parseEventData(t.owner,e)})})});return $.when.apply($,r).then(function(){var t=Query.fromArray([].concat.apply([],arguments));return{today:t.where(function(t){return n.shouldIncludeEvent(t,e)}).toArray(),tomorrow:t.where(function(t){return n.shouldIncludeEvent(t,e.clone().add(1,"day"))}).toArray()}})},t}();t.ICalCalendarProvider=e}(Calendar||(Calendar={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},Views;!function(t){var e=function(t){function e(e,n){t.call(this,e),this.el=e,this.mediator=n,this.initialize()}return __extends(e,t),e.prototype.initialize=function(){this.mediator.on("calendar-update",this.update,this),this.compileTemplate()},e.prototype.compileTemplate=function(){var t=new Simple.Template(function(){return $('<div class="row"><span class="col col-100"><span class="owner"></span><span class="time"><span class="start"></span> - <span class="end"></span></span><span class="title"></span></span></div>')}).compile({".time .start":function(t,e){return t.text(e.start.format("HH:mm"))},".time .end":function(t,e){return t.text(e.end.format("HH:mm"))},".title":function(t,e){return t.text(e.title)},".owner":function(t,e){return t.text(e.owner)}});this.template=this._template.compile({".today":function(e,n){e.empty().append(n.today.map(function(e){return t(e)}))},".tomorrow":function(e,n){e.empty().append(n.tomorrow.map(function(e){return t(e)}))}})},e.prototype.update=function(t){this.template(t),this.autoscroll(this.el.find(".list"),5e3)},e}(t.AutoScrollView);t.CalendarView=e}(Views||(Views={}));var ClockService=function(){function t(t){this.mediator=t,this.initialize()}return t.prototype.initialize=function(){this.mediator.on("tick-clock-trigger-update",this.triggerUpdate,this)},t.prototype.triggerUpdate=function(){this.mediator.trigger("clock-update",moment())},t}(),WeatherService=function(){function t(t,e,n,r){this.city=t,this.countryCode=e,this.weatherProvider=n,this.mediator=r,this.initialize()}return t.prototype.initialize=function(){this.mediator.on("tick-weather-trigger-update",this.triggerUpdate,this)},t.prototype.triggerUpdate=function(){var t=this;this.weatherProvider.getWeather(this.city,this.countryCode).then(function(e){return t.mediator.trigger("weather-update",e)})},t}(),EnvironmentService=function(){function t(t){this.mediator=t,this.currentChanged=!1,this.initialize()}return t.prototype.initialize=function(){this.currentEnvironment={timeOfDay:void 0,weather:void 0,season:void 0,sunrise:void 0,sunset:void 0,updated:void 0},this.mediator.on("weather-update",this.weatherUpdate,this),this.mediator.on("clock-update",this.clockUpdate,this)},t.prototype.setProperty=function(t,e){this.currentEnvironment[t]!==e&&(this.currentEnvironment[t]=e,this.currentChanged=!0,this.currentEnvironment.updated=moment())},t.prototype.isComplete=function(){for(var t in this.currentEnvironment)if(!this.currentEnvironment[t])return!1;return!0},t.prototype.getTimeOfDay=function(t,e,n){return e&&n?t.isBefore(e)||t.isAfter(n)?"night":"day":""},t.prototype.getSeason=function(t){var e=t.month();return 2===e||3===e||4===e?"spring":5===e||6===e||7===e?"summer":8===e||9===e||10===e?"fall":"winter"},t.prototype.weatherUpdate=function(t){this.setProperty("weather",t.main.toLowerCase()),this.setProperty("sunrise",t.sunrise),this.setProperty("sunset",t.sunset),this.triggerEnvironmentUpdate()},t.prototype.clockUpdate=function(t){this.setProperty("timeOfDay",this.getTimeOfDay(t,this.currentEnvironment.sunrise,this.currentEnvironment.sunset)),this.setProperty("season",this.getSeason(t)),this.triggerEnvironmentUpdate()},t.prototype.triggerEnvironmentUpdate=function(){this.currentChanged&&this.isComplete()&&(this.mediator.trigger("environment-update",this.currentEnvironment),this.currentChanged=!1)},t}(),noCacheUrl=function(t){var e=t,n=t.split("?");return n.length>1&&(e=n[0]),e+"?"+Math.random()};$(function(){{var t=new Simple.Events,e=new Weather.OpenWeatherMap("eee9d46aa90c56ff8b116ab88f2a5e3f"),n=new Timers.Scheduler(new Timers.TimerFactory,t),r=(new ClockService(t),new WeatherService("Oslo","NO",e,t),new EnvironmentService(t),new Updater.GitHubEventService("thrandre","InfoFrame",t)),i=(new Updater.AutoUpdater(t,r),new Views.UpdateView($(".update-info"),t),new Views.ClockView($(".clock"),t),new Views.WeatherView($(".weather"),t),new Travel.Ruter),o=(new Views.TravelView($(".travel"),t),new Calendar.ICalCalendarProvider);new Views.CalendarView($(".calendar"),t)}t.on("environment-update",function(t){return console.log(t)}),t.on("github-push",function(t){return console.log(t)}),t.on("autoUpdater-update",function(e){t.trigger("updateView-show",e),new Timers.Timer(function(){return window.location.href=noCacheUrl(window.location.href)}).start(moment(e.created).add("minutes",e.deployMinutes).diff(moment()),1)}),n.schedule("tick-github-update",3e5,!0),n.schedule("tick-background-load",36e5,!0),n.schedule("tick-background-render",1e4,!0),n.schedule("tick-clock-trigger-update",1e3,!0),n.schedule("tick-weather-trigger-update",6e5,!0),n.schedule("tick-autoUpdater-check",6e4,!0),n.schedule("bubble-flip",1e4,!1),window.SVG("clock").clock("100%").start();var a=new Timers.Timer(function(){return i.getTravelData("3010610").then(function(e){var n={east:Query.fromArray(e).where(function(t){return 1==t.direction}).where(function(t){return t.departure.add(5,"minutes")>moment()}).orderByAscending(function(t){return t.departure}).take(5).toArray(),west:Query.fromArray(e).where(function(t){return 2==t.direction}).where(function(t){return t.departure.add(5,"minutes")>moment()}).orderByAscending(function(t){return t.departure}).take(5).toArray()};t.trigger("travel-update",n)})});a.start(6e4),a.trigger();var u=[{owner:"Thomas",url:"http://whateverorigin.org/get?url=https://sharing.calendar.live.com/calendar/private/0ec5c5e9-a270-40ab-a244-581302314b18/f7dd211a-88b0-4a5e-a963-d807a40fe6a7/cid-5d3f62a70d427c52/calendar.ics&callback=?"},{owner:"Caroline",url:"http://whateverorigin.org/get?url=https://sharing.calendar.live.com/calendar/private/97ab575d-b24f-454c-adc7-8247e5218994/e676ed5e-dc22-425a-94e5-b2396e146762/cid-c2490ffbe195f761/calendar.ics&callback=?"}],s=new Timers.Timer(function(){return o.getEventData(u,moment()).then(function(e){return t.trigger("calendar-update",e)})});s.start(6e5),s.trigger()});